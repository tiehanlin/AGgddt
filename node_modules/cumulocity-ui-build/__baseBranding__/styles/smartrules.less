/* Smart Rules list */

.smart-rule-list-card{

  .card-header{
    .card-title{
      margin: 0;
      min-height: 40px;
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-align: center;
      -ms-flex-align: center;
      align-items: center;
      -webkit-box-pack: center;
      -ms-flex-pack: center;
      justify-content: center;
    }
  }

  .card-actions{
    .btn-collapse{
      display: none;
    }
  }

  .card-block{
    display: flex;
    flex-flow: column wrap;
    padding-top: 0;
  }


  .card-back .card-header-actions{
    display: none;
    background-color: @gray-medium-dark;
    color: white;
    .smart-list-icon-label > i{
      color: white;
    }
  }

  .smart-rule-description{
    order: 2;
    text-align: center;
    line-height: 1;
    .smart-rule-name{
      display: none;
    }
  }

  .smart-rule-state{
    width: auto;
    padding:20px 0 10px 0;
    order: 10;
    .list-icon{
      display: none;
    }
    .fa{
      font-size: 20px;
    }
  }

  .smart-rule-group-switch{
    order: 3;
    padding: 20px 0 0;
    >.c8y-switch{
      display: none;
    }
  }

  .smart-rule-children{
    -webkit-box-ordinal-group: 10;
    -ms-flex-order: 9;
    order: 9;
    width: 100%;
    .c8y-child-assets-selector {
      border: 1px solid @gray-lighter;
      .dropdown-menu.multiselect-container{
        width: 100%;
      }
    }
  }

  .card-actions-group{
    position: static;
  }

}



// show list as cards in mobile
@media(max-width: @screen-xs-max){
  .smart-rule-list-card{
    margin-bottom: @margin-base!important;

    .card-back .card-header-actions{
      display: flex;
      +.card-inner-scroll:before{
        display: block;
      }
    }
    .card-header{
      display: block;
      margin: 0 40px!important;
    }
    .card-actions{
      position: absolute!important;
      top:0;
      right: 0;
      width: auto;
    }

    .card-back.collapse{
      height: auto!important;
    }

    .smart-rule-details{
      height: calc(~'100% - 80px');
      .row{
        margin: 0;
      }
      .col-sm-3, .col-sm-9{
        width: 100%;
        padding: 0 @margin-sm;
      }
    }

  }
}



.interact-grid{
  .smart-rule-list-card{
    .card-header-actions{
      display: flex;
      +.card-inner-scroll:before{
        display: block;
      }
    }
    .collapse{
      //display: block;
      height: auto!important;
    }
    .smart-rule-details{
      height: calc(~'100% - 80px');
      //background-color: @gray-lighter;
      .row{
        margin: 0;
      }
      .col-sm-3, .col-sm-9{
        width: 100%;
        padding: 0 @card-padding;
      }
      .audit-list{
        margin: 0 -@card-padding;
        .table tr{
          td:first-child, th:first-child{
             padding-left: @card-padding;
          }
          td:last-child, th:last-child{
             padding-right: @card-padding;
          }
        }
      }
    }
    .card-actions.collapsible{
      width: 40px;
      + .card-header{
        margin: 0 40px;
        display: block;
      }
    }
  }
}


@media(min-width: @screen-sm-min){
  .interact-list{

    .smart-rule-list-card{
      border-bottom: 1px solid fade(black, 3%);
      background-color: white;
      padding-right: @margin-sm;
      &.active{
        background-color: @gray-lighter;
      }

      .card-header, .card-actions-group{
        display: none;
      }
      .card-header-actions+.card-inner-scroll:before{
        display: none;
      }

      .smart-rule-state{
        width: 60px;
        padding: 0;
        order:0;
        .list-icon{
          display: block;
        }
        .card-icon{
          display: none;
        }
      }

      .card-front, .card-back{
        .box-shadow(none);
        background-color: transparent;
        margin-bottom:0;
      }

      .card-block{
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -ms-flex-flow: row nowrap;
        flex-flow: row nowrap;
        padding: 0;
        min-height: (@margin-base * 3) - 1;
        >.smart-rule-name{
          display: none;
        }
      }

      .smart-rule-group-switch{
        order:0;
        padding: 0 10px;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
        -ms-flex-align: center;
        align-items: center;
        -webkit-box-flex: 0;
        -webkit-flex: 0 0 4%;
        -ms-flex: 0 0 4%;
        flex: 0 0 4%;
        min-width: 65px;
        .c8y-btn-checkbox{
          display: none;
        }
        .c8y-switch{
          display: block;
        }
      }

      .smart-rule-children{
        -webkit-box-flex: 0;
        -ms-flex: 0 0 145px;
        flex: 0 0 145px;
        -webkit-box-ordinal-group: 2;
        -ms-flex-order: 1;
        order: 1;
        position: relative;
        .fa-spin{
          position: absolute;
          left: 50%;
          margin-left: -14px;
          top: 14px;
        }
        >label{
          display: none;
        }
        .c8y-child-assets-selector .dropdown-menu.multiselect-container{
          min-width: 240px;
        }
      }

      .smart-list-icon-label{
          -webkit-box-ordinal-group: 3;
          -ms-flex-order: 2;
          order: 2;
          margin: 0 @margin-sm;
      }

      .smart-rule-description{
        -webkit-box-ordinal-group: 4;
        -ms-flex-order: 3;
        order: 3;
        text-align: left;
        .smart-rule-name{
          display: block;
        }
      }

      .card-actions{
        top: 10px;
        .btn-collapse{
          display: block;
        }
      }

      .card-back{
        position: static;
        -webkit-transform: none;
        transform: none;
        display: inherit;
        overflow: hidden;
        .smart-rule-details{
          max-height: none;
          background-color: transparent;
          overflow-y: visible;
          padding: 0 15px;
        }
      }

    }
    .smart-rules-list-head{
      display: -webkit-box;
      display: -webkit-flex;
      display: -ms-flexbox;
      display: flex;
    }
  }
}



.smart-rules-list-head{
  padding: 4px 0;
  margin: 0 @grid-gutter-width/2;
  display: none;
  -webkit-flex-flow: row wrap;
      -ms-flex-flow: row wrap;
          flex-flow: row wrap;
  border-bottom: 1px solid @table-border-color;
  width: 100%;
  >label{
    padding-left: @margin-sm;
  }
  .smart-rule-group{
    -webkit-box-flex: 0;
    -webkit-flex: 0 0 4%;
        -ms-flex: 0 0 4%;
            flex: 0 0 4%;
    min-width: 65px;
  }
  .smart-rule-children{
    -webkit-box-flex: 0;
    -webkit-flex: 0 0 10%;
        -ms-flex: 0 0 10%;
            flex: 0 0 10%;
    min-width: 145px;
  }

  .smart-rule-description{
    -webkit-box-flex: 0;
    -webkit-flex: 0 0 auto;
        -ms-flex: 0 0 auto;
            flex: 0 0 auto;
    max-width: calc(~'75% - 95px');
  }
}
