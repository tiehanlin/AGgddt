/* administration_connectivitySettings 8.7.2 2017-08-02T09:53:14+00:00 79d3e7d78638 (hotfix/8.7.2) tip */
!function(){"use strict";function n(n,t,e){n.addNavigation({parent:e("Settings"),name:e("Connectivity"),path:"connectivitySettings",icon:"plug",showIf:["c8yConnectivitySettings",function(n){return n.shouldShow()}]}),t.when("/connectivitySettings",{templateUrl:"administration_connectivitySettings/views/index.html"})}angular.module("c8y.parts.connectivitySettings",[]).config(["c8yNavigatorProvider","c8yViewsProvider","gettext",n])}(),function(){"use strict";function n(n,t,e,i,r,o,s,a){function c(){r.changeTitle({title:a("Connectivity settings")})}function l(t){var e=[],i=n[m][t]&&n[m][t].$error;if(i)return _.forEach(n[m][t].$error,function(n,i){n&&!_.isUndefined(f[i])&&("object"==typeof f&&f[i][t]?e.push(f[i][t]):e.push(f[i]))}),e.join(" ")}function d(t){n.connectivitySettings=t}function u(){return o.detail().then(d)}function v(n){return o.update(n)}function g(){var n=a("Connectivity credentials successfully updated");return s.success(n)}function p(){var n=a("Failed to connect using given credentials");return s.danger(n)}function y(n){return v(n).then(i.ping).then(function(n){var t=n&&200===n.status;t?g():p()},function(){p()})}var m="connectivitySettingsForm",f={required:a("This field is required!")},h=a("In order to see the 'Connectivity' tab in device details, the user needs to have 'Read' permission for 'Connectivity'. To change SIM card status and send text messages, the user needs to have 'Admin' permission for 'Connectivity'.");n.connectivitySettings={},n.invalid=angular.bind(e,e.invalid,n,m),n.updateCredentials=y,n.getValidationHints=l,n.tooltipText=h,c(),u()}angular.module("c8y.parts.connectivitySettings").controller("connectivitySettingsCtrl",["$scope","$q","c8yBase","c8yConnectivity","c8yTitle","c8yConnectivitySettings","c8yAlert","gettext",n])}(),function(){"use strict";function n(n){var t;t='<div ng-controller="connectivitySettingsCtrl">\r\n  <div class="col-lg-6 panel panel-clean">\r\n    <form class="form-horizontal" name="connectivitySettingsForm" novalidate>\r\n      <div class="form-group">\r\n        <label for="url" class="control-label" translate>\r\n          URL\r\n        </label>\r\n        <div ng-class="{\'has-error\': invalid(\'url\')}">\r\n          <input type="text" class="form-control" required name="url" id="url" ng-model="connectivitySettings.url" uib-tooltip="{{getValidationHints(\'url\') | translate}}" c8y-autocomplete="off">\r\n        </div>\r\n      </div>\r\n      <div class="form-group">\r\n        <label for="license" class="control-label" translate>\r\n          License key\r\n        </label>\r\n        <div ng-class="{\'has-error\': invalid(\'license\')}">\r\n          <input type="text" class="form-control" required name="license" id="license" ng-model="connectivitySettings.licenseKey" uib-tooltip="{{getValidationHints(\'license\') | translate}}" c8y-autocomplete="off">\r\n        </div>\r\n      </div>\r\n      <div class="form-group">\r\n        <label for="username" class="control-label" translate>\r\n          Username\r\n        </label>\r\n        <div ng-class="{\'has-error\': invalid(\'username\')}">\r\n          <input type="text" class="form-control" required name="username" id="username" ng-model="connectivitySettings.username" uib-tooltip="{{getValidationHints(\'username\') | translate}}" c8y-autocomplete="off">\r\n        </div>\r\n      </div>\r\n      <div class="form-group">\r\n        <label for="password" class="control-label" translate>\r\n          Password\r\n        </label>\r\n        <div ng-class="{\'has-error\': invalid(\'password\')}">\r\n          <input type="password" class="form-control" name="password" id="password" ng-model="connectivitySettings[\'credentials.password\']" uib-tooltip="{{getValidationHints(\'password\') | translate}}" c8y-autocomplete="off">\r\n        </div>\r\n      </div>\r\n\r\n      <div class="form-group">\r\n        <button type="submit" class="btn btn-primary" ng-click="updateCredentials(connectivitySettings)" ng-disabled="connectivitySettingsForm.$invalid||connectivitySettingsForm.$pristine" translate>\r\n          Save\r\n        </button>\r\n        <i c8y-icon="question-circle" tooltip-placement="right" uib-tooltip="{{tooltipText | translate}}"></i>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n',n.put("administration_connectivitySettings/views/index.html",t),n.put("/apps/administration/connectivitySettings/views/index.html",t)}angular.module("c8y.parts.connectivitySettings").run(["$templateCache",n])}();