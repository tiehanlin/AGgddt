/* demoboard_windmillDemo 8.7.2 2017-08-02T09:53:13+00:00 c1f802513a81 (hotfix/8.7.2) tip */
angular.module("c8y.demoboard.windmill",[]).config(["c8yComponentsProvider",function(e){"use strict";e.add({name:"Windmill Demo",description:"Allows for controlling a Windmill",templateUrl:"demoboard_windmillDemo/views/windmill.html",minCol:4})}]),angular.module("c8y.demoboard.windmill").controller("windmillCtrl",["$scope","$routeParams","c8yBase","c8yDeviceControl","c8yAlert",function(e,n,o,i,l){"use strict";function t(e,n){e.plc_Mode.mode=n;var o=_.cloneDeep(e);o.description="Configure windmill mode",_.isUndefined(o.plc_SpeedSetpoint)||delete o.plc_SpeedSetpoint,r(o)}function d(e,n){return e.plc_Mode.mode===n.value}function a(e,n){e.plc_SpeedSetpoint.speed=n;var o=_.cloneDeep(e);o.description="Configure windmill speed",_.isUndefined(o.plc_Mode)||delete o.plc_Mode,r(o)}function r(e){i.create(e).then(_.partial(l.success,"Windmill settings successfully sent to device!"))}function p(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}var s=n.deviceId,m={deviceId:s,description:"",plc_Mode:{mode:null},plc_SpeedSetpoint:{speed:null}},c=o.createEnum([{name:"OFF",value:"1"},{name:"MANUAL",value:"2"},{name:"AUTO",value:"3"}]);e.Modes=c,e.operation=m,e.setMode=t,e.isModeSet=d,e.setSpeedSetpoint=a,e.send=r,e.humanize=p,e.invalid=angular.bind(o,o.invalid,e,"windmillForm")}]),function(){"use strict";function e(e){var n;n='<div ng-controller="windmillCtrl">\n  <form name="windmillForm" role="form" novalidate>\n    <div class="row">\n      <div class="col-lg-8">\n        <div class="form-group">\n          <label>Windmill mode</label>\n          <div class="btn-group" style="margin-bottom:10px">\n            <button type="button" class="btn btn-default" ng-repeat="mode in Modes" ng-if="mode.value" ng-click="setMode(operation, mode.value)" ng-class="{active: isModeSet(operation, mode)}">\n              {{humanize(mode.name)}}\n            </button>\n          </div>\n        </div>\n        \n        <div class="form-group" ng-show="isModeSet(operation, Modes.MANUAL)" ng-class="{\'has-error\': invalid(\'speedSetpoint\')}">\n          <label for="speedSetpoint">Speed Setpoint</label>\n          <input type="number" class="form-control" id="speedSetpoint" name="speedSetpoint" ng-model="operation.plc_SpeedSetpoint.speed" min="0" max="100" ng-required="isModeSet(operation, Modes.MANUAL)">\n          <button class="btn btn-primary" type="button" ng-click="setSpeedSetpoint(operation, operation.plc_SpeedSetpoint.speed)" ng-disabled="!operation.plc_Mode.mode || windmillForm.$invalid">Set</button>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n',e.put("demoboard_windmillDemo/views/windmill.html",n),e.put("/apps/demoboard/windmillDemo/views/windmill.html",n)}angular.module("c8y.demoboard.windmill").run(["$templateCache",e])}();