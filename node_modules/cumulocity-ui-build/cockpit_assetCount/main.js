/* cockpit_assetCount 8.7.2 2017-08-02T09:53:16+00:00 820f9e1be195 (hotfix/8.7.2) tip */
!function(){"use strict";function t(t,e){t.add({name:"Asset count",description:e("Displays the number of devices which are online or have critical alarms"),templateUrl:"cockpit_assetCount/views/component.html",options:{noDeviceTarget:!0,noNewWidgets:!0},replaceWith:{component:"Html widget",config:["oldConfig",function(t){return{html:'<table class="table table-condensed available-assets">                   <tbody>                     <tr>                       <td>{{"Groups" | translate}}</td>                       <td class="text-right">{{deviceGroupsCount}}</td>                     </tr>                     <tr>                       <td>{{"Devices" | translate}}</td>                       <td class="text-right">{{devicesCount}}</td>                     </tr>                     <tr>                       <td>{{"Online" | translate}}</td>                       <td class="text-right">{{onlineCount}}</td>                     </tr>                     <tr>                       <td>{{"With critical alarms" | translate}}</td>                       <td class="text-right">{{criticalDevicesCount}}</td>                     </tr>                   </tbody>                 </table>'}}]}})}angular.module("c8y.cockpit.assetcount",[]).config(["c8yComponentsProvider","gettext",t])}(),function(){"use strict";function t(t,n,a,i){function r(){return t.getCount({fragmentType:e})}function s(){return n.getCount()}function c(){return n.list({pageSize:1e3}).then(function(t){return _.filter(t,function(t){return a.isDeviceAvailable(t)}).length})}function o(t){var e=1e3,n=i.status.ACTIVE;return i.list({severity:t,status:n,pageSize:e}).then(function(t){return _.reduce(t,function(t,e){var n=e.source.id;return t.indexOf(n)===-1&&t.push(n),t},[]).length})}function l(){return o(i.status.CRITICAL)}return{totalGroups:r,totalDevices:s,online:c,withCritical:l}}angular.module("c8y.cockpit.assetcount").factory("assetCount",["c8yInventory","c8yDevices","c8yDeviceStatus","c8yAlarms",t]);var e="c8y_IsDeviceGroup"}(),function(){"use strict";function t(t){function e(){t.totalGroups().then(_.partial(n,"totalgroups")),t.totalDevices().then(_.partial(n,"totaldevices")),t.online().then(_.partial(n,"online")),t.withCritical().then(_.partial(n,"criticalAlarms"))}function n(t,e){a[t]=e}var a=this;a.totalgroups="--",a.totaldevices="--",a.online="--",a.criticalAlarms="--",e()}angular.module("c8y.cockpit.assetcount").controller("AssetCount",["assetCount",t])}(),function(){"use strict";function t(t){var e;e='<table class="table table-condensed" ng-controller="AssetCount as vm" style="margin-bottom:0">\n  <tbody>\n    <tr>\n      <td translate>Groups</td>\n      <td class="text-right">{{vm.totalgroups}}</td>\n    </tr>\n    <tr>\n      <td translate>Devices</td>\n      <td class="text-right">{{vm.totaldevices}}</td>\n    </tr>\n    <tr>\n      <td translate>Online</td>\n      <td class="text-right">{{vm.online}}</td>\n    </tr>\n    <tr>\n      <td translate>With critical alarms</td>\n      <td class="text-right">{{vm.criticalAlarms}}</td>\n    </tr>\n  </tbody>\n</table>\n',t.put("cockpit_assetCount/views/component.html",e),t.put("/apps/cockpit/assetCount/views/component.html",e)}angular.module("c8y.cockpit.assetcount").run(["$templateCache",t])}();