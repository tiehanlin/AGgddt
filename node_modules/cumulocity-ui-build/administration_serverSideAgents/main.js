/* administration_serverSideAgents 8.7.2 2017-08-02T09:53:15+00:00 79d3e7d78638 (hotfix/8.7.2) tip */
!function(){"use strict";function e(e,n,t){e.addNavigation({parent:t("Settings"),name:t("Server-side agents"),path:"server-side-agents",icon:"server",showIf:["serverSideAgentsSvc",function(e){return e.isAnyServerSideAgentAvailable()}]}),n.when("/server-side-agents",{templateUrl:"administration_serverSideAgents/views/index.html"})}angular.module("c8y.serverSideAgents",[]).config(["c8yNavigatorProvider","c8yViewsProvider","gettext",e])}(),function(){"use strict";function e(e,n,t,i,r){function a(){o(),s()}function o(){i.loadOptions().then(function(n){e.options=n})}function s(){n.changeTitle({title:r("Server-side agents settings")})}function l(e){return i.saveOptions(e).then(angular.bind(t,t.success,r("Server-side agents settings saved successfully!")))}e.toggleTenantOption=i.toggleTenantOption,e.saveOptions=l,e.getTooltip=i.getTooltip,a()}angular.module("c8y.serverSideAgents").controller("ServerSideAgentsCtrl",["$scope","c8yTitle","c8yAlert","serverSideAgentsSvc","gettext",e])}(),function(){"use strict";function e(e,n,t){function i(){return e.all(_.map(g,function(e){return n.getSystemOptionValue(e.serverSideAgent,!1)})).then(function(e){return _.some(e)})}function r(){var n=_.cloneDeep(g);return e.all(_.map(n,a))}function a(n){return e.all([o(n),s(n)]).then(function(){return n})}function o(e){return n.getSystemOptionValue(e.serverSideAgent,!1).then(_.partial(l,e.serverSideAgent))}function s(e){return n.detailValue(e.tenantOption,!0).then(_.partial(l,e.tenantOption))}function l(e,n){e.value=n}function u(e){l(e,!e.value)}function d(n){return e.all(_.map(n,v))}function v(e){return n.updateOption(e.tenantOption)}function c(e){var n=null;return e.serverSideAgent.value||(n=t("Server-side agent is not available!")),n}var g=[{name:"sendDashboardsViaEmail",label:t('Enable "Send dashboard via e-mail" smart rule'),serverSideAgent:{category:"reportMailer",key:"available",value:null},tenantOption:{category:"sendDashboardsViaEmail",key:"enabled",value:null}}];return{isAnyServerSideAgentAvailable:i,loadOptions:r,toggleTenantOption:u,getTooltip:c,saveOptions:d}}angular.module("c8y.serverSideAgents").factory("serverSideAgentsSvc",["$q","c8ySettings","gettext",e])}(),function(){"use strict";function e(e){var n;n='<div ng-controller="ServerSideAgentsCtrl">\n  <div class="col-lg-12">\n    <form class="form-horizontal" name="serverSideAgentsOptionsForm" ng-submit="saveOptions(options)" novalidate>\n      <div class="form-group" ng-repeat="option in options">\n        <div class="checkbox">\n          <label uib-tooltip="{{getTooltip(option) | translate}}">\n            <input type="checkbox" ng-click="toggleTenantOption(option.tenantOption)" ng-checked="option.serverSideAgent.value && option.tenantOption.value" ng-disabled="!option.serverSideAgent.value"/>\n            <translate ng-bind="option.label | translate"></translate>\n          </label>\n        </div>\n      </div>\n      <div class="form-group" ng-show="options">\n        <button type="submit" class="btn btn-primary" ng-disabled="serverSideAgentsOptionsForm.$invalid" translate>Save</button>\n      </div>\n    </form>\n  </div>\n</div>\n',e.put("administration_serverSideAgents/views/index.html",n),e.put("/apps/administration/serverSideAgents/views/index.html",n)}angular.module("c8y.serverSideAgents").run(["$templateCache",e])}();