/* core_billing 8.7.2 2017-08-02T09:53:47+00:00 e22b35b1d531 (hotfix/8.7.2) tip */
!function(){"use strict";function n(n,t,r,a,l,i,o,s){var c=t.absUrl(),d=c.match(/^https?\:\/\/(?!dev\-[a-z]).*cumulocity\.com/),u=a.BILLWERKJS_SCRIPTS[d?"production":"sandbox"],m=document.createElement("script");m.src=u,document.head.appendChild(m),n.$on("$routeChangeSuccess",function(){_.includes(t.path(),"/billing")||(_.includes(t.absUrl(),"billing-finalize-upgrade=true")?l.finalizeInteractivePayment().then(function(){return o.open({component:"upgradeToStandardEditionWizard",resolve:{initialFlow:_.constant(["success"]),contractInfo:i.getContract()}}).result},function(n){return o.open({component:"upgradeToStandardEditionWizard",resolve:{initialFlow:_.constant(["failure"]),errorData:n}}).result}).finally(function(){setTimeout(function(){window.history.replaceState({},"",window.location.href.replace(/\?.*$/,"#/billing")),window.location.reload()},500)}):_.includes(t.absUrl(),"billing-finalize-payment-method-change=true")&&l.finalizeInteractivePayment().then(function(){s.success(e("Payment method has been successfully changed!"))},function(n){s.danger(n.errorMessage,n)}).finally(function(){setTimeout(function(){window.history.replaceState({},"",window.location.href.replace(/\?.*$/,"#/billing")),window.location.reload()},3e3)}))})}n.$inject=["$rootScope","$location","$timeout","billingConstants","paymentGatewaySvc","customerBillingSvc","c8yWizardModal","c8yAlert"];var e=_.identity;angular.module("c8y.customerBilling",[]).constant("billingConstants",{BILLWERKJS_SCRIPTS:{sandbox:"//sandbox.billwerk.com/selfService/billwerkjS",production:"//app.billwerk.com/selfService/billwerkjS"},PAYMENT_CONFIG:{publicApiKey:"58d50f6414aa010288580373"},TITLE:e("Account")}).run(n)}(),function(){"use strict";function n(){function n(n,e,t,r){var a=n.when(!1);return e.getFlag("beta")&&(a=t.hasAllRoles(["ROLE_ACCOUNT_ADMIN"]).then(function(e){return e?r.hasContract():n.when(!1)})),a}return n.$inject=["$q","c8yBase","c8yPermissions","customerBillingSvc"],{$get:n,showIf:n}}function e(n,e,t,r){e.addNavigation({name:t("Account"),parent:t("Tenants"),icon:"briefcase",priority:1e3,path:"billing",showIf:r.showIf}),n.when("/billing",{template:"<customer-billing />"})}function t(n,e){function t(){var e=_.get(window,"c8y.collections.properties.tenants.properties.customProperties.properties");e.billwerkPlan={title:n("Payment plan"),type:"string",readonly:!0},e.billwerkContractId={title:n("Payment contract ID"),type:"string",readonly:!0}}e.then(function(n){n&&t()})}e.$inject=["c8yViewsProvider","c8yNavigatorProvider","gettext","showBillingProvider"],t.$inject=["gettext","showBilling"],angular.module("c8y.customerBilling").provider("showBilling",n).run(t).config(e)}(),function(){"use strict";function n(n,e,t){function r(){var e=u+"/selfServiceToken";return n.get(e).then(_.property("data.Token"))}function a(){var t=d+"/productinfo";return n.get(t).then(e.getResData)}function l(){return n.get(u,{silentError:!0}).then(e.getResData,_.constant(!1)).then(_.constant(!0),_.constant(!1))}function i(){return n.get(u).then(e.getResData)}function o(){var e=u+"/end";return n.post(e,{})}function s(t){var r=m;return n.post(r,t).then(e.getResData)}function c(){var t=p;return n.get(t).then(e.getResData)}var d=e.url("service/billwerk"),u=d+"/contract",m=d+"/orders",p=d+"/invoices",g=e.createEnum([{name:"TRIAL",value:"trial-tenant",label:t("Trial Edition"),trial:!0,icon:"c8y-icon c8y-icon-c8y",upgradableTo:["STANDARD","ENTERPRISE"]},{name:"STANDARD",value:"standard-tenant",label:t("Standard Edition"),trial:!1,icon:"c8y-icon c8y-icon-c8y-engine",upgradeButtonLabel:t("Upgrade to Standard Edition"),features:[t("&euro;3 per device per month"),t("50 MB storage per device"),t("5000 requests per device per month"),t("Cloud SaaS deployment")],upgradableTo:["ENTERPRISE"]},{name:"ENTERPRISE",value:"enterprise-tenant",label:t("Enterprise Edition"),trial:!1,icon:"c8y-icon c8y-icon-enterprise",upgradeButtonLabel:t("Upgrade to Enterprise Edition"),features:["TBD: Some features of Enterprise Edition","TBD: &euro;3 per device per month","TBD: 50 MB storage per device","TBD: 5000 requests per device per month","TBD: Cloud SaaS deployment"],upgradableTo:[]}]);return{PLAN_VARIANTS:g,getUserToken:r,getProductsInfo:a,hasContract:l,getContract:i,endContract:o,placeOrder:s,getInvoices:c}}n.$inject=["$http","c8yBase","gettext"],angular.module("c8y.customerBilling").factory("customerBillingSvc",n)}(),function(){"use strict";function n(n,e,t,r,a,l,i,o,s,c,d,u,m){function p(){g(),v()}function g(){o.getContract().then(function(n){x.contractInfo=n})}function v(){r.changeTitle({title:c.TITLE})}function f(){var n=x.contractInfo.Customer;s.updateCustomerData(n).then(function(){a.success(i("Customer data is successfully updated"))},function(n){b(n)})}function y(){var n={title:i("Are you sure?"),body:i("Do you want to close your account?"),status:"danger"};return d(n).then(o.cancelContract).then(function(){a.success(i("Your account has been closed!"))})}function h(){var n=x.contractInfo.Customer,e=x.contractInfo.Contract.PaymentBearer,t={planVariantId:"58e21d7c14a9ff1508f5350f"};s.createNewPlanOrder(t,n,e).then(function(){a.success(i("Your account is successfully upgraded"))},function(n){b(n)})}function b(n){a.danger(i("Could not complete the operation!"),n)}function C(){return d({templateUrl:"core_billing/upgradeToEnterprise/upgradeToEnterprise.html"})}function w(){return d({templateUrl:"core_billing/billingInfoEditor/editCustomerBillingInfo.html",scope:n})}function D(){return m.open({component:"upgradeToStandardEditionWizard",resolve:{contractInfo:_.constant(x.contractInfo)}}).result}function A(n){s.changePaymentMethod(n).then(g).then(function(){a.success(i("Payment method has been successfully changed!"))}).catch(b)}var x=this;_.assign(x,{$onInit:p,updateCustomerContractInfo:f,updateCustomerPlan:h,cancelCustomerContract:y,createUpgradeToEnterpriseModal:C,editBillingInfoModal:w,createUpgradeToStandardModal:D,changePaymentMethod:A})}n.$inject=["$scope","$timeout","$q","c8yTitle","c8yAlert","c8yBase","gettext","customerBillingSvc","paymentGatewaySvc","billingConstants","c8yModal","$uibModal","c8yWizardModal"],angular.module("c8y.customerBilling").component("customerBilling",{controller:n,controllerAs:"vm",templateUrl:"core_billing/customerBilling.html"})}(),function(){"use strict";function n(n,e,t,r){function a(n){_.get(n,"contractInfo.currentValue")&&l(s.contractInfo)}function l(e){n.getProductsInfo().then(function(t){var r,a,l,i=e.CurrentPhase,o=_.last(e.Phases),c=e.PlanVariantId;"Inactive"!==o.Type&&(c=o.PlanVariantId);var d=_.find(t.PlanVariants,{Id:c}),u=!0;"Trial"===i.Type&&"Normal"===o.Type?(a=o.StartDate,l=moment(a).diff(moment(),"days")):"Inactive"===o.Type?(r=o.StartDate,u=!1,l=moment(r).diff(moment(),"days")):"Normal"===o.Type&&(a=o.StartDate);var m=_.find(n.PLAN_VARIANTS.values(),{value:d.ExternalId});s.currentPlan=_.assign(d,m),s.plansAvailableForUpgrade=_.filter(n.PLAN_VARIANTS.values(),function(n){return _.includes(s.currentPlan.upgradableTo,n.name)}),s.daysLeftInTrial=l,s.canCloseAccount=u,s.normalPhaseStartDate=a,s.inactivePhaseStartDate=r})}function i(n){var e="onCreateUpgradeTo"+_.startCase(_.toLower(n.name))+"Modal";s[e]()}function o(){var a={title:r("Are you sure?"),body:r("Do you want to close your account?"),status:"danger"};return e(a).then(n.endContract).then(function(){t.success(r("Your account will be closed at the end of current billing period!"))})}var s=this;_.assign(s,{$onChanges:a,upgradeToPlan:i,closeAccount:o})}n.$inject=["customerBillingSvc","c8yModal","c8yAlert","gettext"],angular.module("c8y.customerBilling").component("plansOverviewWidget",{controller:n,controllerAs:"vm",templateUrl:"core_billing/plansOverview/plansOverviewWidget.html",bindings:{contractInfo:"<",onCreateUpgradeToStandardModal:"&?",onCreateUpgradeToEnterpriseModal:"&?"}})}(),function(){"use strict";function n(n,e,t,r,a,l,i,o,s){function c(n){_.get(n,"contractInfo.currentValue")&&(m.Customer=m.contractInfo.Customer,u(_.get(m,"Customer.Address.Country")))}function d(){return m.toUpdateCustomer=_.cloneDeep(m.Customer),l({templateUrl:"core_billing/billing/editCustomerInfoModal.html",scope:t}).then(function(){a.updateCustomerData(m.toUpdateCustomer).then(function(){i.success(s("Customer data is successfully updated")),m.Customer=m.toUpdateCustomer,u(_.get(m,"Customer.Address.Country"))}).catch(function(n){console.info(n)})})}function u(e){return _.isUndefined(e)?n.when():o.get({cca2:e}).then(function(n){m.customerCountry=_.get(n,"commonName")})}var m=this;_.assign(m,{$onChanges:c,initialized:!1,onEditBillingInfoModal:e.onEditBillingInfoModal?m.onEditBillingInfoModal:d})}n.$inject=["$q","$attrs","$scope","$interval","paymentGatewaySvc","c8yModal","c8yAlert","c8yCountriesService","gettext"],angular.module("c8y.customerBilling").component("billingInformationWidget",{controller:n,controllerAs:"vm",templateUrl:"core_billing/billing/billingInformationWidget.html",bindings:{contractInfo:"<",onEditBillingInfoModal:"&?"}})}(),function(){"use strict";function n(n,e){function t(){e.getAll().then(function(n){a.countries=n,_.set(a,"selectedCountry",_.find(n,{cca2:_.get(a,"customer.Address.Country")}))})}function r(){_.set(a,"customer.Address.Country",_.get(a,"selectedCountry.cca2"))}var a=this;_.assign(a,{$onInit:t,onCountrySelectionChanged:r})}n.$inject=["$scope","c8yCountriesService"],angular.module("c8y.customerBilling").component("editCustomerInfo",{templateUrl:"core_billing/billing/editCustomerInfo.html",bindings:{customer:"="},controller:n,controllerAs:"vm"})}(),function(){"use strict";function n(n,e){function t(n){_.get(n,"contractInfo.currentValue")&&r(s.contractInfo)}function r(e){s.isTrial=n.isInTrial(e),s.paymentBearer=_.get(e,"PaymentBearer"),s.currentDunning=_.get(e,"currentDunning")}function a(){return l().then(i)}function l(){return e.open({component:"paymentMethodModal"}).result}function i(n){s.onPaymentMethodChange({paymentData:n})}function o(n){var e=s.contractInfo||s.paymentBearer?_.assign({},s.contractInfo,s.paymentBearer):s.paymentData;return _.get(e,"PaymentProvider")===n.paymentBearerReceived||_.get(e,"Type")===n.paymentBearerReceived||_.get(e,"bearer")===n.paymentBearerSent}var s=this;_.assign(s,{PAYMENT_METHODS:n.PAYMENT_METHODS,$onChanges:t,change:a,isPaymentMethodSelected:o})}n.$inject=["paymentGatewaySvc","$uibModal"],angular.module("c8y.customerBilling").component("paymentMethodWidget",{bindings:{contractInfo:"<",onPaymentMethodChange:"&"},templateUrl:"core_billing/billing/paymentMethodWidget.html",controller:n,controllerAs:"vm"})}(),function(){"use strict";function n(){function n(){e.paymentData={}}var e=this;_.assign(e,{$onInit:n})}angular.module("c8y.customerBilling").component("paymentMethodModal",{templateUrl:"core_billing/billing/paymentMethodModal.html",bindings:{modalInstance:"<"},controller:n,controllerAs:"vm"})}(),function(){"use strict";function n(n,e){function t(){i.paymentData=i.paymentData||{},r(o)}function r(n){var e=(new Date).getFullYear();i.years=_.range(e,e+n+1),i.months=_.map(_.range(1,13),function(n){return _.padStart(n,2,"0")})}function a(n){if(i.creditCardForm){var e=n[0],t=n[1],r=PaymentJS.fns.validateCardExpiry(e,t);i.creditCardForm.expiry.$setValidity("cardExpiry",r)}}function l(n){n&&_.forEach(e.PAYMENT_METHODS.values(),function(e){n[e.name]&&(i.selectedPaymentType=e,i.paymentData.bearer=e.paymentBearerSent)})}var i=this,o=10;_.assign(i,{$onInit:t,PAYMENT_METHODS:e.PAYMENT_METHODS}),n.$watchGroup(["vm.paymentData.expiryMonth","vm.paymentData.expiryYear"],a),n.$watch("vm.openPaymentTypes",l,!0)}n.$inject=["$scope","paymentGatewaySvc"],angular.module("c8y.customerBilling").component("paymentMethodForm",{templateUrl:"core_billing/billing/paymentMethodForm.html",controller:n,controllerAs:"vm",bindings:{paymentData:"="}})}(),function(){"use strict";function n(n,e,t){function r(n){n.contractInfo&&d.contractInfo&&a(d.contractInfo)}function a(e){return n.all({contractStartDate:l(e),contractCurrency:i(e),inTrial:o(e),invoices:s()}).then(function(n){_.assign(d,n)})}function l(n){return _.get(n,"StartDate")}function i(n){return _.get(n,"Currency")}function o(n){return"InTrial"===_.get(n,"LifecycleStatus")}function s(){return t.getInvoices().then(function(e){return n.all(_.map(e,c))})}function c(n){return e.generateInvoiceDownloadLink(n).then(function(e){return n.downloadLink=e,n})}var d=this;_.assign(d,{$onChanges:r})}n.$inject=["$q","paymentGatewaySvc","customerBillingSvc"],angular.module("c8y.customerBilling").component("billingHistoryWidget",{controller:n,controllerAs:"vm",templateUrl:"core_billing/billing/billingHistoryWidget.html",bindings:{contractInfo:"<"}})}(),function(){"use strict";function n(n){function e(){var n=g();return!!_.get(n,"PaymentProvider")||!!_.get(n,"Type")||!!_.get(n,"bearer")}function t(){return p(n.PAYMENT_METHODS.CREDIT_CARD)}function r(){var n=g(),e=_.get(n,"CardType")||PaymentJS.fns.cardType(_.get(n,"cardNumber"));return e?"cc-"+_.toLower(e):"cc"}function a(){var n=g();return _.get(n,"Last4")||_.get(n,"cardNumber","").slice(-4)}function l(){var n=g(),e=_.get(n,"ExpiryMonth")||_.get(n,"expiryMonth"),t=_.get(n,"ExpiryYear")||_.get(n,"expiryYear");return e+"/"+t}function i(){return p(n.PAYMENT_METHODS.PAY_PAL)}function o(){var n=g();return _.get(n,"EmailAddress")||_.get(n,"emailAddress")}function s(){return p(n.PAYMENT_METHODS.INVOICE)}function c(){return p(n.PAYMENT_METHODS.DIRECT_DEBIT)}function d(){var n=g();return _.get(n,"Holder")||_.get(n,"accountHolder")}function u(){var n=g();return _.get(n,"IBAN")||_.get(n,"iban")}function m(){var n=g();return _.get(n,"BIC")||_.get(n,"bic")}function p(n){var e=g(),t=_.get(e,"PaymentProvider")===n.paymentBearerReceived,r=_.get(e,"Type")===n.paymentBearerReceived,a=_.includes(_.get(e,"bearer"),n.paymentBearerSent);return t||r||a}function g(){var n;return(v.contractInfo||v.paymentBearer)&&(n=_.assign({},v.contractInfo,v.paymentBearer)),v.paymentData&&(n=v.paymentData),n}var v=this;_.assign(v,{isSelected:e,isCreditCard:t,creditCardIcon:r,creditCardLast4:a,creditCardExpirationDate:l,isPayPal:i,payPalIcon:_.constant(n.PAYMENT_METHODS.PAY_PAL.icon),payPalEmailAddress:o,isInvoice:s,invoiceIcon:_.constant(n.PAYMENT_METHODS.INVOICE.icon),isDirectDebit:c,directDebitIcon:_.constant(n.PAYMENT_METHODS.DIRECT_DEBIT.icon),directDebitHolder:d,directDebitIBAN:u,directDebitBIC:m})}n.$inject=["paymentGatewaySvc"],angular.module("c8y.customerBilling").component("paymentMethodSummary",{bindings:{contractInfo:"<?",paymentBearer:"<?",paymentData:"<?"},templateUrl:"core_billing/paymentMethodSummary.html",controller:n,controllerAs:"vm"})}(),function(){"use strict";angular.module("c8y.customerBilling").component("upgradeToStandardEditionWizard",{bindings:{modalInstance:"<",resolve:"<"},templateUrl:"core_billing/upgradeToStandard/upgradeToStandardEditionWizard.html",controllerAs:"vm"})}(),function(){"use strict";function n(){function n(n){_.get(n,"prefilledCustomerData.currentValue")&&_.set(e.wizardCtrl.data,"customerData",_.cloneDeep(e.prefilledCustomerData))}var e=this;_.assign(e,{$onChanges:n})}angular.module("c8y.customerBilling").component("customerDataStep",{require:{wizardCtrl:"^c8yWizardStep"},bindings:{prefilledCustomerData:"<"},templateUrl:"core_billing/upgradeToStandard/customerDataStep.html",controller:n,controllerAs:"vm"})}(),function(){"use strict";angular.module("c8y.customerBilling").component("paymentDataStep",{require:{wizardCtrl:"^c8yWizardStep"},templateUrl:"core_billing/upgradeToStandard/paymentDataStep.html",controllerAs:"vm"})}(),function(){"use strict";function n(n){function e(){var e=t.wizardCtrl.data;t.placingOrderInProgress=!0,n.upgradeToStandardPlan(e.customerData,e.paymentData).then(function(){t.wizardCtrl.goTo("success")}).finally(function(){t.placingOrderInProgress=!1})}var t=this;_.assign(t,{placingOrderInProgress:!1,placeOrder:e})}n.$inject=["paymentGatewaySvc"],angular.module("c8y.customerBilling").component("placeOrderStep",{require:{wizardCtrl:"^c8yWizardStep"},templateUrl:"core_billing/upgradeToStandard/placeOrderStep.html",controller:n,controllerAs:"vm"})}(),function(){"use strict";angular.module("c8y.customerBilling").component("confirmPlanUpgrade",{bindings:{upgradeData:"<"},templateUrl:"core_billing/upgradeToStandard/confirmPlanUpgrade.html",controllerAs:"vm"})}(),function(){"use strict";function n(){return{require:"ngModel",link:function(n,e,t,r){r.$validators.vatId=function(n,e){var t=n||e||"";return BillwerkJS.validateVatId(t)}}}}angular.module("c8y.customerBilling").directive("vatId",n)}(),function(){"use strict";function n(){return{require:"ngModel",link:function(n,e,t,r){r.$validators.cardNumber=function(n,e){var t=n||e;return PaymentJS.fns.validateCardNumber(t)}}}}angular.module("c8y.customerBilling").directive("cardNumber",n)}(),function(){"use strict";function n(){return{require:"ngModel",link:function(n,e,t,r){r.$validators.cardCvc=function(n,e){var t=n||e;return PaymentJS.fns.validateCardCVC(t)}}}}angular.module("c8y.customerBilling").directive("cardCvc",n)}(),function(){"use strict";function n(){return{require:"ngModel",link:function(n,e,t,r){r.$validators.iban=function(n,e){var t=n||e;return IBAN.isValid(t)}}}}angular.module("c8y.customerBilling").directive("iban",n)}(),function(){"use strict";function n(){var n=/^[A-Z]{6}[A-Z0-9]{2}([A-Z0-9]{3})?$/;return{require:"ngModel",link:function(e,t,r,a){a.$validators.bic=function(e,t){var r=e||t;return n.test(r)}}}}angular.module("c8y.customerBilling").directive("bic",n)}(),function(){"use strict";function n(n,e,t,r,a,l,i){function o(){return o.promise||(o.promise=e.getUserToken().then(function(n){var e;try{e=new BillwerkJS.Portal(n)}catch(n){C(n)}return e})),n.when(o.promise)}function s(){return u({providerReturnUrl:d()+"?billing-finalize-upgrade=true"})}function c(){return u({providerReturnUrl:d()+"?billing-finalize-payment-method-change=true"})}function d(){return window.location.protocol+"//"+window.location.host+window.location.pathname}function u(e){var r=_.defaults(e,t.PAYMENT_CONFIG);return n(function(n,e){var t;try{t=new BillwerkJS.Payment(r,function(){n(t)},e)}catch(n){C(n)}})}function m(e){return n.all({customerPortal:o(),paymentService:c()}).then(function(t){return n(function(n,r){try{t.customerPortal.paymentChange(t.paymentService,e,n,r)}catch(n){r(n.message)}}).then(function(e){var t=n.resolve(e);return _.get(e,"Url")&&(window.location.href=e.Url,t=n.reject()),t}).catch(C)})}function p(e){return o().then(function(t){return n(function(n,r){try{t.customerChange(e,n,r)}catch(n){r(n.message)}})})}function g(e,t,r){return n(function(n,a){try{var l=new BillwerkJS.Signup;l.createOrder(e,t,function(e){y(r,e).then(function(){n()})},function(n){a(n)})}catch(n){a(n.message)}})}function v(t,r){return n.all([p(t)]).then(e.getProductsInfo).then(function(n){var e=_.find(n.PlanVariants,{ExternalId:"standard-tenant"});return{Cart:{PlanVariantId:e.Id}}}).then(e.placeOrder).then(function(n){return _.set(n,"OrderId",n.Id),y(r,n)}).then(function(e){var t=n.resolve(e);return _.get(e,"Url")&&(window.location.href=e.Url,t=n.reject()),t}).catch(C)}function f(){return n(function(n,e){try{BillwerkJS.finalize(n,e)}catch(n){C(n)}})}function y(e,t){return n.all({customerPortal:o(),paymentService:s()}).then(function(r){return n(function(n,a){try{r.customerPortal.upgradePayInteractive(r.paymentService,e,t,n,a)}catch(n){a(n.message)}})})}function h(n){return o().then(function(e){var t="";try{t=e.invoicePdfDownloadUrl(n)}catch(n){C(n)}return t})}function b(n){var e=n.CurrentPhase,t=_.last(n.Phases);return"Trial"===e.Type&&"Normal"!==t.Type}function C(n){console.log(n);var e=n.message||n.errorMessage;a.danger(i.getString("Error occurred: {{message}}",{message:e}))}var w=r.createEnum([{name:"CREDIT_CARD",label:l("Credit card"),icon:"credit-card",paymentBearerSent:"CreditCard:FakePSP",paymentBearerReceived:"CreditCard"},{name:"INVOICE",label:l("Invoice"),icon:"money",paymentBearerSent:"InvoicePayment",paymentBearerReceived:"InvoicePayment"},{name:"DIRECT_DEBIT",label:l("Direct debit"),icon:"keyboard-o",paymentBearerSent:"Debit:FakePSP",paymentBearerReceived:"BankAccount"}]);return{PAYMENT_METHODS:w,changePaymentMethod:m,createNewPlanOrder:g,upgradeToStandardPlan:v,finalizeInteractivePayment:f,updateCustomerData:p,generateInvoiceDownloadLink:h,isInTrial:b}}n.$inject=["$q","customerBillingSvc","billingConstants","c8yBase","c8yAlert","gettext","gettextCatalog"],angular.module("c8y.customerBilling").factory("paymentGatewaySvc",n)}(),function(){"use strict";function n(n,e,t){function r(){return e.get(o).then(t.getResData)}function a(){return _.isUndefined(i)?r().then(function(n){return i=n}):n.when(i)}function l(n){return a().then(function(e){return _.find(e,n)})}var i,o="core_billing/resources/extracted.countries.json";return{getAll:a,get:l}}n.$inject=["$q","$http","c8yBase"],angular.module("c8y.customerBilling").factory("c8yCountriesService",n)}(),function(n,e){"function"==typeof define&&define.amd?define(["exports"],e):e("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:n.IBAN={})}(this,function(n){function e(n){return n=n.toUpperCase(),n=n.substr(4)+n.substr(0,4),n.split("").map(function(n){var e=n.charCodeAt(0);return e>=s&&e<=c?e-s+10:n}).join("")}function t(n){for(var e,t=n;t.length>2;)e=t.slice(0,9),t=parseInt(e,10)%97+t.slice(e.length);return parseInt(t,10)%97}function r(n){var e=n.match(/(.{3})/g).map(function(n){var e,t=n.slice(0,1),r=parseInt(n.slice(1),10);switch(t){case"A":e="0-9A-Za-z";break;case"B":e="0-9A-Z";break;case"C":e="A-Za-z";break;case"F":e="0-9";break;case"L":e="a-z";break;case"U":e="A-Z";break;case"W":e="0-9a-z"}return"(["+e+"]{"+r+"})"});return new RegExp("^"+e.join("")+"$")}function a(n){return n.replace(u,"").toUpperCase()}function l(n,e,t,r){this.countryCode=n,this.length=e,this.structure=t,this.example=r}function i(n){d[n.countryCode]=n}function o(n){return"string"==typeof n||n instanceof String}Array.prototype.map||(Array.prototype.map=function(n){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),t=e.length>>>0;if("function"!=typeof n)throw new TypeError;for(var r=new Array(t),a=arguments.length>=2?arguments[1]:void 0,l=0;l<t;l++)l in e&&(r[l]=n.call(a,e[l],l,e));return r});var s="A".charCodeAt(0),c="Z".charCodeAt(0);l.prototype._regex=function(){return this._cachedRegex||(this._cachedRegex=r(this.structure))},l.prototype.isValid=function(n){return this.length==n.length&&this.countryCode===n.slice(0,2)&&this._regex().test(n.slice(4))&&1==t(e(n))},l.prototype.toBBAN=function(n,e){return this._regex().exec(n.slice(4)).slice(1).join(e)},l.prototype.fromBBAN=function(n){if(!this.isValidBBAN(n))throw new Error("Invalid BBAN");var r=t(e(this.countryCode+"00"+n)),a=("0"+(98-r)).slice(-2);return this.countryCode+a+n},l.prototype.isValidBBAN=function(n){return this.length-4==n.length&&this._regex().test(n)};var d={};i(new l("AD",24,"F04F04A12","AD1200012030200359100100")),i(new l("AE",23,"F03F16","AE070331234567890123456")),i(new l("AL",28,"F08A16","AL47212110090000000235698741")),i(new l("AT",20,"F05F11","AT611904300234573201")),i(new l("AZ",28,"U04A20","AZ21NABZ00000000137010001944")),i(new l("BA",20,"F03F03F08F02","BA391290079401028494")),i(new l("BE",16,"F03F07F02","BE68539007547034")),i(new l("BG",22,"U04F04F02A08","BG80BNBG96611020345678")),i(new l("BH",22,"U04A14","BH67BMAG00001299123456")),i(new l("BR",29,"F08F05F10U01A01","BR9700360305000010009795493P1")),i(new l("CH",21,"F05A12","CH9300762011623852957")),i(new l("CR",22,"F04F14","CR72012300000171549015")),i(new l("CY",28,"F03F05A16","CY17002001280000001200527600")),i(new l("CZ",24,"F04F06F10","CZ6508000000192000145399")),i(new l("DE",22,"F08F10","DE89370400440532013000")),i(new l("DK",18,"F04F09F01","DK5000400440116243")),i(new l("DO",28,"U04F20","DO28BAGR00000001212453611324")),i(new l("EE",20,"F02F02F11F01","EE382200221020145685")),i(new l("ES",24,"F04F04F01F01F10","ES9121000418450200051332")),i(new l("FI",18,"F06F07F01","FI2112345600000785")),i(new l("FO",18,"F04F09F01","FO6264600001631634")),i(new l("FR",27,"F05F05A11F02","FR1420041010050500013M02606")),i(new l("GB",22,"U04F06F08","GB29NWBK60161331926819")),i(new l("GE",22,"U02F16","GE29NB0000000101904917")),i(new l("GI",23,"U04A15","GI75NWBK000000007099453")),i(new l("GL",18,"F04F09F01","GL8964710001000206")),i(new l("GR",27,"F03F04A16","GR1601101250000000012300695")),i(new l("GT",28,"A04A20","GT82TRAJ01020000001210029690")),i(new l("HR",21,"F07F10","HR1210010051863000160")),i(new l("HU",28,"F03F04F01F15F01","HU42117730161111101800000000")),i(new l("IE",22,"U04F06F08","IE29AIBK93115212345678")),i(new l("IL",23,"F03F03F13","IL620108000000099999999")),i(new l("IS",26,"F04F02F06F10","IS140159260076545510730339")),i(new l("IT",27,"U01F05F05A12","IT60X0542811101000000123456")),i(new l("KW",30,"U04A22","KW81CBKU0000000000001234560101")),i(new l("KZ",20,"F03A13","KZ86125KZT5004100100")),i(new l("LB",28,"F04A20","LB62099900000001001901229114")),i(new l("LC",32,"U04F24","LC07HEMM000100010012001200013015")),i(new l("LI",21,"F05A12","LI21088100002324013AA")),i(new l("LT",20,"F05F11","LT121000011101001000")),i(new l("LU",20,"F03A13","LU280019400644750000")),i(new l("LV",21,"U04A13","LV80BANK0000435195001")),i(new l("MC",27,"F05F05A11F02","MC5811222000010123456789030")),i(new l("MD",24,"U02A18","MD24AG000225100013104168")),i(new l("ME",22,"F03F13F02","ME25505000012345678951")),i(new l("MK",19,"F03A10F02","MK07250120000058984")),i(new l("MR",27,"F05F05F11F02","MR1300020001010000123456753")),i(new l("MT",31,"U04F05A18","MT84MALT011000012345MTLCAST001S")),i(new l("MU",30,"U04F02F02F12F03U03","MU17BOMM0101101030300200000MUR")),i(new l("NL",18,"U04F10","NL91ABNA0417164300")),i(new l("NO",15,"F04F06F01","NO9386011117947")),i(new l("PK",24,"U04A16","PK36SCBL0000001123456702")),i(new l("PL",28,"F08F16","PL61109010140000071219812874")),i(new l("PS",29,"U04A21","PS92PALS000000000400123456702")),i(new l("PT",25,"F04F04F11F02","PT50000201231234567890154")),i(new l("RO",24,"U04A16","RO49AAAA1B31007593840000")),i(new l("RS",22,"F03F13F02","RS35260005601001611379")),i(new l("SA",24,"F02A18","SA0380000000608010167519")),i(new l("SE",24,"F03F16F01","SE4550000000058398257466")),i(new l("SI",19,"F05F08F02","SI56263300012039086")),i(new l("SK",24,"F04F06F10","SK3112000000198742637541")),i(new l("SM",27,"U01F05F05A12","SM86U0322509800000000270100")),i(new l("ST",25,"F08F11F02","ST68000100010051845310112")),i(new l("TL",23,"F03F14F02","TL380080012345678910157")),i(new l("TN",24,"F02F03F13F02","TN5910006035183598478831")),i(new l("TR",26,"F05F01A16","TR330006100519786457841326")),i(new l("VG",24,"U04F16","VG96VPVG0000012345678901")),i(new l("XK",20,"F04F10F02","XK051212012345678906")),i(new l("AO",25,"F21","AO69123456789012345678901")),i(new l("BF",27,"F23","BF2312345678901234567890123")),i(new l("BI",16,"F12","BI41123456789012")),i(new l("BJ",28,"F24","BJ39123456789012345678901234")),i(new l("CI",28,"U01F23","CI17A12345678901234567890123")),i(new l("CM",27,"F23","CM9012345678901234567890123")),i(new l("CV",25,"F21","CV30123456789012345678901")),i(new l("DZ",24,"F20","DZ8612345678901234567890")),i(new l("IR",26,"F22","IR861234568790123456789012")),i(new l("JO",30,"A04F22","JO15AAAA1234567890123456789012")),i(new l("MG",27,"F23","MG1812345678901234567890123")),i(new l("ML",28,"U01F23","ML15A12345678901234567890123")),i(new l("MZ",25,"F21","MZ25123456789012345678901")),i(new l("QA",29,"U04A21","QA30AAAA123456789012345678901")),i(new l("SN",28,"U01F23","SN52A12345678901234567890123")),i(new l("UA",29,"F25","UA511234567890123456789012345"));var u=/[^a-zA-Z0-9]/g,m=/(.{4})(?!$)/g;n.isValid=function(n){if(!o(n))return!1;n=a(n);var e=d[n.slice(0,2)];return!!e&&e.isValid(n)},n.toBBAN=function(n,e){"undefined"==typeof e&&(e=" "),n=a(n);var t=d[n.slice(0,2)];if(!t)throw new Error("No country with code "+n.slice(0,2));return t.toBBAN(n,e)},n.fromBBAN=function(n,e){var t=d[n];if(!t)throw new Error("No country with code "+n);return t.fromBBAN(a(e))},n.isValidBBAN=function(n,e){if(!o(e))return!1;var t=d[n];return t&&t.isValidBBAN(a(e))},n.printFormat=function(n,e){return"undefined"==typeof e&&(e=" "),a(n).replace(m,"$1"+e)},n.electronicFormat=a,n.countries=d});var payment=function(n){function e(r){if(t[r])return t[r].exports;var a=t[r]={exports:{},id:r,loaded:!1};return n[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var t={};return e.m=n,e.c=t,e.p="",e(0)}([function(n,e,t){(function(e){var r,a,l,i,o,s,c,d,u,m,p,g,v,f,y,h,b,C,w,D,A,x,T,I,F=[].indexOf||function(n){for(var e=0,t=this.length;e<t;e++)if(e in this&&this[e]===n)return e;return-1};a=t(1),s=/(\d{1,4})/g,o=[{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[4],luhn:!0},{type:"dankort",pattern:/^5019/,format:s,length:[16],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:s,length:[16],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:s,length:[16],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:s,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"maestro",pattern:/^(5018|5020|5038|6304|6703|6708|6759|676[1-3])/,format:s,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^(5[1-5]|677189)|^(222[1-9]|2[3-6]\d{2}|27[0-1]\d|2720)/,format:s,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:s,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"visaelectron",pattern:/^4(026|17500|405|508|844|91[37])/,format:s,length:[16],cvcLength:[3],luhn:!0},{type:"elo",pattern:/^(4011|438935|45(1416|76|7393)|50(4175|6699|67|90[4-7])|63(6297|6368))/,format:s,length:[16],cvcLength:[3],luhn:!0},{type:"visa",pattern:/^4/,format:s,length:[13,16,19],cvcLength:[3],luhn:!0}],l=function(n){var e,t,r;for(n=(n+"").replace(/\D/g,""),t=0,r=o.length;t<r;t++)if(e=o[t],e.pattern.test(n))return e},i=function(n){var e,t,r;for(t=0,r=o.length;t<r;t++)if(e=o[t],e.type===n)return e},y=function(n){var e,t,r,a,l,i;for(l=!0,i=0,t=(n+"").split("").reverse(),r=0,a=t.length;r<a;r++)e=t[r],e=parseInt(e,10),(l=!l)&&(e*=2),e>9&&(e-=9),i+=e;return i%10===0},f=function(n){var e,t;try{if(null!=n.selectionStart&&n.selectionStart!==n.selectionEnd)return!0;if(null!=("undefined"!=typeof document&&null!==document&&null!=(t=document.selection)?t.createRange:void 0)&&document.selection.createRange().text)return!0}catch(n){e=n}return!1},h=function(n){return setTimeout(function(e){return function(){var e,t;return e=n.target,t=a.val(e),t=r.fns.formatCardNumber(t),a.val(e,t),a.trigger(e,"change")}}(this))},u=function(n){var e,t,r,i,o,s,c,d,u,m,p;if(t=String.fromCharCode(n.which),/^\d+$/.test(t)){for(d=n.target,p=a.val(d),e=l(p+t),s=(p.replace(/\D/g,"")+t).length,m=[16],e&&(m=e.length),r=i=0,o=m.length;i<o;r=++i)if(u=m[r],!(s>=u&&m[r+1])&&s>=u)return;if(!f(d))return c=e&&"amex"===e.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,c.test(p)?(n.preventDefault(),a.val(d,p+" "+t),a.trigger(d,"change")):void 0}},c=function(n){var e,t;if(e=n.target,t=a.val(e),!n.meta&&8===n.which&&!f(e))return/\d\s$/.test(t)?(n.preventDefault(),a.val(e,t.replace(/\d\s$/,"")),a.trigger(e,"change")):/\s\d?$/.test(t)?(n.preventDefault(),a.val(e,t.replace(/\s\d?$/,"")),a.trigger(e,"change")):void 0},m=function(n){var e,t,r;if(e=String.fromCharCode(n.which),/^\d+$/.test(e))return t=n.target,r=a.val(t)+e,/^\d$/.test(r)&&"0"!==r&&"1"!==r?(n.preventDefault(),a.val(t,"0"+r+" / "),a.trigger(t,"change")):/^\d\d$/.test(r)?(n.preventDefault(),a.val(t,r+" / "),a.trigger(t,"change")):void 0},v=function(n){var e,t,r;if(e=String.fromCharCode(n.which),/^\d+$/.test(e))return t=n.target,r=a.val(t)+e,/^\d$/.test(r)&&"0"!==r&&"1"!==r?(n.preventDefault(),a.val(t,"0"+r),a.trigger(t,"change")):/^\d\d$/.test(r)?(n.preventDefault(),a.val(t,""+r),a.trigger(t,"change")):void 0},p=function(n){var e,t,r;if(e=String.fromCharCode(n.which),/^\d+$/.test(e))return t=n.target,r=a.val(t),
/^\d\d$/.test(r)?(a.val(t,r+" / "),a.trigger(t,"change")):void 0},g=function(n){var e,t,r;if(e=String.fromCharCode(n.which),"/"===e)return t=n.target,r=a.val(t),/^\d$/.test(r)&&"0"!==r?(a.val(t,"0"+r+" / "),a.trigger(t,"change")):void 0},d=function(n){var e,t;if(!n.metaKey&&(e=n.target,t=a.val(e),8===n.which&&!f(e)))return/\d(\s|\/)+$/.test(t)?(n.preventDefault(),a.val(e,t.replace(/\d(\s|\/)*$/,"")),a.trigger(e,"change")):/\s\/\s?\d?$/.test(t)?(n.preventDefault(),a.val(e,t.replace(/\s\/\s?\d?$/,"")),a.trigger(e,"change")):void 0},x=function(n){var e;return!(!n.metaKey&&!n.ctrlKey)||(32===n.which?n.preventDefault():0===n.which||(n.which<33||(e=String.fromCharCode(n.which),/[\d\s]/.test(e)?void 0:n.preventDefault())))},C=function(n){var e,t,r,i;if(r=n.target,t=String.fromCharCode(n.which),/^\d+$/.test(t)&&!f(r))if(i=(a.val(r)+t).replace(/\D/g,""),e=l(i)){if(!(i.length<=e.length[e.length.length-1]))return n.preventDefault()}else if(!(i.length<=16))return n.preventDefault()},D=function(n,e){var t,r,l;if(r=n.target,t=String.fromCharCode(n.which),/^\d+$/.test(t)&&!f(r))return l=a.val(r)+t,l=l.replace(/\D/g,""),l.length>e?n.preventDefault():void 0},w=function(n){return D(n,6)},A=function(n){return D(n,2)},T=function(n){return D(n,4)},b=function(n){var e,t,r;if(t=n.target,e=String.fromCharCode(n.which),/^\d+$/.test(e)&&!f(t))return r=a.val(t)+e,r.length<=4?void 0:n.preventDefault()},I=function(n){var e,t,l,i,s;if(i=n.target,s=a.val(i),l=r.fns.cardType(s)||"unknown",!a.hasClass(i,l))return e=function(){var n,e,r;for(r=[],n=0,e=o.length;n<e;n++)t=o[n],r.push(t.type);return r}(),a.removeClass(i,"unknown"),a.removeClass(i,e.join(" ")),a.addClass(i,l),a.toggleClass(i,"identified","unknown"!==l),a.trigger(i,"payment.cardType",l)},r=function(){function n(){}return n.fns={cardExpiryVal:function(n){var e,t,r,a;return n=n.replace(/\s/g,""),r=n.split("/",2),e=r[0],a=r[1],2===(null!=a?a.length:void 0)&&/^\d+$/.test(a)&&(t=(new Date).getFullYear(),t=t.toString().slice(0,2),a=t+a),e=parseInt(e,10),a=parseInt(a,10),{month:e,year:a}},validateCardNumber:function(n){var e,t;return n=(n+"").replace(/\s+|-/g,""),!!/^\d+$/.test(n)&&(e=l(n),!!e&&(t=n.length,F.call(e.length,t)>=0&&(e.luhn===!1||y(n))))},validateCardExpiry:function(e,t){var r,l,i,o,s;return"object"==typeof e&&"month"in e?(o=e,e=o.month,t=o.year):"string"==typeof e&&F.call(e,"/")>=0&&(s=n.fns.cardExpiryVal(e),e=s.month,t=s.year),!(!e||!t)&&(e=a.trim(e),t=a.trim(t),!!/^\d+$/.test(e)&&(!!/^\d+$/.test(t)&&(e=parseInt(e,10),!!(e&&e<=12)&&(2===t.length&&(i=(new Date).getFullYear(),i=i.toString().slice(0,2),t=i+t),l=new Date(t,e),r=new Date,l.setMonth(l.getMonth()-1),l.setMonth(l.getMonth()+1,1),l>r))))},validateCardCVC:function(n,e){var t,r;return n=a.trim(n),!!/^\d+$/.test(n)&&(e&&i(e)?(t=n.length,F.call(null!=(r=i(e))?r.cvcLength:void 0,t)>=0):n.length>=3&&n.length<=4)},cardType:function(n){var e;return n?(null!=(e=l(n))?e.type:void 0)||null:null},formatCardNumber:function(n){var e,t,r,a;return(e=l(n))?(a=e.length[e.length.length-1],n=n.replace(/\D/g,""),n=n.slice(0,a),e.format.global?null!=(r=n.match(e.format))?r.join(" "):void 0:(t=e.format.exec(n),null!=t&&t.shift(),null!=t?t.join(" "):void 0)):n}},n.restrictNumeric=function(n){return a.on(n,"keypress",x)},n.cardExpiryVal=function(e){return n.fns.cardExpiryVal(a.val(e))},n.formatCardCVC=function(e){return n.restrictNumeric(e),a.on(e,"keypress",b),e},n.formatCardExpiry=function(e){var t,r;return n.restrictNumeric(e),e.length&&2===e.length?(t=e[0],r=e[1],this.formatCardExpiryMultiple(t,r)):(a.on(e,"keypress",w),a.on(e,"keypress",m),a.on(e,"keypress",g),a.on(e,"keypress",p),a.on(e,"keydown",d)),e},n.formatCardExpiryMultiple=function(n,e){return a.on(n,"keypress",A),a.on(n,"keypress",v),a.on(e,"keypress",T)},n.formatCardNumber=function(e){return n.restrictNumeric(e),a.on(e,"keypress",C),a.on(e,"keypress",u),a.on(e,"keydown",c),a.on(e,"keyup blur",I),a.on(e,"paste",h),e},n.getCardArray=function(){return o},n.setCardArray=function(n){return o=n,!0},n.addToCardArray=function(n){return o.push(n)},n.removeFromCardArray=function(n){var e,t;for(e in o)t=o[e],t.type===n&&o.splice(e,1);return!0},n}(),n.exports=r,e.Payment=r}).call(e,function(){return this}())},function(n,e){(function(){var e,t,r;e=function(n){return e.isDOMElement(n)?n:document.querySelectorAll(n)},e.isDOMElement=function(n){return n&&null!=n.nodeName},r=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,e.trim=function(n){return null===n?"":(n+"").replace(r,"")},t=/\r/g,e.val=function(n,e){var r;return arguments.length>1?n.value=e:(r=n.value,"string"==typeof r?r.replace(t,""):null===r?"":r)},e.preventDefault=function(n){return"function"==typeof n.preventDefault?void n.preventDefault():(n.returnValue=!1,!1)},e.normalizeEvent=function(n){var t;return t=n,n={which:null!=t.which?t.which:void 0,target:t.target||t.srcElement,preventDefault:function(){return e.preventDefault(t)},originalEvent:t,data:t.data||t.detail},null==n.which&&(n.which=null!=t.charCode?t.charCode:t.keyCode),n},e.on=function(n,t,r){var a,l,i,o,s,c,d,u;if(n.length)for(l=0,o=n.length;l<o;l++)a=n[l],e.on(a,t,r);else{if(!t.match(" "))return d=r,r=function(n){return n=e.normalizeEvent(n),d(n)},n.addEventListener?n.addEventListener(t,r,!1):n.attachEvent?(t="on"+t,n.attachEvent(t,r)):void(n["on"+t]=r);for(u=t.split(" "),i=0,s=u.length;i<s;i++)c=u[i],e.on(n,c,r)}},e.addClass=function(n,t){var r;return n.length?function(){var a,l,i;for(i=[],a=0,l=n.length;a<l;a++)r=n[a],i.push(e.addClass(r,t));return i}():n.classList?n.classList.add(t):n.className+=" "+t},e.hasClass=function(n,t){var r,a,l,i;if(n.length){for(a=!0,l=0,i=n.length;l<i;l++)r=n[l],a=a&&e.hasClass(r,t);return a}return n.classList?n.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(n.className)},e.removeClass=function(n,t){var r,a,l,i,o,s;if(n.length)return function(){var r,l,i;for(i=[],r=0,l=n.length;r<l;r++)a=n[r],i.push(e.removeClass(a,t));return i}();if(n.classList){for(o=t.split(" "),s=[],l=0,i=o.length;l<i;l++)r=o[l],s.push(n.classList.remove(r));return s}return n.className=n.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},e.toggleClass=function(n,t,r){var a;return n.length?function(){var l,i,o;for(o=[],l=0,i=n.length;l<i;l++)a=n[l],o.push(e.toggleClass(a,t,r));return o}():r?e.hasClass(n,t)?void 0:e.addClass(n,t):e.removeClass(n,t)},e.append=function(n,t){var r;return n.length?function(){var a,l,i;for(i=[],a=0,l=n.length;a<l;a++)r=n[a],i.push(e.append(r,t));return i}():n.insertAdjacentHTML("beforeend",t)},e.find=function(n,e){return(n instanceof NodeList||n instanceof Array)&&(n=n[0]),n.querySelectorAll(e)},e.trigger=function(n,e,t){var r,a;try{a=new CustomEvent(e,{detail:t})}catch(n){r=n,a=document.createEvent("CustomEvent"),a.initCustomEvent?a.initCustomEvent(e,!0,!0,t):a.initEvent(e,!0,!0,t)}return n.dispatchEvent(a)},n.exports=e}).call(this)}]);window.PaymentJS=_.cloneDeep(window.Payment),_.unset(window,"Payment"),function(){"use strict";function n(n){var e;e='<div class="card">\r\n  <div class="card-header">\r\n    <small class="text-uppercase" translate>\r\n      Billing history\r\n    </small>\r\n  </div>\r\n\r\n  <table class="table">\r\n    <colgroup>\r\n       <col width="0%"/>\r\n       <col width="100%"/>\r\n       <col width="0%"/>\r\n     </colgroup>\r\n    <tbody>\r\n      <tr ng-repeat="invoice in vm.invoices | orderBy:\'InvoiceDate\'">\r\n        <td class="text-muted text-nowrap" style="vertical-align: middle">\r\n          <i c8y-icon="calendar"></i>\r\n          <small>{{invoice.Created | absoluteDateTimeFormat:\'ll\'}}</small>\r\n        </td>\r\n        <td class="text-truncate" style="vertical-align: middle">\r\n          <small title="{{\'Invoice number\' | translate}}: {{invoice.InvoiceNumber}}">\r\n            <span>{{invoice.InvoiceNumber}}</span>\r\n          </small>\r\n        </td>\r\n        <td class="text-right text-nowrap" style="vertical-align: middle">\r\n          {{invoice.TotalGross | currency:vm.contractCurrency}}\r\n          <a ng-href="{{invoice.downloadLink}}" uib-tooltip="{{\'Download PDF\' | translate}}">\r\n            <i c8y-icon="file-pdf-o"></i>\r\n          </a>\r\n        </td>\r\n      </tr>\r\n      <tr ng-if="vm.inTrial">\r\n        <td class="text-muted text-nowrap" style="vertical-align: middle">\r\n          <i c8y-icon="calendar"></i>\r\n          <small>{{vm.contractStartDate | absoluteDateTimeFormat:\'ll\'}}</small>\r\n        </td>\r\n        <td class="text-truncate" style="vertical-align: middle" translate>\r\n          Trial period started\r\n        </td>\r\n        <td class="text-right text-muted text-nowrap" style="vertical-align: middle">\r\n          <small><em translate>Free</em></small>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n',n.put("core_billing/billing/billingHistoryWidget.html",e),n.put("/apps/core/billing/billing/billingHistoryWidget.html",e),e='<div class="card">\r\n  <div class="card-header">\r\n    <small class="text-uppercase" translate>Billing information</small>\r\n    <small class="pull-right">\r\n      <a href="" ng-click="vm.onEditBillingInfoModal()" translate>edit</a>\r\n    </small>\r\n  </div>\r\n  <table class="table">\r\n    <colgroup>\r\n       <col width="120px"/>\r\n       <col width="100%"/>\r\n     </colgroup>\r\n    <tbody>\r\n      <tr>\r\n        <td class="small"><small class="text-uppercase text-muted" translate>Name</small></td>\r\n        <td class="text-truncate">{{vm.Customer.FirstName}} {{vm.Customer.LastName}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td class="small"><small class="text-uppercase text-muted" translate>E-mail</small></td>\r\n        <td class="text-truncate">{{vm.Customer.EmailAddress}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td class="small"><small class="text-uppercase text-muted" translate>Company</small></td>\r\n        <td class="text-truncate">{{vm.Customer.CompanyName}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td class="small"><small class="text-uppercase text-muted" translate>Address</small></td>\r\n        <td class="text-truncate">{{vm.Customer.Address.Street + \' \' + vm.Customer.Address.HouseNumber}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td class="small"><small class="text-uppercase text-muted" translate>ZIP / city</small></td>\r\n        <td class="text-truncate">{{vm.Customer.Address.PostalCode + \' \' + vm.Customer.Address.City}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td class="small"><small class="text-uppercase text-muted" translate>Country</small></td>\r\n        <td class="text-truncate">{{vm.customerCountry}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td class="small"><small class="text-uppercase text-muted" translate>Phone</small></td>\r\n        <td class="text-truncate">{{vm.Customer.PhoneNumber}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td class="small"><small class="text-uppercase text-muted" translate>VAT ID</small></td>\r\n        <td class="text-truncate">{{vm.Customer.VatId}}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n',n.put("core_billing/billing/billingInformationWidget.html",e),n.put("/apps/core/billing/billing/billingInformationWidget.html",e),e='<div class="container-fluid" style="padding: 15px 20px">\n\n  <div ng-form="vm.customerDataForm" class="row billing-edit-customer-info-modal">\n    <div class="col-sm-6">\n      <div class="form-group">\n        <label translate>First name</label>\n        <input type="text" name="FirstName" class="form-control" ng-model="vm.customer.FirstName" required/>\n        <c8y-error-feedback field="vm.customerDataForm.FirstName"></c8y-error-feedback>\n      </div>\n    </div>\n    <div class="col-sm-6">\n      <div class="form-group">\n        <label translate>Last name</label>\n        <input type="text" name="LastName" class="form-control" ng-model="vm.customer.LastName" required/>\n        <c8y-error-feedback field="vm.customerDataForm.LastName"></c8y-error-feedback>\n      </div>\n    </div>\n    <div class="col-sm-12">\n      <div class="form-group">\n        <label translate>Company</label>\n        <input type="text" name="CompanyName" class="form-control" ng-model="vm.customer.CompanyName" required/>\n        <c8y-error-feedback field="vm.customerDataForm.CompanyName"></c8y-error-feedback>\n      </div>\n    </div>\n    <div class="col-sm-12">\n      <div class="form-group">\n        <label translate>Email</label>\n        <input type="email" name="EmailAddress" class="form-control" ng-model="vm.customer.EmailAddress" required/>\n        <c8y-error-feedback field="vm.customerDataForm.EmailAddress"></c8y-error-feedback>\n      </div>\n    </div>\n    <div class="col-sm-12">\n      <div class="form-group">\n        <label translate>Phone</label>\n        <input type="text" name="PhoneNumber" class="form-control" ng-model="vm.customer.PhoneNumber" required c8y-phone-number/>\n        <c8y-error-feedback field="vm.customerDataForm.PhoneNumber"></c8y-error-feedback>\n      </div>\n    </div>\n    <div class="col-sm-8">\n      <div class="form-group">\n        <label translate>Street</label>\n        <input type="text" name="AddressStreet" class="form-control" ng-model="vm.customer.Address.Street" required/>\n        <c8y-error-feedback field="vm.customerDataForm.AddressStreet"></c8y-error-feedback>\n      </div>\n    </div>\n    <div class="col-sm-4">\n      <div class="form-group">\n        <label translate>House number</label>\n        <input type="text" name="AddressHouseNumber" class="form-control" ng-model="vm.customer.Address.HouseNumber" required/>\n        <c8y-error-feedback field="vm.customerDataForm.AddressHouseNumber"></c8y-error-feedback>\n      </div>\n    </div>\n    <div class="col-sm-4">\n      <div class="form-group">\n        <label translate>ZIP / Postal code</label>\n        <input type="text" name="AddressZip" class="form-control" ng-model="vm.customer.Address.PostalCode" required/>\n        <c8y-error-feedback field="vm.customerDataForm.AddressZip"></c8y-error-feedback>\n      </div>\n    </div>\n    <div class="col-sm-8">\n      <div class="form-group">\n        <label translate>City</label>\n        <input type="text" name="AddressCity" class="form-control" ng-model="vm.customer.Address.City" required/>\n        <c8y-error-feedback field="vm.customerDataForm.AddressCity"></c8y-error-feedback>\n      </div>\n    </div>\n    <div class="col-sm-12">\n      <div class="form-group">\n        <label>Country</label>\n        <ui-select ng-model="vm.selectedCountry" ng-change="vm.onCountrySelectionChanged()" uib-tooltip="{{\'Select country of residence\' | translate}}" style="z-index:20">\n          <ui-select-match placeholder="{{\'Select country\' | translate}}">{{vm.selectedCountry.commonName}}</ui-select-match>\n          <ui-select-choices repeat="c in vm.countries | filter: $select.search track by c.cca2 | orderBy:\'commonName\'" position="down">\n            <span ng-bind-html="c.commonName | highlight: $select.search" title="{{c.commonName}}"></span>\n            <span class="text-muted">\n              (<span ng-bind-html="c.nativeName | highlight: $select.search" title="{{c.nativeName}}"></span>)\n            </span>\n          </ui-select-choices>\n        </ui-select>\n      </div>\n    </div>\n    <div class="col-sm-12">\n      <div class="form-group">\n        <label translate>\n          VAT ID\n        </label>\n        <input type="text" name="VatId" class="form-control" ng-model="vm.customer.VatId" vat-id/>\n        <c8y-error-feedback field="vm.customerDataForm.VatId">\n          <span ng-message="vatId" translate>\n            Invalid VAT ID.\n          </span>\n        </c8y-error-feedback>\n      </div>\n    </div>\n  </div>\n</div>\n',n.put("core_billing/billing/editCustomerInfo.html",e),n.put("/apps/core/billing/billing/editCustomerInfo.html",e),e='<div class="modal-header text-center">\n  <h3 translate>\n    Billing information\n  </h3>\n</div>\n\n<div class="modal-inner-scroll" style="max-height:calc(100vh - 260px)">\n  <edit-customer-info customer="vm.toUpdateCustomer">\n  </edit-customer-info>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default" ng-click="dismiss()" translate>\n    Cancel\n  </button>\n  <button class="btn btn-primary" ng-disabled="vm.invalid" ng-click="close()" translate>\n    Save\n  </button>\n</div>\n',n.put("core_billing/billing/editCustomerInfoModal.html",e),n.put("/apps/core/billing/billing/editCustomerInfoModal.html",e),e='<div class="panel-title">\n  <label class="billing-toggle c8y-radio" uib-accordion-transclude="heading" ng-class="{\'text-muted\': isDisabled}">\n    <input type="radio" name="paymentMethodGroup" ng-click="toggleOpen()"/><span></span>\n    <span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">\n      {{heading}}\n    </span>\n  </label>\n</div>\n\n<div class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div ng-transclude></div>\n</div>\n',n.put("core_billing/billing/paymentMethodAccordionGroup.html",e),n.put("/apps/core/billing/billing/paymentMethodAccordionGroup.html",e),e='<p class="lead text-center" style="padding: 10px 0; margin:0" translate>\r\n  Pick you preferred payment method\r\n</p>\r\n\r\n<uib-accordion close-others="true" class="accordion-billing">\r\n  <div uib-accordion-group ng-if="vm.PAYMENT_METHODS.CREDIT_CARD" is-open="vm.openPaymentTypes[vm.PAYMENT_METHODS.CREDIT_CARD.name]" class="panel-default panel-billing" template-url="core_billing/billing/paymentMethodAccordionGroup.html">\r\n    <div uib-accordion-heading>\r\n      <span style="font-size: 20px; line-height: 10px">\r\n        <i c8y-icon="{{vm.PAYMENT_METHODS.CREDIT_CARD.icon}}"></i>\r\n      </span>\r\n      <span>\r\n        {{vm.PAYMENT_METHODS.CREDIT_CARD.label | translate}}\r\n      </span>\r\n    </div>\r\n\r\n    <div style="min-height: 190px">\r\n      <div ng-form="vm.creditCardForm" class="row clearfix" ng-if="vm.selectedPaymentType === vm.PAYMENT_METHODS.CREDIT_CARD">\r\n        <div class="col-xs-12">\r\n          <div class="form-group">\r\n            <label translate>\r\n              Card holder\'s name\r\n            </label>\r\n            <input type="text" name="cardHolder" class="form-control" ng-model="vm.paymentData.cardHolder" required/>\r\n            <c8y-error-feedback field="vm.creditCardForm.cardHolder">\r\n            </c8y-error-feedback>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="col-sm-8 col-xs-12">\r\n          <div class="form-group">\r\n            <label translate>\r\n              Card number\r\n            </label>\r\n            <input type="text" name="cardNumber" class="form-control" ng-model="vm.paymentData.cardNumber" card-number required/>\r\n            <c8y-error-feedback field="vm.creditCardForm.cardNumber">\r\n              <span ng-message="cardNumber" translate>\r\n                Invalid credit card number.\r\n              </span>\r\n            </c8y-error-feedback>\r\n          </div>\r\n        </div>\r\n        <div class="col-sm-4 col-xs-12">\r\n          <div class="form-group">\r\n            <label>\r\n              CVC\r\n            </label>\r\n            <input type="text" name="cvc" class="form-control" ng-model="vm.paymentData.cvc" card-cvc/>\r\n            <c8y-error-feedback field="vm.creditCardForm.cvc">\r\n              <span ng-message="cardCvc" translate>\r\n                Invalid CVC.\r\n              </span>\r\n            </c8y-error-feedback>\r\n          </div>\r\n        </div>\r\n        <div class="col-xs-12">\r\n        <div class="form-group">\r\n            <div class="form-inline">\r\n              <label translate>\r\n                Valid thru\r\n              </label>\r\n              <div class="c8y-select-wrapper">\r\n                <select name="expiryMonth" placeholder="{{\'Month\' | translate}}" class="form-control" ng-options="month for month in vm.months" ng-model="vm.paymentData.expiryMonth" required>\r\n                  <option value="" translate>month</option>\r\n                </select>\r\n                <span></span>\r\n              </div>\r\n              <div class="c8y-select-wrapper">\r\n                <select name="expiryYear" placeholder="{{\'Year\' | translate}}" class="form-control" ng-options="year for year in vm.years" ng-model="vm.paymentData.expiryYear" required>\r\n                  <option value="" translate>year</option>\r\n                </select>\r\n                <span></span>\r\n              </div>\r\n              <input type="hidden" name="expiry" ng-model="expiry"/>\r\n              <c8y-error-feedback field="vm.creditCardForm.expiry">\r\n                <span ng-message="cardExpiry" translate>\r\n                  Invalid expiration date.\r\n                </span>\r\n              </c8y-error-feedback>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div uib-accordion-group ng-if="vm.PAYMENT_METHODS.PAY_PAL" is-open="vm.openPaymentTypes[vm.PAYMENT_METHODS.PAY_PAL.name]" class="panel-default panel-billing" template-url="core_billing/billing/paymentMethodAccordionGroup.html">\r\n    <div uib-accordion-heading>\r\n      <span style="font-size: 20px; line-height: 10px">\r\n        <i c8y-icon="{{vm.PAYMENT_METHODS.PAY_PAL.icon}}"></i>\r\n      </span>\r\n      <span>\r\n        {{vm.PAYMENT_METHODS.PAY_PAL.label | translate}}\r\n      </span>\r\n    </div>\r\n\r\n    <div style="min-height: 70px">\r\n      <div ng-form="vm.payPalForm" class="row clearfix" ng-if="vm.selectedPaymentType === vm.PAYMENT_METHODS.PAY_PAL">\r\n        <div class="col-xs-12">\r\n          <div class="form-group">\r\n            <label translate>\r\n              E-mail address\r\n            </label>\r\n            <input type="email" name="emailAddress" class="form-control" ng-model="vm.paymentData.emailAddress" required/>\r\n            <c8y-error-feedback field="vm.payPalForm.emailAddress">\r\n            </c8y-error-feedback>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div uib-accordion-group ng-if="vm.PAYMENT_METHODS.INVOICE" is-open="vm.openPaymentTypes[vm.PAYMENT_METHODS.INVOICE.name]" class="panel-default panel-billing" template-url="core_billing/billing/paymentMethodAccordionGroup.html">\r\n    <div uib-accordion-heading>\r\n      <span style="font-size: 20px; line-height: 10px">\r\n        <i c8y-icon="{{vm.PAYMENT_METHODS.INVOICE.icon}}"></i>\r\n      </span>\r\n      <span>\r\n        {{vm.PAYMENT_METHODS.INVOICE.label | translate}}\r\n      </span>\r\n    </div>\r\n  </div>\r\n\r\n  <div uib-accordion-group ng-if="vm.PAYMENT_METHODS.DIRECT_DEBIT" is-open="vm.openPaymentTypes[vm.PAYMENT_METHODS.DIRECT_DEBIT.name]" class="panel-default panel-billing" template-url="core_billing/billing/paymentMethodAccordionGroup.html">\r\n    <div uib-accordion-heading>\r\n      <span style="font-size: 20px; line-height: 10px">\r\n        <i c8y-icon="{{vm.PAYMENT_METHODS.DIRECT_DEBIT.icon}}"></i>\r\n      </span>\r\n      <span>\r\n        {{vm.PAYMENT_METHODS.DIRECT_DEBIT.label | translate}}\r\n      </span>\r\n    </div>\r\n\r\n    <div style="min-height: 140px">\r\n      <div ng-form="vm.directDebitForm" class="row clearfix" ng-if="vm.selectedPaymentType === vm.PAYMENT_METHODS.DIRECT_DEBIT">\r\n        <div class="col-xs-12">\r\n          <div class="form-group">\r\n            <label translate>\r\n              Account holder\r\n            </label>\r\n            <input type="text" name="accountHolder" class="form-control" ng-model="vm.paymentData.accountHolder" required>\r\n            <c8y-error-feedback field="vm.directDebitForm.accountHolder">\r\n            </c8y-error-feedback>\r\n          </div>\r\n        </div>\r\n        <div class="col-sm-6 col-xs-12">\r\n          <div class="form-group">\r\n            <label>IBAN</label>\r\n            <input type="text" name="iban" class="form-control" ng-model="vm.paymentData.iban" iban required>\r\n            <c8y-error-feedback field="vm.directDebitForm.iban">\r\n              <span ng-message="iban" translate>\r\n                Invalid IBAN.\r\n              </span>\r\n            </c8y-error-feedback>\r\n          </div>\r\n        </div>\r\n        <div class="col-sm-6 col-xs-12">\r\n          <div class="form-group">\r\n            <label>BIC</label>\r\n            <input type="text" name="bic" class="form-control" ng-model="vm.paymentData.bic" required>\r\n            <c8y-error-feedback field="vm.directDebitForm.bic">\r\n              <span ng-message="bic" translate>\r\n                Invalid BIC.\r\n              </span>\r\n            </c8y-error-feedback>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</uib-accordion>\r\n',n.put("core_billing/billing/paymentMethodForm.html",e),n.put("/apps/core/billing/billing/paymentMethodForm.html",e),e='<div class="modal-header text-center">\r\n  <h3 translate>Edit payment method</h3>\r\n</div>\r\n\r\n<div class="modal-inner-scroll">\r\n  <form name="vm.paymentDataForm">\r\n    <payment-method-form payment-data="vm.paymentData">\r\n    </payment-method-form>\r\n  </form>\r\n</div>\r\n\r\n<div class="modal-footer">\r\n  <button class="btn btn-default" ng-click="vm.modalInstance.dismiss()" translate>\r\n    Cancel\r\n  </button>\r\n  <button class="btn btn-primary" ng-disabled="vm.paymentDataForm.$invalid" ng-click="vm.modalInstance.close(vm.paymentData)">\r\n    Save\r\n  </button>\r\n</div>\r\n',n.put("core_billing/billing/paymentMethodModal.html",e),n.put("/apps/core/billing/billing/paymentMethodModal.html",e),e='<div class="card">\r\n  <div class="card-header">\r\n    <small class="text-uppercase" translate>Payment method</small>\r\n    <small class="pull-right" ng-if="!vm.isTrial">\r\n      <a href="" ng-click="vm.change()" translate>change</a>\r\n    </small>\r\n  </div>\r\n  <hr>\r\n\r\n  <div ng-if="vm.contractInfo && !vm.contractInfo.PaymentProvider" class="card-block" ng-class="{\'billing-error billing-status\': !vm.isTrial}">\r\n    <p ng-if="vm.isTrial" class="lead" style="margin-bottom:0" translate>\r\n      Currently in trial edition, upgrade to set a payment method.\r\n    </p>\r\n    <span ng-if="!vm.isTrial" class="pull-right" style="font-size: 46px">\r\n      <i c8y-icon="exclamation-triangle"></i>\r\n    </span>\r\n    <p ng-if="!vm.isTrial" class="text-center error-message" translate>\r\n      No payment method selected!<br/> Please choose payment method now.\r\n    </p>\r\n  </div>\r\n\r\n  <div ng-if="vm.contractInfo.PaymentProvider" ng-class="{\'billing-status billing-error\': vm.currentDunning}" class="card-block">\r\n    <span class="pull-right" style="font-size: 46px" ng-if="vm.currentDunning">\r\n      <i c8y-icon="exclamation-triangle"></i>\r\n    </span>\r\n    <payment-method-summary contract-info="vm.contractInfo" payment-bearer="vm.paymentBearer" payment-data="vm.paymentData">\r\n    </payment-method-summary>\r\n    <p class="text-center error-message" ng-if="vm.currentDunning" translate>\r\n      There was a problem processing your payment.<br/> Please update the payment method.\r\n    </p>\r\n  </div>\r\n\r\n  <div translate class="legend text-center">Available payment methods</div>\r\n  <table class="table">\r\n    <colgroup>\r\n       <col width="40px"/>\r\n       <col width="100%"/>\r\n     </colgroup>\r\n    <tbody>\r\n      <tr ng-repeat="paymentMethod in vm.PAYMENT_METHODS.values()" ng-class="{\'text-muted\': !vm.isPaymentMethodSelected(paymentMethod)}">\r\n        <td>\r\n          <span style="font-size: 20px; line-height: 10px">\r\n            <i c8y-icon="{{paymentMethod.icon}}"></i>\r\n          </span>\r\n        </td>\r\n        <td>\r\n          {{paymentMethod.label | translate}}\r\n          <span class="pull-right label label-default" ng-if="vm.isPaymentMethodSelected(paymentMethod)" style="margin-top: 5px" translate>\r\n            current payment method\r\n          </span>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n',n.put("core_billing/billing/paymentMethodWidget.html",e),n.put("/apps/core/billing/billing/paymentMethodWidget.html",e),e='<!-- customer billing component -->\n<div class="card">\n  <!-- plans overview componnent -->\n  <plans-overview-widget contract-info="vm.contractInfo" on-create-upgrade-to-standard-modal="vm.createUpgradeToStandardModal()" on-create-upgrade-to-enterprise-modal="vm.createUpgradeToEnterpriseModal()"></plans-overview-widget>\n</div>\n\n<div class="card-group">\n  <billing-information-widget class="col-md-4 col-xs-12" contract-info="vm.contractInfo">\n  </billing-information-widget>\n\n  <payment-method-widget class="col-md-4 col-xs-12" contract-info="vm.contractInfo" on-payment-method-change="vm.changePaymentMethod(paymentData)">\n  </payment-method-widget>\n\n  <billing-history-widget class="col-md-4 col-xs-12" contract-info="vm.contractInfo">\n  </billing-history-widget>\n</div>\n',n.put("core_billing/customerBilling.html",e),n.put("/apps/core/billing/customerBilling.html",e),e='<div class="selected-payment-method">\r\n  <div ng-if="!vm.isSelected()">\r\n    <div style="display:inline-block">\r\n      <p class="lead" style="margin-bottom:0" translate>\r\n        No payment method selected\r\n      </p>\r\n    </div>\r\n  </div>\r\n\r\n  <div ng-if="vm.isCreditCard()">\r\n    <span style="font-size: 56px" class="text-muted">\r\n      <i c8y-icon="{{vm.creditCardIcon()}}"></i>\r\n    </span>\r\n    <span style="display:inline-block">\r\n      <p class="lead" style="margin-bottom:0">\r\n        **** **** **** <span ng-bind="vm.creditCardLast4()"></span>\r\n      </p>\r\n      <label class="small" translate>\r\n        Valid thru\r\n      </label>\r\n      <span>\r\n        {{vm.creditCardExpirationDate()}}\r\n      </span>\r\n    </span>\r\n  </div>\r\n\r\n  <div ng-if="vm.isPayPal()">\r\n    <span style="font-size: 46px" class="text-muted">\r\n      <i c8y-icon="{{::vm.payPalIcon()}}"></i>\r\n    </span>\r\n    <span style="display:inline-block">\r\n      <p class="lead" style="margin-bottom:0">\r\n        {{vm.payPalEmailAddress()}}\r\n      </p>\r\n    </span>\r\n  </div>\r\n\r\n  <div ng-if="vm.isInvoice()">\r\n    <span style="font-size: 46px" class="text-muted">\r\n      <i c8y-icon="{{::vm.invoiceIcon()}}"></i>\r\n    </span>\r\n    <span style="display:inline-block">\r\n      <p class="lead" style="margin-bottom:0" translate>\r\n        Invoice\r\n      </p>\r\n    </span>\r\n  </div>\r\n\r\n  <div ng-if="vm.isDirectDebit()">\r\n    <span style="font-size: 46px" class="text-muted">\r\n      <i c8y-icon="{{::vm.directDebitIcon()}}"></i>\r\n    </span>\r\n    <span style="display:inline-block">\r\n      <p class="lead" style="margin-bottom:0">\r\n        <span ng-bind="vm.directDebitHolder()"></span>\r\n      </p>\r\n    </span>\r\n    <div ng-if="vm.directDebitIBAN()">\r\n      <label class="small">\r\n        IBAN\r\n      </label>\r\n      <span>\r\n        {{vm.directDebitIBAN()}}\r\n      </span>\r\n    </div>\r\n    <div ng-if="vm.directDebitBIC()">\r\n      <label class="small">\r\n        BIC\r\n      </label>\r\n      <span>\r\n        {{vm.directDebitBIC()}}\r\n      </span>\r\n    </div>\r\n  </div>\r\n</div>\r\n',n.put("core_billing/paymentMethodSummary.html",e),n.put("/apps/core/billing/paymentMethodSummary.html",e),e='<div class="card-group-block">\r\n  <div class="col-md-8 col-xs-12 bg-primary edition-promo" style="padding-top: 40px">\r\n    <div class="row">\r\n\r\n      <div class="col-sm-2 col-xs-12">\r\n        <div class="edition-icon">\r\n          <i ng-class="vm.currentPlan.icon"></i>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="col-sm-8 col-xs-12" style="min-height: 164px">\r\n        <p class="lead" style="padding-top: 30px">\r\n          <span translate ng-if="!vm.currentPlan.trial && vm.currentPlan">Current plan</span>\r\n        </p>\r\n        <h1 class="edition-name">\r\n          {{vm.currentPlan.label | translate}}\r\n        </h1>\r\n        <p class="lead" ng-if="vm.currentPlan.trial">\r\n          <span translate>\r\n            You are currently using a trial version. Upgrade to unleash the full potential of Cumulocity\'s IoT Platform.\r\n          </span>\r\n\r\n          <br/>\r\n\r\n          <small>\r\n            <a href="http://cumulocity.com/pricing" style="color:white" target="_blank" translate>\r\n              Find out more\r\n            </a>\r\n          </small>\r\n        </p>\r\n      </div>\r\n\r\n      <div class="col-xs-12" style="padding:0">\r\n        <svg class="img-responsive" viewBox="0 0 800 73" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n          <g id="clouds" transform="translate(0.000000, -8.000000)" fill-rule="nonzero" fill="#FFFFFF">\r\n            <path d="M150,29.5010406 C150,29.5010406 241.723942,-4.83292734 337.05605,15.363583 C502.3092,50.3710004 579.247784,13.4189478 650.500513,10.6524254 C754.500342,6.61172864 800,26.8092352 800,26.8092352 L800,81 L150,81 L150,29.5010406 Z" id="Shape" opacity="0.6"></path>\r\n            <path d="M0,23.0191205 C0,23.0191205 54.9127085,10.0740109 85.8483671,8.8815833 C138.217109,6.86300867 160.06201,35.8114919 209.096484,29.0659678 C225.550207,26.8024789 261.108016,16.8919326 280.464078,17.2980031 C329.186903,18.3201582 349.76158,42.8900856 400,40.5 C450.23842,38.1099144 480.881822,11.8815833 550.528908,11.8815833 C620.175993,11.8815833 641.450101,36.6673122 693.671858,40.5 C772.846687,46.3108425 749.423524,15.8736904 800,40.7671534 L800,77.5183701 L0,74.5183701 L0,23.0191205 Z" id="Shape" opacity="0.6"></path>\r\n            <path d="M152.16802,78.2830378 C152.16802,78.2830378 255.401264,9 385.503844,9 C526.373829,9 595,77.2648052 595,77.2648052 L595,81 L150,81 L152.16802,78.2830378 Z" id="Shape" opacity="0.7"></path>\r\n            <path d="M0,40.3029137 C7.94920217e-13,40.3029137 58.5546218,24.8045817 129.298917,24.8045817 C200.043213,24.8045817 227.524978,44.9014568 263.130219,44.9014568 C298.735459,44.9014568 354.013237,23.6582044 388.528971,24.8045817 C423.044704,25.950959 474.684141,49.6927067 531.261582,49.6927067 C587.839022,49.6927067 645.956957,24.4399269 677.430058,24.8045817 C766.681365,25.8386683 800,53.3213433 800,53.3213433 L800,80.8029137 L1.05119385e-12,80.8029137 L0,40.3029137 Z" id="Shape"></path>\r\n          </g>\r\n        </svg>\r\n        <div class="clearfix" style="background-color: white; color:#333; margin-top: -10px; padding-bottom: 15px; min-height: 123px">\r\n          <div class="col-sm-6" ng-if="vm.plansAvailableForUpgrade.length < 2 && vm.currentPlan.features.length">\r\n            <ul class="check-bullets success">\r\n              <li ng-repeat="feature in vm.currentPlan.features">\r\n                <span ng-bind-html="feature"></span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div class="col-sm-6" ng-repeat="plan in vm.plansAvailableForUpgrade">\r\n            <div class="flex-row">\r\n              <div style="font-size: 62px; margin-right:10px">\r\n                <span ng-class="plan.icon" class="c8y-icon-duocolor"></span>\r\n              </div>\r\n              <div>\r\n                <h4 class="text-uppercase" style="margin-bottom:10px; letter-spacing: 0.15em">\r\n                  {{plan.label | translate}}\r\n                </h4>\r\n                <button class="btn btn-success" ng-click="vm.upgradeToPlan(plan)" translate>\r\n                  {{plan.upgradeButtonLabel | translate}}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="col-md-4 col-xs-12 text-center card-total">\r\n    <div ng-if="vm.currentPlan.trial && vm.inactivePhaseStartDate">\r\n      <p translate>\r\n        Trial expires in\r\n      </p>\r\n      <h2 class="text-muted" translate translate-n="vm.daysLeftInTrial" translate-plural="{{$count}} days">\r\n        1 day\r\n      </h2>\r\n    </div>\r\n\r\n    <div ng-if="vm.normalPhaseStartDate">\r\n      <label class="small" translate>\r\n        End of trial period\r\n      </label>\r\n      <p>\r\n        <i c8y-icon="calendar"></i>\r\n        <span>\r\n          <span ng-bind="vm.normalPhaseStartDate | absoluteDateTimeFormat:\'llll\'"></span>\r\n        </span>\r\n      </p>\r\n      <br/>\r\n      <br/>\r\n    </div>\r\n\r\n    <div ng-if="vm.currentPlan.trial">\r\n      <br/>\r\n      <br/>\r\n\r\n      <p>\r\n        <a href="mailto:sales@cumulocity.com" class="btn btn-success" style="min-width: 200px" translate>\r\n          Contact sales\r\n        </a>\r\n      </p>\r\n\r\n      <br/>\r\n      <br/>\r\n    </div>\r\n    <div ng-if="vm.currentPlan.trial">\r\n      <label class="small" translate>\r\n        End of trial period\r\n      </label>\r\n      <p>\r\n        <i c8y-icon="calendar"></i>\r\n        <span ng-bind="vm.inactivePhaseStartDate | absoluteDateTimeFormat:\'ll\'"></span>\r\n      </p>\r\n    </div>\r\n\r\n    <div ng-if="vm.normalPhaseStartDate">\r\n      <label class="small" translate>\r\n        Current balance\r\n      </label>\r\n\r\n      <p class="text-light">\r\n        <span style="font-size:46px" ng-class="{\'text-danger\': vm.contractInfo.currentDunning}">\r\n          <span style="font-size: 14px; font-weight:bold" ng-bind="vm.contractInfo.Currency"></span>\r\n          {{vm.contractInfo.Balance | currency:\'\'}}\r\n        </span>\r\n        <span class="status" ng-if="vm.contractInfo.currentDunning">\r\n          (pending)\r\n        </span>\r\n      </p>\r\n      <small class="text-muted status-text" ng-if="vm.contractInfo.currentDunning" translate>\r\n        If you change your payment settings now,<br/> this amount would be settled immediately.\r\n      </small>\r\n\r\n      <br/>\r\n\r\n      <div ng-if="!vm.inactivePhaseStartDate">\r\n        <label class="small" translate>\r\n          Next billing\r\n        </label>\r\n        <p>\r\n          <i c8y-icon="calendar"></i>\r\n          <span ng-bind="vm.contractInfo.NextBillingDate | absoluteDateTimeFormat:\'llll\'"></span>\r\n        </p>\r\n      </div>\r\n\r\n      <div ng-if="vm.inactivePhaseStartDate">\r\n        <label class="small" translate>\r\n          Last billing and closing account\r\n        </label>\r\n        <p>\r\n          <i c8y-icon="calendar"></i>\r\n          <span ng-bind="vm.inactivePhaseStartDate | absoluteDateTimeFormat:\'llll\'"></span>\r\n        </p>\r\n      </div>\r\n\r\n      <br/>\r\n    </div>\r\n\r\n    <small ng-if="vm.canCloseAccount">\r\n      <button class="btn btn-link btn-xs" ng-click="vm.closeAccount()" translate>\r\n        Close account\r\n      </button>\r\n    </small>\r\n  </div>\r\n</div>\r\n',
n.put("core_billing/plansOverview/plansOverviewWidget.html",e),n.put("/apps/core/billing/plansOverview/plansOverviewWidget.html",e),e='<div class="modal-header bg-primary text-center">\n  <div style="font-size: 62px">\n    <span class="c8y-icon c8y-icon-enterprise"></span>\n  </div>\n  <h4 class="text-uppercase" style="margin:0; letter-spacing: 0.15em" translate>\n    Enterprise Edition\n  </h4>\n</div>\n\n<div class="result-message">\n  <div class="bg-complementary text-center modal-body">\n    <span class="lead text-white" translate>\n      Cumulocity\'s IoT Platform<br/>\n      tailored for your needs\n    </span>\n  </div>\n</div>\n\n<div class="modal-body text-center">\n  <ul class="check-bullets success text-left" style="display: inline-block">\n    <li translate>Online / Server platform</li>\n    <li translate>Multiple deployment options</li>\n    <li translate>Your branding and URL</li>\n    <li translate>Real-time streaming analytics</li>\n    <li translate>Device support service</li>\n    <li translate>Reseller licencing</li>\n    <li translate>Access to volume discounts</li>\n  </ul>\n</div>\n\n<div class="modal-footer text-center">\n  <p class="lead" translate>\n    Reach us by phone\n  </p>\n  <a href="tel:+49123456789" class="btn btn-primary">\n    <i c8y-icon="phone"></i> +49 123 456 789\n  </a>\n  <br/>\n  <br/>\n  <p class="lead" translate>\n    or by email\n  </p>\n  <a href="mailto:sales@cumulocity.com" class="btn btn-primary">\n    <i c8y-icon="envelope"></i> sales@cumulocity.com\n  </a>\n</div>\n',n.put("core_billing/upgradeToEnterprise/upgradeToEnterprise.html",e),n.put("/apps/core/billing/upgradeToEnterprise/upgradeToEnterprise.html",e),e='<div>\n  <p class="lead text-center" style="margin-top: 15px">\n    Please confirm all your data and submit\n  </p>\n  <table class="table">\n    <colgroup>\n     <col width="80px"/>\n     <col width="100%"/>\n   </colgroup>\n    <tbody>\n      <tr>\n        <td class="small">\n          <small class="text-uppercase text-muted" translate>\n            Name\n          </small>\n        </td>\n        <td class="text-truncate">\n          {{vm.upgradeData.customerData.FirstName}}\n          {{vm.upgradeData.customerData.LastName}}\n        </td>\n      </tr>\n      <tr>\n        <td class="small">\n          <small class="text-uppercase text-muted" translate>\n            E-mail\n          </small>\n        </td>\n        <td class="text-truncate">\n          {{vm.upgradeData.customerData.EmailAddress}}\n        </td>\n      </tr>\n      <tr>\n        <td class="small">\n          <small class="text-uppercase text-muted" translate>\n            Company\n          </small>\n        </td>\n        <td class="text-truncate">\n          {{vm.upgradeData.customerData.CompanyName}}\n        </td>\n      </tr>\n      <tr>\n        <td class="small">\n          <small class="text-uppercase text-muted" translate>\n            Address\n          </small>\n        </td>\n        <td class="text-truncate">\n          {{vm.upgradeData.customerData.Address.Street}}\n          {{vm.upgradeData.customerData.Address.HouseNumber}}\n        </td>\n      </tr>\n      <tr>\n        <td class="small">\n          <small class="text-uppercase text-muted" translate>\n            ZIP / city\n          </small>\n        </td>\n        <td class="text-truncate">\n          {{vm.upgradeData.customerData.Address.PostalCode}}\n          {{vm.upgradeData.customerData.Address.City}}\n        </td>\n      </tr>\n      <tr>\n        <td class="small">\n          <small class="text-uppercase text-muted" translate>\n            Country\n          </small>\n        </td>\n        <td class="text-truncate">\n          {{vm.upgradeData.customerData.Address.Country}}\n        </td>\n      </tr>\n      <tr>\n        <td class="small">\n          <small class="text-uppercase text-muted" translate>\n            Phone\n          </small>\n        </td>\n        <td class="text-truncate">\n          {{vm.upgradeData.customerData.PhoneNumber}}\n        </td>\n      </tr>\n      <tr>\n        <td class="small">\n          <small class="text-uppercase text-muted" translate>\n            VAT ID\n          </small>\n        </td>\n        <td class="text-truncate">\n          {{vm.upgradeData.customerData.VatId}}\n        </td>\n      </tr>\n      <tr>\n        <td class="small">\n          <small class="text-uppercase text-muted" translate>\n            Payment method\n          </small>\n        </td>\n        <td class="text-truncate">\n          <payment-method-summary payment-data="vm.upgradeData.paymentData">\n          </payment-method-summary>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n',n.put("core_billing/upgradeToStandard/confirmPlanUpgrade.html",e),n.put("/apps/core/billing/upgradeToStandard/confirmPlanUpgrade.html",e),e='<div class="modal-inner-scroll edition-modal">\r\n<form name="customerDataForm" novalidate>\r\n  <edit-customer-info customer="vm.wizardCtrl.data.customerData">\r\n  </edit-customer-info>\r\n</form>\r\n</div>\r\n<div class="c8y-wizard-footer modal-footer">\r\n  <button class="btn btn-default" ng-click="vm.wizardCtrl.dismiss()" translate>\r\n    Cancel\r\n  </button>\r\n  <button class="btn btn-primary" ng-click="vm.wizardCtrl.goTo(\'paymentData\')" ng-disabled="customerDataForm.$invalid" translate>\r\n    Next\r\n  </button>\r\n</div>\r\n',n.put("core_billing/upgradeToStandard/customerDataStep.html",e),n.put("/apps/core/billing/upgradeToStandard/customerDataStep.html",e),e='<div class="modal-inner-scroll edition-modal">\r\n<form name="paymentDataForm" novalidate>\r\n  <payment-method-form payment-data="vm.wizardCtrl.data.paymentData">\r\n  </payment-method-form>\r\n</form>\r\n</div>\r\n<div class="c8y-wizard-footer modal-footer">\r\n  <button class="btn btn-default" ng-click="vm.wizardCtrl.dismiss()" translate>\r\n    Cancel\r\n  </button>\r\n  <button class="btn btn-primary" ng-click="vm.wizardCtrl.goTo(\'placeOrder\')" ng-disabled="!vm.wizardCtrl.data.paymentData.bearer || paymentDataForm.$invalid" translate>\r\n    Next\r\n  </button>\r\n</div>\r\n',n.put("core_billing/upgradeToStandard/paymentDataStep.html",e),n.put("/apps/core/billing/upgradeToStandard/paymentDataStep.html",e),e='<div class="modal-inner-scroll edition-modal">\r\n<confirm-plan-upgrade upgrade-data="vm.wizardCtrl.data">\r\n</confirm-plan-upgrade>\r\n</div>\r\n\r\n<div class="c8y-wizard-footer modal-footer">\r\n  <button class="btn btn-default" ng-click="vm.wizardCtrl.dismiss()" ng-disabled="vm.placingOrderInProgress" translate>\r\n    Cancel\r\n  </button>\r\n  <button class="btn btn-primary" ng-click="vm.placeOrder()" ng-disabled="vm.placingOrderInProgress">\r\n    <span ng-hide="vm.placingOrderInProgress" translate>\r\n      Place order\r\n    </span>\r\n    <span ng-show="vm.placingOrderInProgress">\r\n      <i c8y-icon="circle-o-notch" class="fa-spin"></i>\r\n      <translate>Placing order</translate>&hellip;\r\n    </span>\r\n  </button>\r\n</div>\r\n',n.put("core_billing/upgradeToStandard/placeOrderStep.html",e),n.put("/apps/core/billing/upgradeToStandard/placeOrderStep.html",e),e='<c8y-wizard on-dismiss="vm.modalInstance.dismiss()" on-close="vm.modalInstance.close()" initial-flow="vm.resolve.initialFlow">\r\n  <header>\r\n    <div style="font-size: 62px">\r\n      <span class="c8y-icon c8y-icon-c8y-engine"></span>\r\n    </div>\r\n    <h4 class="text-uppercase" style="margin:0; letter-spacing: 0.15em" translate>\r\n      Standard Edition\r\n    </h4>\r\n  </header>\r\n  <steps>\r\n    <c8y-wizard-step step-id="customerData" label="\'Billing information\' | translate">\r\n      <customer-data-step prefilled-customer-data="vm.resolve.contractInfo.Customer">\r\n      </customer-data-step>\r\n    </c8y-wizard-step>\r\n    <c8y-wizard-step step-id="paymentData" label="\'Payment method\' | translate">\r\n      <payment-data-step></payment-data-step>\r\n    </c8y-wizard-step>\r\n    <c8y-wizard-step step-id="placeOrder" label="\'Place order\' | translate">\r\n      <place-order-step></place-order-step>\r\n    </c8y-wizard-step>\r\n    <c8y-wizard-step step-id="success" modal-header-class="bg-complementary">\r\n      <div class="result-message">\r\n        <div class="modal-inner-scroll edition-modal bg-complementary active text-center" style="height:225px">\r\n          <span style="font-size: 66px">\r\n            <i c8y-icon="check"></i>\r\n          </span><br>\r\n          <span class="lead" style="vertical-align: text-bottom" translate>\r\n            Upgrade completed!\r\n          </span>\r\n          <br>\r\n          <br>\r\n          <p translate>\r\n            We will use the provided information on the next<br/> billing cycle, starting on {{vm.resolve.contractInfo.NextBillingDate | absoluteDateTimeFormat:\'ll\'}}.\r\n          </p>\r\n        </div>\r\n        <div class="c8y-wizard-footer">\r\n          <button class="btn btn-default" ng-click="$parent.wizardCtrl.close()" translate>\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </c8y-wizard-step>\r\n\r\n    <c8y-wizard-step step-id="failure">\r\n      <div class="result-message">\r\n        <div class="modal-inner-scroll edition-modal bg-dark-danger text-center" style="height:225px">\r\n          <br>\r\n          <span style="font-size: 46px">\r\n            <i c8y-icon="exclamation-triangle"></i>\r\n          </span>\r\n          <span class="lead" style="vertical-align: text-bottom" translate>\r\n            Ooops, there was a problem…\r\n          </span>\r\n          <p translate>An error occurred during the upgrade process:</p>\r\n          <p><em>{{vm.resolve.errorData.errorMessage | translate}}</em></p>\r\n          <br>\r\n          <p translate>\r\n            Please retry or <a href="mailto:support@cumulocity.com">reach us</a> if you\'re not able to upgrade.\r\n          </p>\r\n        </div>\r\n        <div class="c8y-wizard-footer">\r\n          <button class="btn btn-default" ng-click="$parent.wizardCtrl.dismiss()" translate>\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </c8y-wizard-step>\r\n  </steps>\r\n</c8y-wizard>\r\n',n.put("core_billing/upgradeToStandard/upgradeToStandardEditionWizard.html",e),n.put("/apps/core/billing/upgradeToStandard/upgradeToStandardEditionWizard.html",e),e='<div class="modal-header bg-primary text-center">\n  <div style="font-size: 62px">\n    <span class="c8y-icon c8y-icon-administration-reverse"></span>\n  </div>\n  <h4 class="text-uppercase" style="margin:0; letter-spacing: 0.15em" translate>\n    Standard Edition\n  </h4>\n</div>\n\n<div class="modal-body">\n  <pre>{{vm.upgradeData|json}}</pre>\n\n  <!-- each step must be validated before proceeding to the next. please discuss the process with me as the feedback and flow involves some logic -->\n  <uib-tabset active="active" justified="true" class="steps-navbar" ng-show="active != 3">\n    <uib-tab index="0" heading="{{\'Billing information\' | translate}}" ng-class="{\'success\': active > 2}">\n      <div ng-form name="vm.customerDataForm">\n        <edit-customer-info customer="vm.upgradeData.customerData"></edit-customer-info>\n      </div>\n    </uib-tab>\n\n    <uib-tab index="1" heading="{{\'Payment method\' | translate}}" disable="true" ng-class="{\'success\': active > 2}">\n      <div ng-form name="vm.paymentDataForm">\n        <payment-method-form payment-data="vm.upgradeData.paymentData"></payment-method-form>\n      </div>\n    </uib-tab>\n\n    <uib-tab index="2" heading="{{\'Place order\' | translate}}" disable="true" ng-class="{\'success\': active > 3}">\n      <confirm-plan-upgrade upgrade-data="vm.upgradeData"></confirm-plan-upgrade>\n    </uib-tab>\n\n    <!-- this is for demo purposes -->\n    <uib-tab index="3" heading="result" disable="true" style="display: none">\n    </uib-tab>\n  </uib-tabset>\n\n  <div class="result-message" ng-show="active === 3">\n    <div class="bg-success text-center">\n    <span style="font-size: 46px">\n      <i c8y-icon="check"></i>\n    </span>\n      <span class="lead" style="vertical-align: text-bottom" translate>\n      Upgrade completed\n    </span>\n    </div>\n    <div class="modal-body text-center">\n      <p class="lead" translate>Your upgrade was successfully completed.</p>\n      <p translate>We will use the provided information on the next billing cycle.</p>\n    </div>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default" ng-click="vm.modalInstance.dismiss()" ng-show="active != 3" translate>Cancel</button>\n  <button class="btn btn-primary" ng-click="active = 1" ng-show="active === 0" ng-disabled="vm.customerDataForm.$invalid" translate>Next</button>\n  <button class="btn btn-primary" ng-click="active = 2" ng-show="active === 1" ng-disabled="vm.paymentDataForm.$invalid" translate>Next</button>\n  <button class="btn btn-primary" ng-show="active === 2" ng-click="vm.placeOrder()" translate>Place order</button>\n  <button class="btn btn-primary" ng-show="active === 3" ng-click="vm.modalInstace.dismiss()" translate>Close</button>\n</div>\n',n.put("core_billing/upgradeToStandard/upgradeToStandardModal.html",e),n.put("/apps/core/billing/upgradeToStandard/upgradeToStandardModal.html",e)}angular.module("c8y.customerBilling").run(["$templateCache",n])}();