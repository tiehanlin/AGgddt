/* core_dashboard2 8.7.2 2017-08-02T09:54:07+00:00 e22b35b1d531 (hotfix/8.7.2) tip */
!function(e){if("function"==typeof define&&define.amd)define(["jquery","lodash","jquery-ui/data","jquery-ui/disable-selection","jquery-ui/focusable","jquery-ui/form","jquery-ui/ie","jquery-ui/keycode","jquery-ui/labels","jquery-ui/jquery-1-7","jquery-ui/plugin","jquery-ui/safe-active-element","jquery-ui/safe-blur","jquery-ui/scroll-parent","jquery-ui/tabbable","jquery-ui/unique-id","jquery-ui/version","jquery-ui/widget","jquery-ui/widgets/mouse","jquery-ui/widgets/draggable","jquery-ui/widgets/droppable","jquery-ui/widgets/resizable"],e);else if("undefined"!=typeof exports){try{jQuery=require("jquery")}catch(e){}try{_=require("lodash")}catch(e){}e(jQuery,_)}else e(jQuery,_)}(function(e,t){var n=window,i=function(e,t,n){var i=function(){return console.warn("gridstack.js: Function `"+t+"` is deprecated as of v0.2.5 and has been replaced with `"+n+"`. It will be **completely** removed in v1.0."),e.apply(this,arguments)};return i.prototype=e.prototype,i},a=function(e,t){console.warn("gridstack.js: Option `"+e+"` is deprecated as of v0.2.5 and has been replaced with `"+t+"`. It will be **completely** removed in v1.0.")},o={isIntercepted:function(e,t){return!(e.x+e.width<=t.x||t.x+t.width<=e.x||e.y+e.height<=t.y||t.y+t.height<=e.y)},sort:function(e,n,i){return i=i||t.chain(e).map(function(e){return e.x+e.width}).max().value(),n=n!=-1?1:-1,t.sortBy(e,function(e){return n*(e.x+e.y*i)})},createStylesheet:function(e){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.setAttribute("data-gs-style-id",e),t.styleSheet?t.styleSheet.cssText="":t.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(t),t.sheet},removeStylesheet:function(t){e("STYLE[data-gs-style-id="+t+"]").remove()},insertCSSRule:function(e,t,n,i){"function"==typeof e.insertRule?e.insertRule(t+"{"+n+"}",i):"function"==typeof e.addRule&&e.addRule(t,n,i)},toBool:function(e){return"boolean"==typeof e?e:"string"==typeof e?(e=e.toLowerCase(),!(""===e||"no"==e||"false"==e||"0"==e)):Boolean(e)},_collisionNodeCheck:function(e){return e!=this.node&&o.isIntercepted(e,this.nn)},_didCollide:function(e){return o.isIntercepted({x:this.n.x,y:this.newY,width:this.n.width,height:this.n.height},e)},_isAddNodeIntercepted:function(e){return o.isIntercepted({x:this.x,y:this.y,width:this.node.width,height:this.node.height},e)},parseHeight:function(e){var n=e,i="px";if(n&&t.isString(n)){var a=n.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw)?$/);if(!a)throw new Error("Invalid height");i=a[2]||"px",n=parseFloat(a[1])}return{height:n,unit:i}}};o.is_intercepted=i(o.isIntercepted,"is_intercepted","isIntercepted"),o.create_stylesheet=i(o.createStylesheet,"create_stylesheet","createStylesheet"),o.remove_stylesheet=i(o.removeStylesheet,"remove_stylesheet","removeStylesheet"),o.insert_css_rule=i(o.insertCSSRule,"insert_css_rule","insertCSSRule");var r=0,s=function(e,t,n,i,a){this.width=e,this.float=n||!1,this.height=i||0,this.nodes=a||[],this.onchange=t||function(){},this._updateCounter=0,this._float=this.float,this._addedNodes=[],this._removedNodes=[]};s.prototype.batchUpdate=function(){this._updateCounter=1,this.float=!0},s.prototype.commit=function(){0!==this._updateCounter&&(this._updateCounter=0,this.float=this._float,this._packNodes(),this._notify())},s.prototype.getNodeDataByDOMEl=function(e){return t.find(this.nodes,function(t){return e.get(0)===t.el.get(0)})},s.prototype._fixCollisions=function(e){this._sortNodes(-1);var n=e,i=Boolean(t.find(this.nodes,function(e){return e.locked}));for(this.float||i||(n={x:0,y:e.y,width:this.width,height:e.height});;){var a=t.find(this.nodes,t.bind(o._collisionNodeCheck,{node:e,nn:n}));if("undefined"==typeof a)return;this.moveNode(a,a.x,e.y+e.height,a.width,a.height,!0)}},s.prototype.isAreaEmpty=function(e,n,i,a){var r={x:e||0,y:n||0,width:i||1,height:a||1},s=t.find(this.nodes,t.bind(function(e){return o.isIntercepted(e,r)},this));return null===s||"undefined"==typeof s},s.prototype._sortNodes=function(e){this.nodes=o.sort(this.nodes,e,this.width)},s.prototype._packNodes=function(){this._sortNodes(),this.float?t.each(this.nodes,t.bind(function(e,n){if(!e._updating&&"undefined"!=typeof e._origY&&e.y!=e._origY)for(var i=e.y;i>=e._origY;){var a=t.chain(this.nodes).find(t.bind(o._didCollide,{n:e,newY:i})).value();a||(e._dirty=!0,e.y=i),--i}},this)):t.each(this.nodes,t.bind(function(e,n){if(!e.locked)for(;e.y>0;){var i=e.y-1,a=0===n;if(n>0){var r=t.chain(this.nodes).take(n).find(t.bind(o._didCollide,{n:e,newY:i})).value();a="undefined"==typeof r}if(!a)break;e._dirty=e.y!=i,e.y=i}},this))},s.prototype._prepareNode=function(e,n){return e=t.defaults(e||{},{width:1,height:1,x:0,y:0}),e.x=parseInt(""+e.x),e.y=parseInt(""+e.y),e.width=parseInt(""+e.width),e.height=parseInt(""+e.height),e.autoPosition=e.autoPosition||!1,e.noResize=e.noResize||!1,e.noMove=e.noMove||!1,e.width>this.width?e.width=this.width:e.width<1&&(e.width=1),e.height<1&&(e.height=1),e.x<0&&(e.x=0),e.x+e.width>this.width&&(n?e.width=this.width-e.x:e.x=this.width-e.width),e.y<0&&(e.y=0),e},s.prototype._notify=function(){var e=Array.prototype.slice.call(arguments,0);if(e[0]="undefined"==typeof e[0]?[]:[e[0]],e[1]="undefined"==typeof e[1]||e[1],!this._updateCounter){var t=e[0].concat(this.getDirtyNodes());this.onchange(t,e[1])}},s.prototype.cleanNodes=function(){this._updateCounter||t.each(this.nodes,function(e){e._dirty=!1})},s.prototype.getDirtyNodes=function(){return t.filter(this.nodes,function(e){return e._dirty})},s.prototype.addNode=function(e,n){if(e=this._prepareNode(e),"undefined"!=typeof e.maxWidth&&(e.width=Math.min(e.width,e.maxWidth)),"undefined"!=typeof e.maxHeight&&(e.height=Math.min(e.height,e.maxHeight)),"undefined"!=typeof e.minWidth&&(e.width=Math.max(e.width,e.minWidth)),"undefined"!=typeof e.minHeight&&(e.height=Math.max(e.height,e.minHeight)),e._id=++r,e._dirty=!0,e.autoPosition){this._sortNodes();for(var i=0;;++i){var a=i%this.width,s=Math.floor(i/this.width);if(!(a+e.width>this.width||t.find(this.nodes,t.bind(o._isAddNodeIntercepted,{x:a,y:s,node:e})))){e.x=a,e.y=s;break}}}return this.nodes.push(e),"undefined"!=typeof n&&n&&this._addedNodes.push(t.clone(e)),this._fixCollisions(e),this._packNodes(),this._notify(),e},s.prototype.removeNode=function(e,n){n="undefined"==typeof n||n,this._removedNodes.push(t.clone(e)),e._id=null,this.nodes=t.without(this.nodes,e),this._packNodes(),this._notify(e,n)},s.prototype.canMoveNode=function(n,i,a,o,r){var d=Boolean(t.find(this.nodes,function(e){return e.locked}));if(!this.height&&!d)return!0;var l,c=new s(this.width,null,this.float,0,t.map(this.nodes,function(t){return t==n?l=e.extend({},t):e.extend({},t)}));if("undefined"==typeof l)return!0;c.moveNode(l,i,a,o,r);var h=!0;return d&&(h&=!Boolean(t.find(c.nodes,function(e){return e!=l&&Boolean(e.locked)&&Boolean(e._dirty)}))),this.height&&(h&=c.getGridHeight()<=this.height),h},s.prototype.canBePlacedWithRespectToHeight=function(n){if(!this.height)return!0;var i=new s(this.width,null,this.float,0,t.map(this.nodes,function(t){return e.extend({},t)}));return i.addNode(n),i.getGridHeight()<=this.height},s.prototype.moveNode=function(e,t,n,i,a,o){if("number"!=typeof t&&(t=e.x),"number"!=typeof n&&(n=e.y),"number"!=typeof i&&(i=e.width),"number"!=typeof a&&(a=e.height),"undefined"!=typeof e.maxWidth&&(i=Math.min(i,e.maxWidth)),"undefined"!=typeof e.maxHeight&&(a=Math.min(a,e.maxHeight)),"undefined"!=typeof e.minWidth&&(i=Math.max(i,e.minWidth)),"undefined"!=typeof e.minHeight&&(a=Math.max(a,e.minHeight)),e.x==t&&e.y==n&&e.width==i&&e.height==a)return e;var r=e.width!=i;return e._dirty=!0,e.x=t,e.y=n,e.width=i,e.height=a,e=this._prepareNode(e,r),this._fixCollisions(e),o||(this._packNodes(),this._notify()),e},s.prototype.getGridHeight=function(){return t.reduce(this.nodes,function(e,t){return Math.max(e,t.y+t.height)},0)},s.prototype.beginUpdate=function(e){t.each(this.nodes,function(e){e._origY=e.y}),e._updating=!0},s.prototype.endUpdate=function(){t.each(this.nodes,function(e){e._origY=e.y});var e=t.find(this.nodes,function(e){return e._updating});e&&(e._updating=!1)};var d=function(n,i){var o,r,d=this;i=i||{},this.container=e(n),"undefined"!=typeof i.handle_class&&(i.handleClass=i.handle_class,a("handle_class","handleClass")),"undefined"!=typeof i.item_class&&(i.itemClass=i.item_class,a("item_class","itemClass")),"undefined"!=typeof i.placeholder_class&&(i.placeholderClass=i.placeholder_class,a("placeholder_class","placeholderClass")),"undefined"!=typeof i.placeholder_text&&(i.placeholderText=i.placeholder_text,a("placeholder_text","placeholderText")),"undefined"!=typeof i.cell_height&&(i.cellHeight=i.cell_height,a("cell_height","cellHeight")),"undefined"!=typeof i.vertical_margin&&(i.verticalMargin=i.vertical_margin,a("vertical_margin","verticalMargin")),"undefined"!=typeof i.min_width&&(i.minWidth=i.min_width,a("min_width","minWidth")),"undefined"!=typeof i.static_grid&&(i.staticGrid=i.static_grid,a("static_grid","staticGrid")),"undefined"!=typeof i.is_nested&&(i.isNested=i.is_nested,a("is_nested","isNested")),"undefined"!=typeof i.always_show_resize_handle&&(i.alwaysShowResizeHandle=i.always_show_resize_handle,a("always_show_resize_handle","alwaysShowResizeHandle")),i.itemClass=i.itemClass||"grid-stack-item";var l=this.container.closest("."+i.itemClass).length>0;if(this.opts=t.defaults(i||{},{width:parseInt(this.container.attr("data-gs-width"))||12,height:parseInt(this.container.attr("data-gs-height"))||0,itemClass:"grid-stack-item",placeholderClass:"grid-stack-placeholder",placeholderText:"",handle:".grid-stack-item-content",handleClass:null,cellHeight:60,verticalMargin:20,auto:!0,minWidth:768,float:!1,staticGrid:!1,_class:"grid-stack-instance-"+(1e4*Math.random()).toFixed(0),animate:Boolean(this.container.attr("data-gs-animate"))||!1,alwaysShowResizeHandle:i.alwaysShowResizeHandle||!1,resizable:t.defaults(i.resizable||{},{autoHide:!i.alwaysShowResizeHandle,handles:"se"}),draggable:t.defaults(i.draggable||{},{handle:(i.handleClass?"."+i.handleClass:i.handle?i.handle:"")||".grid-stack-item-content",scroll:!1,appendTo:"body"}),disableDrag:i.disableDrag||!1,disableResize:i.disableResize||!1,rtl:"auto",removable:!1,removeTimeout:2e3,verticalMarginUnit:"px",cellHeightUnit:"px"}),"auto"===this.opts.rtl&&(this.opts.rtl="rtl"===this.container.css("direction")),this.opts.rtl&&this.container.addClass("grid-stack-rtl"),this.opts.isNested=l,r="auto"===this.opts.cellHeight,r?d.cellHeight(d.cellWidth(),!0):this.cellHeight(this.opts.cellHeight,!0),this.verticalMargin(this.opts.verticalMargin,!0),this.container.addClass(this.opts._class),this._setStaticClass(),l&&this.container.addClass("grid-stack-nested"),this._initStyles(),this.grid=new s(this.opts.width,function(e,n){n="undefined"==typeof n||n;var i=0;t.each(e,function(e){n&&null===e._id?e.el&&e.el.remove():(e.el.attr("data-gs-x",e.x).attr("data-gs-y",e.y).attr("data-gs-width",e.width).attr("data-gs-height",e.height),i=Math.max(i,e.y+e.height))}),d._updateStyles(i+10)},this.opts.float,this.opts.height),this.opts.auto){var c=[],h=this;this.container.children("."+this.opts.itemClass+":not(."+this.opts.placeholderClass+")").each(function(t,n){n=e(n),c.push({el:n,i:parseInt(n.attr("data-gs-x"))+parseInt(n.attr("data-gs-y"))*h.opts.width})}),t.chain(c).sortBy(function(e){return e.i}).each(function(e){d._prepareElement(e.el)}).value()}if(this.setAnimation(this.opts.animate),this.placeholder=e('<div class="'+this.opts.placeholderClass+" "+this.opts.itemClass+'"><div class="placeholder-content">'+this.opts.placeholderText+"</div></div>").hide(),this._updateContainerHeight(),this._updateHeightsOnResize=t.throttle(function(){d.cellHeight(d.cellWidth(),!1)},100),this.onResizeHandler=function(){if(r&&d._updateHeightsOnResize(),d._isOneColumnMode()){if(o)return;o=!0,d.grid._sortNodes(),t.each(d.grid.nodes,function(e){d.container.append(e.el),d.opts.staticGrid||((e.noMove||d.opts.disableDrag)&&e.el.draggable("disable"),(e.noResize||d.opts.disableResize)&&e.el.resizable("disable"),e.el.trigger("resize"))})}else{if(!o)return;if(o=!1,d.opts.staticGrid)return;t.each(d.grid.nodes,function(e){e.noMove||d.opts.disableDrag||e.el.draggable("enable"),e.noResize||d.opts.disableResize||e.el.resizable("enable"),e.el.trigger("resize")})}},e(window).resize(this.onResizeHandler),this.onResizeHandler(),!d.opts.staticGrid&&"string"==typeof d.opts.removable){var p=e(d.opts.removable);p.data("droppable")||p.droppable({accept:"."+d.opts.itemClass}),p.on("dropover",function(t,n){var i=e(n.draggable),a=i.data("_gridstack_node");a._grid===d&&d._setupRemovingTimeout(i)}).on("dropout",function(t,n){var i=e(n.draggable),a=i.data("_gridstack_node");a._grid===d&&d._clearRemovingTimeout(i)})}if(!d.opts.staticGrid&&d.opts.acceptWidgets){var u=null,g=function(e,t){var n=u,i=n.data("_gridstack_node"),a=d.getCellFromPixel(t.offset,!0),o=Math.max(0,a.x),r=Math.max(0,a.y);if(i._added){if(!d.grid.canMoveNode(i,o,r))return;d.grid.moveNode(i,o,r),d._updateContainerHeight()}else i._added=!0,i.el=n,i.x=o,i.y=r,d.grid.cleanNodes(),d.grid.beginUpdate(i),d.grid.addNode(i),d.container.append(d.placeholder),d.placeholder.attr("data-gs-x",i.x).attr("data-gs-y",i.y).attr("data-gs-width",i.width).attr("data-gs-height",i.height).show(),i.el=d.placeholder,i._beforeDragX=i.x,i._beforeDragY=i.y,d._updateContainerHeight()};e(d.container).droppable({accept:function(t){t=e(t);var n=t.data("_gridstack_node");return(!n||n._grid!==d)&&t.is(d.opts.acceptWidgets===!0?".grid-stack-item":d.opts.acceptWidgets)},over:function(t,n){var i=(d.container.offset(),e(n.draggable)),a=d.cellWidth(),o=d.cellHeight(),r=i.data("_gridstack_node"),s=r?r.width:Math.ceil(i.outerWidth()/a),l=r?r.height:Math.ceil(i.outerHeight()/o);u=i;var c=d.grid._prepareNode({width:s,height:l,_added:!1,_temporary:!0});i.data("_gridstack_node",c),i.data("_gridstack_node_orig",r),i.on("drag",g)},out:function(t,n){var i=e(n.draggable);i.unbind("drag",g);var a=i.data("_gridstack_node");a.el=null,d.grid.removeNode(a),d.placeholder.detach(),d._updateContainerHeight(),i.data("_gridstack_node",i.data("_gridstack_node_orig"))},drop:function(t,n){d.placeholder.detach();var i=e(n.draggable).data("_gridstack_node");i._grid=d;var a=e(n.draggable).clone(!1);a.data("_gridstack_node",i),e(n.draggable).remove(),i.el=a,d.placeholder.hide(),a.attr("data-gs-x",i.x).attr("data-gs-y",i.y).attr("data-gs-width",i.width).attr("data-gs-height",i.height).addClass(d.opts.itemClass).removeAttr("style").enableSelection().removeData("draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled").unbind("drag",g),d.container.append(a),d._prepareElementsByNode(a,i),d._updateContainerHeight(),d._triggerChangeEvent(),d.grid.endUpdate()}})}};return d.prototype._triggerChangeEvent=function(e){var t=this.grid.getDirtyNodes(),n=!1,i=[];t&&t.length&&(i.push(t),n=!0),(n||e===!0)&&this.container.trigger("change",i)},d.prototype._triggerAddEvent=function(){this.grid._addedNodes&&this.grid._addedNodes.length>0&&(this.container.trigger("added",[t.map(this.grid._addedNodes,t.clone)]),this.grid._addedNodes=[])},d.prototype._triggerRemoveEvent=function(){this.grid._removedNodes&&this.grid._removedNodes.length>0&&(this.container.trigger("removed",[t.map(this.grid._removedNodes,t.clone)]),this.grid._removedNodes=[])},d.prototype._initStyles=function(){this._stylesId&&o.removeStylesheet(this._stylesId),this._stylesId="gridstack-style-"+(1e5*Math.random()).toFixed(),this._styles=o.createStylesheet(this._stylesId),null!==this._styles&&(this._styles._max=0)},d.prototype._updateStyles=function(e){if(null!==this._styles&&"undefined"!=typeof this._styles){var t,n="."+this.opts._class+" ."+this.opts.itemClass,i=this;if("undefined"==typeof e&&(e=this._styles._max,this._initStyles(),this._updateContainerHeight()),this.opts.cellHeight&&!(0!==this._styles._max&&e<=this._styles._max)&&(t=this.opts.verticalMargin&&this.opts.cellHeightUnit!==this.opts.verticalMarginUnit?function(e,t){return e&&t?"calc("+(i.opts.cellHeight*e+i.opts.cellHeightUnit)+" + "+(i.opts.verticalMargin*t+i.opts.verticalMarginUnit)+")":i.opts.cellHeight*e+i.opts.verticalMargin*t+i.opts.cellHeightUnit}:function(e,t){return i.opts.cellHeight*e+i.opts.verticalMargin*t+i.opts.cellHeightUnit},0===this._styles._max&&o.insertCSSRule(this._styles,n,"min-height: "+t(1,0)+";",0),e>this._styles._max)){for(var a=this._styles._max;a<e;++a)o.insertCSSRule(this._styles,n+'[data-gs-height="'+(a+1)+'"]',"height: "+t(a+1,a)+";",a),o.insertCSSRule(this._styles,n+'[data-gs-min-height="'+(a+1)+'"]',"min-height: "+t(a+1,a)+";",a),o.insertCSSRule(this._styles,n+'[data-gs-max-height="'+(a+1)+'"]',"max-height: "+t(a+1,a)+";",a),o.insertCSSRule(this._styles,n+'[data-gs-y="'+a+'"]',"top: "+t(a,a)+";",a);this._styles._max=e}}},d.prototype._updateContainerHeight=function(){if(!this.grid._updateCounter){var e=this.grid.getGridHeight();this.container.attr("data-gs-current-height",e),this.opts.cellHeight&&(this.opts.verticalMargin?this.opts.cellHeightUnit===this.opts.verticalMarginUnit?this.container.css("height",e*(this.opts.cellHeight+this.opts.verticalMargin)-this.opts.verticalMargin+this.opts.cellHeightUnit):this.container.css("height","calc("+(e*this.opts.cellHeight+this.opts.cellHeightUnit)+" + "+(e*(this.opts.verticalMargin-1)+this.opts.verticalMarginUnit)+")"):this.container.css("height",e*this.opts.cellHeight+this.opts.cellHeightUnit))}},d.prototype._isOneColumnMode=function(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=this.opts.minWidth},d.prototype._setupRemovingTimeout=function(t){var n=this,i=e(t).data("_gridstack_node");!i._removeTimeout&&n.opts.removable&&(i._removeTimeout=setTimeout(function(){t.addClass("grid-stack-item-removing"),i._isAboutToRemove=!0},n.opts.removeTimeout))},d.prototype._clearRemovingTimeout=function(t){var n=e(t).data("_gridstack_node");n._removeTimeout&&(clearTimeout(n._removeTimeout),n._removeTimeout=null,t.removeClass("grid-stack-item-removing"),n._isAboutToRemove=!1)},d.prototype._prepareElementsByNode=function(n,i){if("undefined"!=typeof e.ui){var a,o,r=this,s=function(e,t){var s,d,l=Math.round(t.position.left/a),c=Math.floor((t.position.top+o/2)/o);if("drag"!=e.type&&(s=Math.round(t.size.width/a),d=Math.round(t.size.height/o)),"drag"==e.type)l<0||l>=r.grid.width||c<0?(r.opts.removable===!0&&r._setupRemovingTimeout(n),l=i._beforeDragX,c=i._beforeDragY,r.placeholder.detach(),r.placeholder.hide(),r.grid.removeNode(i),r._updateContainerHeight(),i._temporaryRemoved=!0):(r._clearRemovingTimeout(n),i._temporaryRemoved&&(r.grid.addNode(i),r.placeholder.attr("data-gs-x",l).attr("data-gs-y",c).attr("data-gs-width",s).attr("data-gs-height",d).show(),r.container.append(r.placeholder),i.el=r.placeholder,i._temporaryRemoved=!1));else if("resize"==e.type&&l<0)return;r.grid.canMoveNode(i,l,c,s,d)&&(r.grid.moveNode(i,l,c,s,d),r._updateContainerHeight())},d=function(t,s){r.container.append(r.placeholder);var d=e(this);r.grid.cleanNodes(),r.grid.beginUpdate(i),a=r.cellWidth();var l=Math.ceil(d.outerHeight()/d.attr("data-gs-height"));o=r.container.height()/parseInt(r.container.attr("data-gs-current-height")),r.placeholder.attr("data-gs-x",d.attr("data-gs-x")).attr("data-gs-y",d.attr("data-gs-y")).attr("data-gs-width",d.attr("data-gs-width")).attr("data-gs-height",d.attr("data-gs-height")).show(),i.el=r.placeholder,i._beforeDragX=i.x,i._beforeDragY=i.y,n.resizable("option","minWidth",a*(i.minWidth||1)),n.resizable("option","minHeight",l*(i.minHeight||1)),"resizestart"==t.type&&d.find(".grid-stack-item").trigger("resizestart")},l=function(t,a){var o=e(this);if(o.data("_gridstack_node")){var s=!1;r.placeholder.detach(),i.el=o,r.placeholder.hide(),i._isAboutToRemove?(s=!0,n.removeData("_gridstack_node"),n.remove()):(r._clearRemovingTimeout(n),i._temporaryRemoved?(o.attr("data-gs-x",i._beforeDragX).attr("data-gs-y",i._beforeDragY).attr("data-gs-width",i.width).attr("data-gs-height",i.height).removeAttr("style"),i.x=i._beforeDragX,i.y=i._beforeDragY,r.grid.addNode(i)):o.attr("data-gs-x",i.x).attr("data-gs-y",i.y).attr("data-gs-width",i.width).attr("data-gs-height",i.height).removeAttr("style")),r._updateContainerHeight(),r._triggerChangeEvent(s),r.grid.endUpdate();var d=o.find(".grid-stack");d.length&&"resizestop"==t.type&&(d.each(function(t,n){e(n).data("gridstack").onResizeHandler()}),o.find(".grid-stack-item").trigger("resizestop"))}};n.draggable(t.extend({},this.opts.draggable,{containment:this.opts.isNested?this.container.parent():null,start:d,stop:l,drag:s})).resizable(t.extend({},this.opts.resizable,{start:d,stop:l,resize:s})),(i.noMove||this._isOneColumnMode()||this.opts.disableDrag)&&n.draggable("disable"),(i.noResize||this._isOneColumnMode()||this.opts.disableResize)&&n.resizable("disable"),n.attr("data-gs-locked",i.locked?"yes":null)}},d.prototype._prepareElement=function(t,n){n="undefined"!=typeof n&&n;var i=this;t=e(t),t.addClass(this.opts.itemClass);var a=i.grid.addNode({x:t.attr("data-gs-x"),y:t.attr("data-gs-y"),width:t.attr("data-gs-width"),height:t.attr("data-gs-height"),maxWidth:t.attr("data-gs-max-width"),minWidth:t.attr("data-gs-min-width"),maxHeight:t.attr("data-gs-max-height"),minHeight:t.attr("data-gs-min-height"),autoPosition:o.toBool(t.attr("data-gs-auto-position")),noResize:o.toBool(t.attr("data-gs-no-resize")),noMove:o.toBool(t.attr("data-gs-no-move")),locked:o.toBool(t.attr("data-gs-locked")),el:t,id:t.attr("data-gs-id"),_grid:i},n);t.data("_gridstack_node",a),this._prepareElementsByNode(t,a)},d.prototype.setAnimation=function(e){e?this.container.addClass("grid-stack-animate"):this.container.removeClass("grid-stack-animate")},d.prototype.addWidget=function(t,n,i,a,o,r,s,d,l,c,h){return t=e(t),"undefined"!=typeof n&&t.attr("data-gs-x",n),"undefined"!=typeof i&&t.attr("data-gs-y",i),"undefined"!=typeof a&&t.attr("data-gs-width",a),"undefined"!=typeof o&&t.attr("data-gs-height",o),"undefined"!=typeof r&&t.attr("data-gs-auto-position",r?"yes":null),"undefined"!=typeof s&&t.attr("data-gs-min-width",s),"undefined"!=typeof d&&t.attr("data-gs-max-width",d),"undefined"!=typeof l&&t.attr("data-gs-min-height",l),"undefined"!=typeof c&&t.attr("data-gs-max-height",c),"undefined"!=typeof h&&t.attr("data-gs-id",h),this.container.append(t),this._prepareElement(t,!0),this._triggerAddEvent(),this._updateContainerHeight(),this._triggerChangeEvent(!0),t},d.prototype.makeWidget=function(t){return t=e(t),this._prepareElement(t,!0),this._triggerAddEvent(),this._updateContainerHeight(),this._triggerChangeEvent(!0),t},d.prototype.willItFit=function(e,t,n,i,a){var o={x:e,y:t,width:n,height:i,autoPosition:a};return this.grid.canBePlacedWithRespectToHeight(o)},d.prototype.removeWidget=function(t,n){n="undefined"==typeof n||n,t=e(t);var i=t.data("_gridstack_node");i||(i=this.grid.getNodeDataByDOMEl(t)),this.grid.removeNode(i,n),t.removeData("_gridstack_node"),this._updateContainerHeight(),n&&t.remove(),this._triggerChangeEvent(!0),this._triggerRemoveEvent()},d.prototype.removeAll=function(e){t.each(this.grid.nodes,t.bind(function(t){this.removeWidget(t.el,e)},this)),this.grid.nodes=[],this._updateContainerHeight()},d.prototype.destroy=function(t){e(window).off("resize",this.onResizeHandler),this.disable(),"undefined"==typeof t||t?this.container.remove():(this.removeAll(!1),this.container.removeData("gridstack")),o.removeStylesheet(this._stylesId),this.grid&&(this.grid=null)},d.prototype.resizable=function(t,n){var i=this;return t=e(t),t.each(function(t,a){a=e(a);var o=a.data("_gridstack_node");"undefined"!=typeof o&&null!==o&&"undefined"!=typeof e.ui&&(o.noResize=!n,o.noResize||i._isOneColumnMode()?a.resizable("disable"):a.resizable("enable"))}),this},d.prototype.movable=function(t,n){var i=this;return t=e(t),t.each(function(t,a){a=e(a);var o=a.data("_gridstack_node");"undefined"!=typeof o&&null!==o&&"undefined"!=typeof e.ui&&(o.noMove=!n,o.noMove||i._isOneColumnMode()?(a.draggable("disable"),a.removeClass("ui-draggable-handle")):(a.draggable("enable"),a.addClass("ui-draggable-handle")))}),this},d.prototype.enableMove=function(e,t){this.movable(this.container.children("."+this.opts.itemClass),e),t&&(this.opts.disableDrag=!e)},d.prototype.enableResize=function(e,t){this.resizable(this.container.children("."+this.opts.itemClass),e),t&&(this.opts.disableResize=!e)},d.prototype.disable=function(){this.movable(this.container.children("."+this.opts.itemClass),!1),this.resizable(this.container.children("."+this.opts.itemClass),!1),this.container.trigger("disable")},d.prototype.enable=function(){this.movable(this.container.children("."+this.opts.itemClass),!0),this.resizable(this.container.children("."+this.opts.itemClass),!0),this.container.trigger("enable")},d.prototype.locked=function(t,n){return t=e(t),t.each(function(t,i){i=e(i);var a=i.data("_gridstack_node");"undefined"!=typeof a&&null!==a&&(a.locked=n||!1,i.attr("data-gs-locked",a.locked?"yes":null))}),this},d.prototype.maxHeight=function(t,n){return t=e(t),t.each(function(t,i){i=e(i);var a=i.data("_gridstack_node");"undefined"!=typeof a&&null!==a&&(isNaN(n)||(a.maxHeight=n||!1,i.attr("data-gs-max-height",n)))}),this},d.prototype.minHeight=function(t,n){return t=e(t),t.each(function(t,i){i=e(i);var a=i.data("_gridstack_node");"undefined"!=typeof a&&null!==a&&(isNaN(n)||(a.minHeight=n||!1,i.attr("data-gs-min-height",n)))}),this},d.prototype.maxWidth=function(t,n){return t=e(t),t.each(function(t,i){i=e(i);var a=i.data("_gridstack_node");"undefined"!=typeof a&&null!==a&&(isNaN(n)||(a.maxWidth=n||!1,i.attr("data-gs-max-width",n)))}),this},d.prototype.minWidth=function(t,n){return t=e(t),t.each(function(t,i){i=e(i);var a=i.data("_gridstack_node");"undefined"!=typeof a&&null!==a&&(isNaN(n)||(a.minWidth=n||!1,i.attr("data-gs-min-width",n)))}),this},d.prototype._updateElement=function(t,n){t=e(t).first();var i=t.data("_gridstack_node");if("undefined"!=typeof i&&null!==i){var a=this;a.grid.cleanNodes(),a.grid.beginUpdate(i),n.call(this,t,i),a._updateContainerHeight(),a._triggerChangeEvent(),a.grid.endUpdate()}},d.prototype.resize=function(e,t,n){this._updateElement(e,function(e,i){t=null!==t&&"undefined"!=typeof t?t:i.width,n=null!==n&&"undefined"!=typeof n?n:i.height,this.grid.moveNode(i,i.x,i.y,t,n)})},d.prototype.move=function(e,t,n){this._updateElement(e,function(e,i){t=null!==t&&"undefined"!=typeof t?t:i.x,n=null!==n&&"undefined"!=typeof n?n:i.y,this.grid.moveNode(i,t,n,i.width,i.height)})},d.prototype.update=function(e,t,n,i,a){this._updateElement(e,function(e,o){t=null!==t&&"undefined"!=typeof t?t:o.x,n=null!==n&&"undefined"!=typeof n?n:o.y,i=null!==i&&"undefined"!=typeof i?i:o.width,a=null!==a&&"undefined"!=typeof a?a:o.height,this.grid.moveNode(o,t,n,i,a)})},d.prototype.verticalMargin=function(e,t){if("undefined"==typeof e)return this.opts.verticalMargin;var n=o.parseHeight(e);this.opts.verticalMarginUnit===n.unit&&this.opts.height===n.height||(this.opts.verticalMarginUnit=n.unit,this.opts.verticalMargin=n.height,t||this._updateStyles())},d.prototype.cellHeight=function(e,t){if("undefined"==typeof e){if(this.opts.cellHeight)return this.opts.cellHeight;var n=this.container.children("."+this.opts.itemClass).first();return Math.ceil(n.outerHeight()/n.attr("data-gs-height"))}var i=o.parseHeight(e);this.opts.cellHeightUnit===i.heightUnit&&this.opts.height===i.height||(this.opts.cellHeightUnit=i.unit,this.opts.cellHeight=i.height,t||this._updateStyles())},d.prototype.cellWidth=function(){return Math.round(this.container.outerWidth()/this.opts.width)},d.prototype.getCellFromPixel=function(e,t){var n="undefined"!=typeof t&&t?this.container.offset():this.container.position(),i=e.left-n.left,a=e.top-n.top,o=Math.floor(this.container.width()/this.opts.width),r=Math.floor(this.container.height()/parseInt(this.container.attr("data-gs-current-height")));return{x:Math.floor(i/o),y:Math.floor(a/r)}},d.prototype.batchUpdate=function(){this.grid.batchUpdate()},d.prototype.commit=function(){this.grid.commit(),this._updateContainerHeight()},d.prototype.isAreaEmpty=function(e,t,n,i){return this.grid.isAreaEmpty(e,t,n,i)},d.prototype.setStatic=function(e){this.opts.staticGrid=e===!0,this.enableMove(!e),this.enableResize(!e),this._setStaticClass()},d.prototype._setStaticClass=function(){var e="grid-stack-static";this.opts.staticGrid===!0?this.container.addClass(e):this.container.removeClass(e)},d.prototype._updateNodeWidths=function(e,t){this.grid._sortNodes(),this.grid.batchUpdate();for(var n={},i=0;i<this.grid.nodes.length;i++)n=this.grid.nodes[i],this.update(n.el,Math.round(n.x*t/e),void 0,Math.round(n.width*t/e),void 0);this.grid.commit()},d.prototype.setGridWidth=function(e,t){this.container.removeClass("grid-stack-"+this.opts.width),t!==!0&&this._updateNodeWidths(this.opts.width,e),this.opts.width=e,this.grid.width=e,this.container.addClass("grid-stack-"+e)},s.prototype.batch_update=i(s.prototype.batchUpdate),s.prototype._fix_collisions=i(s.prototype._fixCollisions,"_fix_collisions","_fixCollisions"),s.prototype.is_area_empty=i(s.prototype.isAreaEmpty,"is_area_empty","isAreaEmpty"),s.prototype._sort_nodes=i(s.prototype._sortNodes,"_sort_nodes","_sortNodes"),s.prototype._pack_nodes=i(s.prototype._packNodes,"_pack_nodes","_packNodes"),s.prototype._prepare_node=i(s.prototype._prepareNode,"_prepare_node","_prepareNode"),s.prototype.clean_nodes=i(s.prototype.cleanNodes,"clean_nodes","cleanNodes"),s.prototype.get_dirty_nodes=i(s.prototype.getDirtyNodes,"get_dirty_nodes","getDirtyNodes"),s.prototype.add_node=i(s.prototype.addNode,"add_node","addNode, "),s.prototype.remove_node=i(s.prototype.removeNode,"remove_node","removeNode"),s.prototype.can_move_node=i(s.prototype.canMoveNode,"can_move_node","canMoveNode"),s.prototype.move_node=i(s.prototype.moveNode,"move_node","moveNode"),s.prototype.get_grid_height=i(s.prototype.getGridHeight,"get_grid_height","getGridHeight"),s.prototype.begin_update=i(s.prototype.beginUpdate,"begin_update","beginUpdate"),s.prototype.end_update=i(s.prototype.endUpdate,"end_update","endUpdate"),s.prototype.can_be_placed_with_respect_to_height=i(s.prototype.canBePlacedWithRespectToHeight,"can_be_placed_with_respect_to_height","canBePlacedWithRespectToHeight"),d.prototype._trigger_change_event=i(d.prototype._triggerChangeEvent,"_trigger_change_event","_triggerChangeEvent"),d.prototype._init_styles=i(d.prototype._initStyles,"_init_styles","_initStyles"),d.prototype._update_styles=i(d.prototype._updateStyles,"_update_styles","_updateStyles"),d.prototype._update_container_height=i(d.prototype._updateContainerHeight,"_update_container_height","_updateContainerHeight"),d.prototype._is_one_column_mode=i(d.prototype._isOneColumnMode,"_is_one_column_mode","_isOneColumnMode"),d.prototype._prepare_element=i(d.prototype._prepareElement,"_prepare_element","_prepareElement"),d.prototype.set_animation=i(d.prototype.setAnimation,"set_animation","setAnimation"),d.prototype.add_widget=i(d.prototype.addWidget,"add_widget","addWidget"),d.prototype.make_widget=i(d.prototype.makeWidget,"make_widget","makeWidget"),d.prototype.will_it_fit=i(d.prototype.willItFit,"will_it_fit","willItFit"),d.prototype.remove_widget=i(d.prototype.removeWidget,"remove_widget","removeWidget"),d.prototype.remove_all=i(d.prototype.removeAll,"remove_all","removeAll"),d.prototype.min_height=i(d.prototype.minHeight,"min_height","minHeight"),d.prototype.min_width=i(d.prototype.minWidth,"min_width","minWidth"),d.prototype._update_element=i(d.prototype._updateElement,"_update_element","_updateElement"),d.prototype.cell_height=i(d.prototype.cellHeight,"cell_height","cellHeight"),d.prototype.cell_width=i(d.prototype.cellWidth,"cell_width","cellWidth"),d.prototype.get_cell_from_pixel=i(d.prototype.getCellFromPixel,"get_cell_from_pixel","getCellFromPixel"),d.prototype.batch_update=i(d.prototype.batchUpdate,"batch_update","batchUpdate"),d.prototype.is_area_empty=i(d.prototype.isAreaEmpty,"is_area_empty","isAreaEmpty"),d.prototype.set_static=i(d.prototype.setStatic,"set_static","setStatic"),
d.prototype._set_static_class=i(d.prototype._setStaticClass,"_set_static_class","_setStaticClass"),n.GridStackUI=d,n.GridStackUI.Utils=o,n.GridStackUI.Engine=s,e.fn.gridstack=function(t){return this.each(function(){var n=e(this);n.data("gridstack")||n.data("gridstack",new d(this,t))})},n.GridStackUI}),function(){"use strict";function e(e){e.initUI()}e.$inject=["c8yDashboardUiProvider"],angular.module("c8y.parts.dashboard2",[]).config(e)}(),function(){"use strict";function e(e,t,n){function i(){r(),a()}function a(){_.forEach(g,o)}function o(e){t.when(e,b)}function r(){_.forEach(u,s)}function s(t){_(v).map(function(e){return _.assign({path:t},e)}).forEach(e.addUrlAction)}function d(e,t){function n(n,i){t[a](n,i).then(function(){t.clearCacheList(),e.reload()})}var i=t.getContext(),a=i.context+"Add",o=i.id,r={singleUseDashboards:!0};t.addDashboard(r,i).then(function(e){e&&(e.deviceType&&(o=e.deviceTypeValue,a="deviceTypeAdd"),n(o,e))})}function l(e,t){var n=_.get(t.getContext(),"id");return e.canAdminMOs([n])}function c(e,t,n,i){function a(e){t.addTab({name:e.name,icon:e.icon,priority:_.isUndefined(e.priority)?1e4:e.priority,path:c+"/dashboard/"+e.id})}function o(e){e.forEach(a)}var r=e.getContext(),s=r.context,d=r.id,c=e.getContextPath();"device"===s?e.getContextObject().then(e.deviceTypeList).then(o):"group"===s&&e.groupList(d).then(o);var p=e.dashboardToPaste();p&&i.addAction({text:n.getString('Paste dashboard "{{name}}"',p),showIf:l,action:h})}function h(e,t,n,i){function a(e){var n=i.getContext(),a=i.getContextPath(n),o=a;e.id&&(o+="/dashboard/"+e.id),t.path(o)}return n.pasteDashboard().then(a).then(e.reload)}function p(e,t,n){function i(e){var i=n.getContext(),a=n.getContextPath(i),o=a;e.id&&(o+="/dashboard/"+e.id),t.path(o)}return{redirectToDashboard:i}}d.$inject=["$route","dashboardSvc"],l.$inject=["c8yPermissions","dashboardSvc"],c.$inject=["dashboardSvc","c8yTabs","gettextCatalog","c8yActions"],h.$inject=["$route","$location","dashboardSvc","c8yUiUtil"],p.$inject=["$injector","$location","c8yUiUtil"];var u=["/device/:deviceId","/group/:groupId"],g=_.map(u,function(e){return e+"/dashboard/:dashboardId"}),f={text:n("Add dashboard"),priority:2500,action:d,showIf:l},m={autoRun:!0,action:c},v=[f,m],b={template:'<c8y-dashboard-gridstack id="::vm.dashboardId"></c8y-dashboard-gridstack>',controllerAs:"vm",controller:["$routeParams",function(e){this.dashboardId=e.dashboardId}]};return{initUI:i,$get:p}}e.$inject=["c8yActionsProvider","c8yViewsProvider","gettext"],angular.module("c8y.parts.dashboard2").provider("c8yDashboardUi",e)}(),function(){"use strict";function e(t,n,i,a,o,r,s,d,l,c,h,p,u,g,f,m){function v(e){return _.map(e,function(e){return _.assign(_.get(e,xe,{}),{id:e.id})})}function b(e){var t=e||{},n=_.assign(_.get(t,xe,{}),{id:t.id},x(t));return R(n).then(y)}function y(e){return e.children?w(e.children).then(function(t){return e.children=t,e}):e}function C(e,t,n){var i=_.cloneDeep(e),a=_.find(t,function(e){return e.name===i.name||e.templateUrl===i.templateUrl});if(a){var o=a.replaceWith;return o&&(i.config=r.invoke(o.config,void 0,{oldConfig:i.config}),a=_.find(t,{name:o.component})),i.templateUrl=a.templateUrl,i.configTemplateUrl=a.configTemplateUrl,i.name=a.name,i.transformConfigWithContext=a.transformConfigWithContext,i.transformConfigWithContext||delete i.transformConfigWithContext,i}return n?null:i}function w(e){return c.list().then(function(t){return _(e).mapValues(function(e){return C(e,t,!1)}).value()})}function x(e){var t=/^c8y_Dashboard!(.+)$/;return _.pickBy(e,function(e,n){return t.test(n)})}function D(e){var t=e.icon,n=e.name,i=k(e);if(!n&&i){var a=ke[i];a&&(t=a.icon||t,n=a.name||n)}return o.when({icon:t||"th",name:n||g.getString("Dashboard")})}function k(e){var t=/^c8y_Dashboard!name!(.+?)\-.+$/,n=_.pickBy(e,function(e,n){return t.test(n)}),i=_.keys(n);if(i.length>0){var a=i[0].match(t);return a[1]}return null}function S(e){return h.canAdminMOs([e]).then(function(t){return t||(e.isFrozen=!t),e.readOnly=!t,e})}function M(e){return e.isFrozen}function W(e){return M(e)?A(e):N(e)}function N(e){return H(e,!0)}function A(e){return H(e,!1)}function H(t,n){return t.isFrozen=n,Re.saveAndWait(t).then(e.clearCacheList)}function R(e){var t=["templateUrl","configTemplateUrl"],n=_.map(e.children,function(e){return o.all(_.map(t,_.partial($,e)))});return o.all(n).then(function(){return e})}function $(e,t){var n=e[t];return p.verifyPluginViewPath(n).then(function(n){return e[t]=n,e})}function T(e){return function(t){var n=_.isObjectLike(t)?t.id:t;return[xe,e,n].join(De)}}function E(e){return Ce.put(U(e),_.cloneDeep(e))}function U(e){var t=_.isObjectLike(e)?e.id:e;return t}function z(e,t){var n,i=_.assign(e||{},{fragmentType:t||xe}),a=d.list(i).then(v);return t&&!e&&(n=we.get(t),a.then(function(e){e.length>0&&we.put(t,e)})),n?o.when(n):a}function I(){we.removeAll()}function O(e,t){var n=Ce.get(U(e)),i=d.detail(e).then(s.getResData).then(b).then(S).then(E),a=(n?o.when(n):i).then(P(t));return a}function P(e){return function(t){var n=t;return(n.deviceType||e)&&(n=L(_.cloneDeep(n))),n}}function j(e,t){var n=_.partial(F,t);return _.forEach(e.children||{},n),e}function F(e,t){var n=t.config||{},i=t.transformConfigWithContext||B;return t.config=i(n,e),t}function B(e,t){var n=function(e){e.__target={id:t.id,name:t.name}};return e&&(e.device={id:t.id,name:t.name},e.datapoints&&_.forEach(e.datapoints,n),e.alarmsEventsConfigs&&_.forEach(e.alarmsEventsConfigs,n),e.options&&e.options.dataPoints&&_.forEach(e.options.dataPoints,n)),e}function L(e){return ge().then(_.partial(j,e))}function q(e){return c.list().then(function(t){return _(e).map(function(e){return C(e,t,!0)}).filter(_.identity).value()})}function G(e,t,n){var i=function(t){return Q(t).then(_.partial(Z,We,e)).then(s.getResData).then(function(e){return O(e,n)})},a=function(){var e=["ROLE_INVENTORY_ADMIN","ROLE_INVENTORY_CREATE"];return h.hasAnyRole(e).then(function(e){return!!e||o.reject()})};return z(null,We(e)).then(function(e){var o;if(e.length)o=O(_.head(e).id,n);else{var r={children:{}};o=q(t).then(function(e){return _.forEach(e,function(e){he(r.children,e)}),a().then(_.partial(i,r)).catch(_.partial(_.identity,r))})}return o})}function V(e){return _.some(_.keys(e),function(e){return/^c8y\_Dashboard\!name\!/.test(e)})}function Y(e,t,n){return q(t).then(function(t){var i=e.children,a=function(e){return O(e,n)};return _.forEach(_.keys(i),function(e){he(i,i[e],!0)}),_.forEach(t,function(e){he(i,e)}),Q(e).then(a)})}function X(e,t,n){var i=_.reduce(e.children,function(e,i){var a=i.id,o=i.config,r={device:function(e){return e.id===n.id&&_.assign(e,_.pick(t,["id","name"])),e},datapoints:function(e){return _.forEach(e,function(e){var i=e.__target;i&&i.id===n.id&&_.assign(i,_.pick(t,["id","name"]))}),e}};return o&&_.forEach(r,function(e,t){o[t]&&(o[t]=e(o[t]))}),e[a]=i,e},{});return e.children=i,e}function Q(e){var t,n=["id","creationContext","readOnly"],i=/^c8y_Dashboard!/,a=_.cloneDeep(e),o=a.id,r={id:o},l=o?"update":"createConfirm";return r[xe]=_.pickBy(a,function(e,t){return!i.test(t)&&!_.includes(n,t)}),J(r),t=d[l](r,a.creationContext),"update"===l&&(t=t.then(function(){return e})),"createConfirm"===l&&(t=t.then(s.getResData).then(b)),t.then(E),t}function J(e){e[xe].global?_.assign(e,{c8y_Global:{}}):e[xe].global||_.assign(e,{c8y_Global:null})}function K(e){return Ce.remove(U(e)),d.remove(e)}function Z(e,t,n,i){var a={id:n.id},o=e(t);return a[o]=i?null:{},Ce.get(o)&&Ce.remove(o),d.save(a)}function ee(e,t){return z(null,e(t))}function te(){var e=["report","device","group"],t=null,i=null;return _.forEach(e,function(e){var a=_.get(n,e+"Id");a&&(t=e,i=a)}),{context:t,id:i}}function ne(){var e=te(),t="";return"group"===e.context&&(t="/group/"+e.id),"device"===e.context&&(t="/device/"+e.id),t}function ie(e,t){var n={templateUrl:"core_dashboard2/dashboardWidget/config.html",controller:"DashboardWidgetConfigController",size:"lg",resolve:{dashboard:function(){return t||{}},component:function(){return e||{}},hideTarget:function(){return t&&t.deviceType}}};return i.open(n).result}function ae(e,t){var n={template:'<div ng-include="\'core_dashboard2/dashboard/new.html\'" ng-controller="DashboardEditCtrl"></div>',controller:["$scope","$uibModalInstance","config",function(e,n,i){e.dashboardId="new",e.modalInstance=n,e.config=i||{},e.creationContext=t}],size:"lg",resolve:{config:_.constant(e)}};return i.open(n).result}function oe(e){var t={templateUrl:"core_dashboard2/dashboard/select.html",controller:"DashboardSelectController",size:"lg",resolve:{config:_.constant(e)}};return i.open(t).result}function re(e,t){var n=angular.extend({title:u("Select dashboard"),preventNew:!0,selectLabel:u("Select"),useReports:!0},t);return oe(n).then(function(t){return e.templateUrl?ce(t,e):q([e]).then(function(e){var n=e[0];return ce(t,n)})})}function se(e){return re(e,{inContext:!0,preventCreate:!0,useReports:!1})}function de(e){return re(e,{onlyReports:!0,useReports:!0,title:u("Select report"),preventCreate:!0})}function le(e){var t={template:'<div ng-include="\'core_dashboard2/dashboard/new.html\'" ng-controller="DashboardEditCtrl"></div>',controller:["$scope","$uibModalInstance",function(t,n){t.modalInstance=n,t.dashboardId=_.get(e,"dashboardId")}],size:"lg"};return i.open(t).result}function ce(e,t,n){var i=e.id||e,o=Ae[i]=Ae[i]||{children:[]},r=o.promise;return o.children.push({child:t,remove:n}),r||(r=o.promise=a(function(){return O(e).then(function(e){return _.forEach(o.children,function(t){e.children=he(e.children||{},t.child,t.remove)}),e}).then(Q)}),r.finally(function(){delete Ae[i]})),r}function he(e,t,n){return t.id||(t.id=String(Math.random()).substr(2)),n?delete e[t.id]:e[t.id]=t,pe(e)}function pe(e){var t=0;return _(e).sortBy("position").forEach(function(e){e.position=t++}),_.cloneDeep(e)}function ue(e){return o.all([ee(Se,e.id),ee(Ne,e.type)]).then(_.flattenDeep)}function ge(){var e=te();return l.detailCached(e.id).then(s.getResData).then(function(t){return t||{id:e.id}})}function fe(e){var t,n=me(e);if(n)return void f.warning(n);He=[];var i=te();He.push({dashboard:_.cloneDeep(e),context:i}),"device"===i.context&&(t=u('Dashboard copied. Navigate to the desired device and select "Paste dashboard"')),"group"===i.context&&(t=u('Dashboard copied. Navigate to the desired group and select "Paste dashboard"')),f.success(t)}function me(e){function t(e){return e.__target.id!==i}var n=te(),i=n.id;if("device"!==n.context&&"group"!==n.context)return u("Only dashboards from devices or groups can be copied");var a=_.every(e.children,function(e){var n=e.config||{},a=!0;return n.device&&n.device.id!==i&&(a=!1),n.datapoints&&_.some(n.datapoints,t)&&(a=!1),a});if(!a){if("device"===n.context)return u("Only dashboards with widgets referencing the current device can be copied.");if("group"===n.context)return u("Only dashboards with widgets referencing the current group can be copied.")}return!1}function ve(){var e=He&&He[0];return e&&e.dashboard}function be(e){var t,n=te(),i=e.context.context;return n.context!==i&&("device"===i&&(t=u("Device dashboards can only be copied into a device.")),"group"===i&&(t=u("Group dashboards can only be copied into a group."))),t&&f.warning(t),!t}function ye(){if(He&&He.length){if(!be(_.last(He)))return!1;var e=He.pop(),t=e.dashboard,n=te(),i=Re[n.context+"Add"];I();for(var a in t)a.match(/!/)&&delete t[a];return"device"===n.context&&"device"===e.context.context&&(t=X(t,n,e.context)),t.creationContext=n,delete t.id,Q(t).then(function(e){return i(n.id,e)})}}function _e(){var e=["ROLE_INVENTORY_ADMIN","ROLE_INVENTORY_CREATE"];return h.hasAnyRole(e)}var Ce=t("dashboards"),we=t("dashboardLists"),xe="c8y_Dashboard",De="!",ke={welcome:{icon:"cloud",name:g.getString("Welcome")},home:{icon:"home",name:g.getString("Home")}},Se=T("device"),Me=T("group"),We=T("name"),Ne=T("type"),Ae={},He=[],Re={list:z,save:Q,saveAndWait:_.partialRight(Q,!0),detail:O,named:G,isNamed:V,remove:K,isLocked:M,toggleLock:W,lock:N,unlock:A,deviceAdd:_.partial(Z,Se),deviceRemove:_.partialRight(_.partial(Z,Se),!0),deviceList:_.partial(ee,Se),deviceTypeAdd:_.partial(Z,Ne),deviceTypeRemove:_.partialRight(_.partial(Z,Ne),!0),deviceTypeList:ue,groupAdd:_.partial(Z,Me),groupRemove:_.partialRight(_.partial(Z,Me),!0),groupList:_.partial(ee,Me),getContextObject:ge,addDashboard:ae,copyDashboard:fe,pasteDashboard:ye,dashboardToPaste:ve,selectDashboard:ae,editCurrentDashboard:le,editChildUI:ie,addChildUI:_.partial(ie,null),restoreDefaultChildren:Y,getContext:te,getContextPath:ne,appendChild:_.partialRight(ce,!1),updateChild:_.partialRight(ce,!1),removeChild:_.partialRight(ce,!0),clearCacheList:I,addWidgetToSelectedDashboard:re,addWidgetToSelectedDashboardInContext:se,addWidgetToSelectedReport:de,getIconNameObj:D,hasWritePermissions:_e,VERSION:2};return _.assign(Re,m)}e.$inject=["$cacheFactory","$routeParams","$uibModal","$timeout","$q","$injector","c8yBase","dashboardInventorySvc","c8yInventory","c8yComponents","c8yPermissions","c8yUiUtil","gettext","gettextCatalog","c8yAlert","c8yDashboardStyle"],angular.module("c8y.parts.dashboard2").factory("dashboardSvc",e)}(),function(){"use strict";function e(e){function t(e){$[e]=!0}function n(e){_.unset($,e)}function i(e){T.push(e)}function a(e){_.remove(T,e)}function o(e){E.push(e)}function r(e){_.remove(E,e)}function s(){return _.cloneDeep(E)}function d(e){return _.transform([(e||{}).classes||{},$],function(e,t){_.forOwn(t,function(t,n){var i=l(n);c(e,i)||(e[n]=t)})},{})}function l(e){return _.find(T,function(t){return t.test(e)})}function c(e,t){return t&&_.some(_.keys(e),function(e){return t.test(e)})}function h(e){return _.defaults(p(e),(e||{}).styles||{},R)}function p(e){var t=(e||{}).widgetMargin,n=_.find([t,U.margin],_.isFinite);return{margin:-n+"px"}}function u(e){I[e]=!0}function g(e){_.unset(I,e)}function f(e){O.push(e)}function m(e){_.remove(O,e)}function v(e){P.push(e)}function b(e){_.remove(P,e)}function y(){return _.cloneDeep(P)}function C(e){j.push(e)}function w(e){_.remove(j,e)}function x(){return _.cloneDeep(j)}function D(e,t){return _.transform([(e||{}).classes||{},(t||{}).widgetClasses||{},I],function(e,t){_.forOwn(t,function(t,n){var i=k(n);c(e,i)||(e[n]=t)})},{})}function k(e){return _.find(O,function(t){return t.test(e)})}function S(e,t){return _.defaults(M(e,t),(e||{}).styles||{},(t||{}).widgetStyles||{},z)}function M(e,t){var n=W(e,t);return{"margin-top":n.top+"px","margin-bottom":n.bottom+"px","margin-left":n.left+"px","margin-right":n.right+"px"}}function W(e,t){var n=N(e,t),i=(e||{}).margins||{};return{top:_.find([i.top,n.top],_.isFinite),bottom:_.find([i.bottom,n.bottom],_.isFinite),left:_.find([i.left,n.left],_.isFinite),right:_.find([i.right,n.right],_.isFinite)}}function N(e,t){var n=(t||{}).widgetMargin;return{top:_.find([n,U.top],_.isFinite),bottom:_.find([n,U.bottom],_.isFinite),left:_.find([n,U.left],_.isFinite),right:_.find([n,U.right],_.isFinite)}}function A(){return U.margin}function H(e,t){var n=W(e,t);return{bottom:10+n.bottom+"px",right:5+n.right+"px"}}var R={},$={"dashboard-theme-light":!0},T=[/^dashboard\-theme\-.*$/],E=[{label:e("Light"),default:!0,class:"dashboard-theme-light"},{label:e("Dark"),class:"dashboard-theme-dark"},{label:e("Transparent"),class:"dashboard-theme-transparent"},{label:e("Branded"),class:"dashboard-theme-branded"}],U={margin:15,top:15,bottom:15,left:15,right:15},z={},I={},O=[/^panel\-title\-.*$/,/^panel\-content\-.*$/],P=[{label:e("Regular"),default:!0,class:"panel-title-regular"},{label:e("Borderless"),class:"panel-title-border"},{label:e("Overlay"),class:"panel-title-overlay"},{label:e("Hidden"),class:"panel-title-hidden"}],j=[{label:e("Light"),default:!0,class:"panel-content-light"},{label:e("Dark"),class:"panel-content-dark"},{label:e("Transparent"),class:"panel-content-transparent"},{label:e("Branded"),class:"panel-content-branded"}];return{addDefaultDashboardClass:t,removeDefaultDashboardClass:n,addDashboardClassesGroup:i,removeDashboardClassesGroup:a,addDashboardThemeClass:o,removeDashboardThemeClass:r,getDashboardThemeClasses:s,getApplicableDashboardClasses:d,getApplicableDashboardStyles:h,addDefaultWidgetClass:u,removeDefaultWidgetClass:g,addWidgetClassesGroup:f,removeWidgetClassesGroup:m,addWidgetHeaderClass:v,removeWidgetHeaderClass:b,getWidgetHeaderClasses:y,addWidgetContentClass:C,removeWidgetContentClass:w,getWidgetContentClasses:x,getApplicableWidgetClasses:D,getApplicableWidgetStyles:S,getDefaultWidgetMargins:N,getDefaultDashboardWidgetMargin:A,getApplicableWidgetHandleStyles:H}}e.$inject=["gettext"],angular.module("c8y.parts.dashboard2").factory("c8yDashboardStyle",e)}(),function(){"use strict";function e(e){function t(t,n){var i,a=_.get(n,"id");return i=a?e.createChildAddition(t,a):e.create(t)}return{createConfirm:t,update:e.update,save:e.save,detail:e.detail,list:e.list,remove:e.remove}}angular.module("c8y.parts.dashboard2").factory("dashboardInventorySvc",["c8yInventory",e])}(),function(){"use strict";function e(){this.widgets={},this.dashboards={}}angular.module("c8y.parts.dashboard2").service("dashboardCommunicationSvc",[e]),e.prototype.addDashboard=function(e){this.dashboards[e.$id]=e.dashboard},e.prototype.removeDashboard=function(e){delete this.dashboards[e.$id]},e.prototype.getDashboards=function(){return _.values(this.dashboards)},e.prototype.addWidget=function(e){this.widgets[e.$id]=e.child},e.prototype.removeWidget=function(e){delete this.widgets[e.$id]},e.prototype.getWidgets=function(){return _.assign({},this.widgets)}}(),function(){"use strict";function e(e,t,n,i){function a(a,s){function d(i){var o,s=e(r);_.isObjectLike(i)&&(o=_.map(i,function(e){var n,i=u[e.id],o=t.defer();return i?(i.scope.child=e,o.resolve(i)):(n=a.$new(),n.child=e,s(n,function(t){i=u[e.id]={el:t,scope:n},o.resolve(i)})),o.promise}),h.off("change",c),t.all(o).then(function(){var e=_(u);e.map(function(e,t){return t}).filter(function(e){return!i[e]}).forEach(function(e){var t=u[e];p.remove_widget(t.widget_el),t.scope.$destroy(),delete u[e]}),e.filter(function(e){return!e.widget_el}).sortBy(function(e){return e.scope.child._y}).forEach(function(e){var t=$("<div></div>"),i=e.scope.child,o=!!_.isUndefined(i._x);"Twitter news"===i.name&&t.addClass("grid-floater"),t.html(e.el),e.widget_el=t,p.addWidget(t,i._x,i._y,i._width||4,i._height||4,o),l(a.isFrozen||i._isFrozen,t),t.find(".ui-resizable-handle").css(n.getApplicableWidgetHandleStyles(i,a.dashboard))}),h.on("change",c)}))}function l(e,t){e&&(p.locked(t,!0),p.movable(t,!1),p.resizable(t,!1))}function c(e,t){a.$broadcast("dashboard-change"),_(t).map(function(e){var t=_.find(u,function(t){return t.widget_el&&t.widget_el.is(e.el)}),n=t&&t.scope;return a&&n.$broadcast("dashboardResize"),{child:n&&n.child,widgetData:e}}).map(function(e){var t=e.widgetData;return e.child&&(e.child._x=t.x,e.child._y=t.y,e.child._width=t.width,e.child._height=t.height),e.child}).forEach(function(e){e&&a.editChildDirect(e)})}var h=$(s).find(".dashboard-container");h.gridstack(_.clone(o));var p=h.data("gridstack"),u={};a.$watch("dashboard",function(e){e&&(i.addDashboard(a),a.$on("$destroy",function(){i.removeDashboard(a)}))}),a.$watch("children",d,!0)}var o={cellHeight:80,verticalMargin:0,handle:".drag-handle",draggable:{handle:".drag-handle",scroll:!1,appendTo:"body"}},r='<c8y-dashboard-child config="child"></c8y-dashboard-child>';return{scope:{id:"=",name:"@",defaultChildren:"=",isFrozen:"=?",useContext:"&"},restrict:"E",templateUrl:"core_dashboard2/dashboard/dashboard.html",link:a,controller:"DashboardCtrl"}}e.$inject=["$compile","$q","dashboardSvc","dashboardCommunicationSvc"],angular.module("c8y.parts.dashboard2").directive("c8yDashboardGridstack",e)}(),function(){"use strict";function e(e,t,n,i,a,o,r,s,d,l,c){function h(t){t&&a.detail(t,e.useContext()).then(p)}function p(t){t&&(e.dashboard=t,e.children=t.children||{},e.nochildren=!_.keys(e.children).length,e.isFrozenDirective=e.isFrozen,e.isFrozen=e.isFrozen||t.isFrozen,e.isNamed?a.hasWritePermissions().then(function(n){n||(e.isFrozenDirective=!0,t.isFrozen=e.isFrozen=!0),w(!0)}):w())}function u(t){t&&(e.isNamed=!0,a.named(t,e.defaultChildren,e.useContext()).then(p))}function g(t){a.appendChild(e.dashboard,t).then(p)}function f(t){a.updateChild(e.dashboard,t).then(p)}function m(t){var n=a.editChildUI(t,e.dashboard);return n.then(f),n}function v(t){a.updateChild(e.dashboard,t).then(p)}function b(t){a.removeChild(e.dashboard,t).then(p)}function y(){e.defaultChildren&&a.restoreDefaultChildren(e.dashboard,e.defaultChildren,e.useContext()).then(p)}function C(){a.addChildUI(e.dashboard).then(g)}function w(t){$||U||e.isFrozenDirective||($=!0,S(),A(),e.isFrozen||(x(),D(),M(t),(!t||t&&!E)&&W(),t||N()))}function x(){i.addAction({text:d("Add widget to dashboard"),action:C,priority:2600})}function D(){c.shouldShowSmartRules().then(function(e){if(r.has("smartRuleTemplatesSvc")&&e){var t="sendDashboardsViaEmail",n=r.get("smartRuleTemplatesSvc");n.mustBeAvailable(t).then(_.partial(k,t))}})}function k(t){i.addAction({text:d("Send dashboard via email"),priority:2100,action:["c8yUiUtil","c8yInventory","c8yBase",function(i,o,d){var l="report"===i.getContext().context,c=l?o.detail(T.id).then(d.getResData).then(_.partialRight(_.pick,["name","icon"])):a.getIconNameObj(e.dashboard);c.then(function(e){var i=r.get("smartRulesSvc"),a={config:{dashboard:e,url:n.absUrl(),subject:s.getString("Print screen of {{name}}",e)}};i.createInstanceWithUIByName(t,a)})}]})}function S(){if(!e.dashboard.readOnly){var n=a.isLocked(e.dashboard);i.addAction({text:d(n?"Unlock dashboard":"Lock dashboard"),priority:2200,action:function(){return a.toggleLock(e.dashboard).then(function(){t.reload()}).then(_.partial(_.unary(l.success),d(n?"Your dashboard is unlocked now.":"Your dashboard is locked now.")))}})}}function M(t){t&&e.defaultChildren&&i.addAction({text:d("Restore default dashboard"),priority:2050,action:y})}function W(){i.addAction({text:d("Edit dashboard"),priority:2400,action:function(){var n=e.isNamed?{dashboardId:e.dashboard.id}:void 0;a.editCurrentDashboard(n).then(t.reload)}})}function N(){i.addAction({text:d("Remove dashboard"),priority:2e3,action:function(){var t=e.dashboard,i=t.deviceType&&t.deviceTypeValue?s.getString('Do you want to remove the dashboard named "{{name}}" from all devices of the type "{{deviceTypeValue}}"?',t):s.getString('Do you want to remove the dashboard named "{{name}}"?',t),r={title:d("Are you sure?"),body:i,status:"danger"},l=_.partial(a.remove,t),c=function(){n.path(a.getContextPath())};T.id&&o(r).then(l).then(a.clearCacheList).then(c)}})}function A(){i.addAction({text:d("Copy dashboard"),priority:2300,action:function(){a.copyDashboard(e.dashboard)}})}function H(e){return e.translateTitle?s.getString(e.title):e.title}function R(){U=!0}var $=!1,T=a.getContext(),E="report"===T.context,U=!1;e.$watch("id",h),e.$watch("config",p),e.$watch("name",u),e.$on("$destroy",R),e.$on("c8yResetDefaultChildren",y),e.removeChild=b,e.editChild=m,e.editChildDirect=v,e.addChild=C,e.getTranslatedChildTitle=H,e.getApplicableDashboardClasses=a.getApplicableDashboardClasses,e.getApplicableDashboardStyles=a.getApplicableDashboardStyles,e.getApplicableWidgetClasses=a.getApplicableWidgetClasses,e.getApplicableWidgetStyles=a.getApplicableWidgetStyles,e.getApplicableWidgetHandleStyles=a.getApplicableWidgetHandleStyles}e.$inject=["$scope","$route","$location","c8yActions","dashboardSvc","c8yModal","$injector","gettextCatalog","gettext","c8yAlert","c8yUiUtil"],angular.module("c8y.parts.dashboard2").controller("DashboardCtrl",e)}(),function(){"use strict";function e(e,t,n,i,a,o,r,s,d){function l(t){e.dashboards=t}function c(){delete e.dashboards;var t="list",d=r.getContext(),c=[];if(d.context&&s.inContext&&(t=("device"===d.context?"deviceType":d.context)+"List"),!s.onlyReports){var p;p=d.id&&"device"===d.context?o.detail(d.id).then(a.getResData).then(r[t]):d.id&&"list"!==t?r[t](d.id):r[t](),c.push(p)}try{var u=n.get("c8yReports");(s.onlyReports||s.useReports)&&u&&c.push(u.list())}catch(e){}return i.all(c).then(_.flattenDeep).then(h).then(l)}function h(e){return _.filter(e,function(e){return e.name})}function p(e){e.c8y_Report?r.named("report_"+e.id).then(t.close):t.close(e)}function u(){t.dismiss()}function g(){return s.title||d("Select dashboard")}function f(){return s.selectLabel||d("Add")}s=s||{},e.cancel=u,e.select=p,e.config=s,e.getConfigTitle=g,e.getConfigSelectLabel=f,c()}e.$inject=["$scope","$uibModalInstance","$injector","$q","c8yBase","c8yDevices","dashboardSvc","config","gettext"],angular.module("c8y.parts.dashboard2").controller("DashboardSelectController",e)}(),function(){"use strict";function e(e,t,n,i,a,o,r,s,d,l,c){function h(){var t=e.dashboardId||n.dashboardId,a={name:"Dashboard",priority:1e4,icon:"th",global:!0};"new"===t&&(t=null),m(t),t?i.detail(t).then(p):p(a)}function p(t){e.dashboard=_.cloneDeep(t),e.isNamedDashboard=i.isNamed(e.dashboard)}function u(t){_.assign(e.dashboard,t),e.saved=!0,i.clearCacheList(),_.get(e,"dashboard.id")||l.redirectToDashboard(t),f("saved",t)}function g(){var t=e.dashboard;e.creationContext&&(t=_.merge(t,{creationContext:e.creationContext})),i.saveAndWait(t).then(u)}function f(t,n){if(e.modalInstance){var i=t?"close":"dismiss";e.modalInstance[i](n||e.dashboard)}}function m(t){e.title=c(t?"Edit dashboard":"Create dashboard")}e.save=g,e.cancel=f,e.icons=a,e.beta=o.beta,h()}e.$inject=["$scope","$location","$routeParams","dashboardSvc","iconList","info","c8yUiUtil","c8yUserGroup","c8yPermissions","c8yDashboardUi","gettext"],angular.module("c8y.parts.dashboard2").controller("DashboardEditCtrl",e)}(),function(){"use strict";function e(e,t,n,i){function a(){var e=i.getContext(),t=e.context;"device"===t&&i.getContextObject().then(o)}function o(t){e.dashboard.deviceTypeValue=e.deviceType=t.type}function r(e){return _.merge(i.getApplicableDashboardClasses(e),i.getApplicableWidgetClasses(null,e))}e.forms={},e.defaultDashboardWidgetMargin=i.getDefaultDashboardWidgetMargin(),e.dashboardThemeClasses=i.getDashboardThemeClasses(),e.widgetHeaderClasses=i.getWidgetHeaderClasses(),e.getApplicableDashboardClasses=i.getApplicableDashboardClasses,e.getApplicableDashboardStyles=i.getApplicableDashboardStyles,e.getApplicableWidgetClasses=i.getApplicableWidgetClasses,e.getApplicableWidgetStyles=i.getApplicableWidgetStyles,e.getPreviewClasses=r,a()}e.$inject=["$scope","c8yBase","c8yPermissions","dashboardSvc"],angular.module("c8y.parts.dashboard2").controller("newDashboardCtrl",e)}(),function(){"use strict";function e(e,t,n){function i(e){g.dashboard&&a(),e.saved&&g.saved&&u&&t.setMOPermissions(g.dashboard,g.permissions)}function a(){t.mustHaveAllRoles(m).then(function(){e.show(),u=!0,o(g.dashboard),r()})}function o(e){t.getMOPermissions(e).then(d)}function r(){n.list().then(function(e){g.groups=s(e)})}function s(e){var t=["id","name"];return _.map(e,function(e){return _.reduce(t,function(t,n){return t[n]=e[n],t},{})})}function d(e){g.permissions=e}function l(){c()&&g.permissions.groups.push(_.cloneDeep(f))}function c(){var e=_.last(_.get(g,"permissions.groups"));return!e||e.group&&e.access}function h(e){_.remove(_.get(g,"permissions.groups"),function(t){return t===e})}function p(){g.dashboard.global&&(g.permissions.groups=[])}var u,g=this,f={source:null,type:"*",scope:"MANAGED_OBJECT",access:null},m=["ROLE_USER_MANAGEMENT_ADMIN","ROLE_INVENTORY_ADMIN"];_.assign(g,{$onChanges:i,clearPermissions:p,removePermission:h,addPermission:l,canAddPermission:c,accessTypes:t.getAccessTypes()}),e.hide()}e.$inject=["$element","c8yPermissions","c8yUserGroup"],angular.module("c8y.parts.dashboard2").component("c8yDashboardPermissions",{templateUrl:"core_dashboard2/dashboard/dashboardPermissions.html",controllerAs:"vm",controller:e,bindings:{dashboard:"<",saved:"<"}})}(),angular.module("c8y.parts.dashboard2").directive("c8yDashboardChild",["c8yUiUtil","dashboardCommunicationSvc",function(e,t){"use strict";function n(n){t.addWidget(n),n.$on("$destroy",function(){t.removeWidget(n)}),n.editChild=function(t){n.$parent.editChild(t).then(function(t){e.verifyPluginViewPath(t.templateUrl).then(function(e){t.templateUrl=e,n.child=t})})}}return{replace:!0,restrict:"E",templateUrl:"core_dashboard2/dashboardWidget/dashboardChild.html",link:n}}]),function(){"use strict";function e(e,t,n,i,a,o,r,s,d){function l(t){e.components=t,e.data.cmp=h(o)}function c(t){_.isObjectLike(t)&&(e.config.device={id:t.id,name:t.name,idPath:t.idPath})}function h(t){return _.find(e.components,function(e){return e.name===t.name})}function p(t,n){if(t){t=t||{},n=n||{};var i=t.name,a=n.name,o=d.getString(t.nameDisplay||i),r=d.getString(n.nameDisplay||a);N.name=i,N.templateUrl=t.templateUrl,N.configTemplateUrl=t.configTemplateUrl,e.componentOptions=t.options||{},e.componentOptions.widgetDefaults&&_.assign(N,e.componentOptions.widgetDefaults),N.title&&N.title!==r||(N.title=o),_.isUndefined(N.col)&&(N.col=M),e.forms.componentForm.$error={}}}function u(){n.list().then(l)}function g(){N.config=e.config,e.$broadcast("saveWidget"),t.close(N)}function f(){e.$broadcast("cancelWidget"),t.dismiss()}function m(){var t=i.getContext(),n=["device","group"];_.includes(n,t.context)&&(e[t.context+"Id"]=t.id,e.rootId=S=t.id)}function v(e){return!(e.options&&e.options.noNewWidgets)}function b(e){return e.nameDisplay||e.name}function y(){return!(_.get(e,"componentOptions.noDeviceTarget")||_.get(e,"componentOptions.deviceTargetNotRequired")||_.get(e,"config.device"))}function C(e){return e.description||s("no description")}function w(e,t){return _.merge(i.getApplicableDashboardClasses(t),i.getApplicableWidgetClasses(e,t))}function x(){var t=_.keys(W.widgetClasses);e.dashboardWidgetHeaderOption=_.find(e.widgetHeaderClasses,function(e){return _.includes(t,e.class)});var n=_.keys(W.classes);e.dashboardWidgetContentOption=_.find(e.widgetContentClasses,function(e){return _.includes(n,e.class.replace("panel-content-","dashboard-theme-"))}),e.showVisualConfig=D()}function D(){var e=i.getContext(),t="report"===e.context;return!t}function k(e){e&&$('[name="forms.componentForm"]').find('input[type="search"]').focus()}var S,M=6,W=_.cloneDeep(a),N=_.cloneDeep(o);e.cancel=f,e.save=g,e.data={},e.component=N,e.dashboard=W,e.config=N.config||{},e.title=s(N.id?"Edit widget":"Create widget"),e.noNewWidgets=v,e.orderWidgets=b,e.hideTarget=r,e.targetNotSelectedValidation=y,e.$watch("data.cmp",p),e.$watch("_config.device",c),e._config={device:e.config.device},e.getItemDescription=C,e.widgetHeaderClasses=i.getWidgetHeaderClasses(),e.widgetContentClasses=i.getWidgetContentClasses(),e.getApplicableDashboardClasses=i.getApplicableDashboardClasses,e.getApplicableDashboardStyles=i.getApplicableDashboardStyles,e.getApplicableWidgetClasses=i.getApplicableWidgetClasses,e.getApplicableWidgetStyles=i.getApplicableWidgetStyles,e.defaultWidgetMargins=i.getDefaultWidgetMargins(N,W),e.getPreviewClasses=w,e.onOpenClose=k,u(),m(),x()}e.$inject=["$scope","$uibModalInstance","c8yComponents","dashboardSvc","dashboard","component","hideTarget","gettext","gettextCatalog"],angular.module("c8y.parts.dashboard2").controller("DashboardWidgetConfigController",e)}(),function(){"use strict";function e(){function e(){l.ngModel.$render=t}function t(){l.classes=_.cloneDeep(l.ngModel.$modelValue||{}),n()}function n(){l.selectedOption=i(l.classes)||a()}function i(e){var t=_.keys(e);return _.find(l.options,function(e){return _.includes(t,e.class)})}function a(){return l.placeholderOption||_.find(l.options,{default:!0})||_.find(l.options,{class:""})}function o(e){r(l.classes),l.selectedOption===e?l.selectedOption=a():(l.selectedOption=e,s(l.classes,e)),d(l.classes)}function r(e){_.forEach(_.map(l.options,"class"),function(t){_.unset(e,t)})}function s(e,t){_.isEmpty(t.class)||(e[t.class]=!0)}function d(e){l.ngModel.$setViewValue(e),l.ngModel.$render()}var l=this;_.assign(l,{$onInit:e,onOptionClicked:o})}angular.module("c8y.parts.dashboard2").component("c8yClassSelector",{require:{ngModel:"ngModel"},bindings:{label:"<",placeholder:"<",options:"<",
placeholderOption:"<"},templateUrl:"core_dashboard2/visualConfig/classSelector.html",controller:e,controllerAs:"vm"})}(),function(){"use strict";function e(e){function t(){o.ngModel.$render=n}function n(){o.margins=o.singleValue?{margin:o.ngModel.$modelValue}:_.cloneDeep(o.ngModel.$modelValue||{})}function i(e){return o.placeholders&&o.placeholders[e]||o.placeholder}function a(){o.ngModel.$setViewValue(o.singleValue?o.margins.margin:o.margins),o.ngModel.$render()}var o=this,r={single:e("Margin"),top:e("Top margin"),bottom:e("Bottom margin"),left:e("Left margin"),right:e("Right margin")};_.assign(o,{defaultLabels:r,$onInit:t,getPlaceholder:i,onMarginsChanged:a})}e.$inject=["gettext"],angular.module("c8y.parts.dashboard2").component("c8yMarginsEditor",{require:{ngModel:"ngModel"},bindings:{label:"<",labels:"<",placeholder:"<",placeholders:"<",singleValue:"<"},templateUrl:"core_dashboard2/visualConfig/marginsEditor.html",controller:e,controllerAs:"vm"})}(),function(){"use strict";function e(e){var t;t='<div class="dashboard" style="clear:both" ng-class="getApplicableDashboardClasses(dashboard)">\n  <!-- empty state -->\n  <div class="c8y-empty-state text-center" ng-show="nochildren" style="margin-top: 30px">\n    <h1 class="c8y-icon c8y-icon-device c8y-icon-duocolor"></h1>\n    <h3 translate>No widgets to display.</h3>\n    <p translate>Please add widgets to this dashboard.</p>\n    <p><button ng-click="addChild()" class="btn btn-primary" translate>Add widget</button></p>\n    <p><small translate>Find out more on the <a c8y-guide-href="/guides/users-guide/cockpit/#dashboards">User Guide</a>.</small></p>\n  </div>\n  <!-- /.empty state -->\n\n\n  <div class="dashboard-container grid-stack" ng-style="getApplicableDashboardStyles(dashboard)">\n  </div>\n</div>\n',e.put("core_dashboard2/dashboard/dashboard.html",t),e.put("/apps/core/dashboard2/dashboard/dashboard.html",t),t='<div class="form-group" ng-show="!vm.dashboard.global" style="margin-top: 1em">\n <a href="" class="btn btn-link" ng-click="vm.addPermission()" ng-disabled="!vm.canAddPermission()">\n   <i c8y-icon="plus"></i> <translate>Add permission</translate>\n </a>\n</div>\n\n<div style="clear: both" class="row" ng-show="!dashboard.global && permissions.groups.length">\n  <label style="text-transform: capitalize" class="col-sm-6">\n    <translate>Group</translate>\n  </label>\n  <label class="col-sm-6">\n    <translate>Permission</translate> *\n  </label>\n</div>\n\n<div class="form-group" ng-show="!vm.dashboard.global">\n  <div class="row" ng-repeat="permission in vm.permissions.groups">\n    <div class="col-sm-6">\n      <ui-select required ng-model="permission.group">\n        <ui-select-match placeholder="{{\'Select or search\' | translate}}">{{$select.selected.name}}</ui-select-match>\n        <ui-select-choices repeat="group in vm.groups | filter: $select.search | orderBy:\'name\' track by group.id">\n          <div ng-bind-html="group.name | highlight: $select.search"></div>\n        </ui-select-choices>\n      </ui-select>\n    </div>\n    <div class="col-sm-5">\n      <ui-select required ng-model="permission.access">\n        <ui-select-match placeholder="{{\'Select or search\' | translate}}">{{$select.selected}}</ui-select-match>\n        <ui-select-choices repeat="at in vm.accessTypes | filter: $select.search">\n          <div ng-bind-html="at | highlight: $select.search"></div>\n        </ui-select-choices>\n      </ui-select>\n    </div>\n    <button class="btn btn-danger btn-xs showOnHover" ng-click="vm.removePermission(permission)">\n      <i c8y-icon="times"></i>\n    </button>\n  </div>\n</div>\n\n<div class="form-group">\n  <div class="checkbox">\n    <label>\n      <input type="checkbox" ng-model="vm.dashboard.global" ng-change="vm.clearPermissions()"/>\n      <translate>Dashboard visible to all users</translate>\n    </label>\n  </div>\n</div>\n',e.put("core_dashboard2/dashboard/dashboardPermissions.html",t),e.put("/apps/core/dashboard2/dashboard/dashboardPermissions.html",t),t='<div ng-controller="newDashboardCtrl">\n\n  <div class="modal-header">\n    <h3>{{title | translate}}</h3>\n  </div>\n\n  <div class="modal-body">\n    <form name="forms.newDashboard">\n      <div ng-if="!isNamedDashboard">\n        <h6 class="legend"><span translate>Dashboard info</span></h6>\n        <div class="row">\n          <div class="col-sm-7">\n            <div class="form-group">\n              <label>\n                <span translate>Menu label</span>\n                <i c8y-icon="question-circle-o" class="text-primary" uib-tooltip="{{\'Menu label to display in submenu when dashboard is attached\' | translate}}" tooltip-append-to-body="true"></i>\n              </label>\n              <input class="form-control" name="name" ng-model="dashboard.name" required>\n              <c8y-error-feedback field="forms.newDashboard.name"></c8y-error-feedback>\n            </div>\n          </div>\n          <div class="col-sm-3">\n            <div class="form-group">\n              <label>\n                <span translate>Location in navigation</span>\n                <i c8y-icon="question-circle-o" class="text-primary" uib-tooltip="{{\'Order in navigation menu (10000 first, -10000 last)\' | translate}}" tooltip-append-to-body="true">\n                </i>\n              </label>\n              <input type="number" class="form-control" name="priority" ng-model="dashboard.priority" required>\n              <c8y-error-feedback field="forms.newDashboard.priority"></c8y-error-feedback>\n            </div>\n          </div>\n          <div class="col-sm-2">\n            <div class="form-group">\n              <label translate>Icon</label>\n              <ui-select ng-model="dashboard.icon">\n                <ui-select-match placeholder="{{\'Select or search icon\' | translate}}">\n                  <i c8y-icon="{{$select.selected}}"></i>\n                  {{$select.selected}}\n                </ui-select-match>\n                <ui-select-choices repeat="item in icons | filter: $select.search">\n                  <div>\n                    <i c8y-icon="{{item}}"></i> {{item}}\n                  </div>\n                </ui-select-choices>\n              </ui-select>\n            </div>\n          </div>\n        </div>\n\n        <div class="row" style="position: relative">\n          <div class="col-sm-7">\n\n            <c8y-dashboard-permissions saved="saved" dashboard="dashboard"></c8y-dashboard-permissions>\n\n            <div class="form-group" ng-show="!dashboard.id && deviceType">\n              <div class="checkbox">\n                <label>\n                  <input type="checkbox" ng-model="dashboard.deviceType">\n                  <translate>Apply dashboard to all devices of type <i>{{dashboard.deviceTypeValue}}</i></translate>\n                </label>\n              </div>\n            </div>\n\n            <div class="alert alert-info" ng-show="dashboard.deviceType && dashboard.deviceTypeValue">\n              <i c8y-icon="info"></i>\n              <translate>This dashboard is shared between all devices of the type <i>{{dashboard.deviceTypeValue}}</i></translate>\n            </div>\n\n          </div>\n        </div>\n      </div>\n\n      <div>\n        <h6 class="legend"><span translate>Dashboard layout</span></h6>\n\n        <div class="row">\n          <div class="col-sm-6">\n            <c8y-class-selector label="\'Dashboard theme\' | translate" placeholder="\'Select theme\' | translate" options="dashboardThemeClasses" ng-model="dashboard.classes">\n            </c8y-class-selector>\n\n\n            <c8y-class-selector label="\'Default widget header style\' | translate" placeholder="\'Select header style\' | translate" options="widgetHeaderClasses" ng-model="dashboard.widgetClasses">\n            </c8y-class-selector>\n          </div>\n          <div class="col-sm-6">\n            <label><small translate>Preview</small></label>\n            <div class="dashboard-preview-slot" ng-class="getPreviewClasses(dashboard)">\n              <div class="card card-dashboard" ng-style="getApplicableWidgetStyles(null, dashboard)">\n                <div class="card-header-actions">\n                  <div class="card-title">\n                    <span translate>Widget title</span>\n                  </div>\n                  <div class="header-actions">\n                    <div class="pull-right optionsBtn dropdown">\n                      <a href="" class="dropdown-toggle c8y-dropdown">\n                        <i c8y-icon="cog"></i>\n                      </a>\n                    </div>\n                  </div>\n                </div>\n                <div class="card-inner-scroll">\n                  <p style="padding: 15px" translate>Widget example content.</p>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="clearfix"></div>\n          <div class="col-sm-5">\n            <c8y-margins-editor label="\'Default widget margin\' | translate" single-value="true" ng-model="dashboard.widgetMargin" placeholder="defaultDashboardWidgetMargin">\n            </c8y-margins-editor>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n\n  <div class="modal-footer">\n    <button class="btn btn-primary" ng-click="save()" ng-disabled="forms.newDashboard.$invalid" translate>Save</button>\n    <button class="btn btn-default" ng-click="cancel()" translate>Cancel</button>\n  </div>\n</div>\n',e.put("core_dashboard2/dashboard/new.html",t),e.put("/apps/core/dashboard2/dashboard/new.html",t),t='<div class="modal-header">\n  <h3>\n    {{getConfigTitle() | translate}}\n  </h3>\n</div>\n\n<div class="modal-body">\n\n  <div class="alert alert-warning" ng-hide="dashboards.length === 0">\n    <translate>There are no dashboards available</translate>\n  </div>\n\n  <table class="table">\n    <tr ng-repeat="dashboard in dashboards track by dashboard.id">\n      <th>\n        <i c8y-icon="{{dashboard.icon}}"></i>\n        {{dashboard.name}} <span class="label label-success" ng-show="dashboard.c8y_Report"> <translate>REPORT</translate></span>\n      </th>\n      <th class="text-right">\n        <a href="" ng-click="select(dashboard)" class="btn btn-xs btn-primary showOnHover">\n          <i c8y-icon="plus"></i> {{getConfigSelectLabel() | translate}}\n        </a>\n      </th>\n    </tr>\n  </table>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default" ng-click="cancel()" translate>Cancel</button>\n</div>\n',e.put("core_dashboard2/dashboard/select.html",t),e.put("/apps/core/dashboard2/dashboard/select.html",t),t='<div class="modal-header">\n  <h3>{{title | translate}}</h3>\n</div>\n\n<div class="modal-inner-scroll">\n<div class="modal-body" ng-init="forms = {}">\n  <form name="forms.componentForm" novalidate style="min-height: 300px">\n    <div class="form-group" style="position:relative;z-index:1000">\n      <label translate>Widget</label>\n      <ui-select ng-model="data.cmp" uis-open-close="onOpenClose(isOpen)">\n        <ui-select-match placeholder="{{\'Select widget\' | translate}}">\n          {{($select.selected.nameDisplay || $select.selected.name) | translate}}\n        </ui-select-match>\n        <ui-select-choices position="down" repeat="item in components | orderBy:orderWidgets | filter:noNewWidgets | filterByFields:$select.search:[\'name\',\'nameDisplay\',\'description\']:true">\n          <div>\n            <strong>{{(item.nameDisplay || item.name) | translate}}</strong>\n            <p>\n              <small class="text-muted">\n                {{getItemDescription(item) | translate}}\n              </small>\n            </p>\n          </div>\n        </ui-select-choices>\n      </ui-select>\n    </div>\n\n    <div class="form-group" ng-show="data.cmp">\n      <label translate>Title</label>\n      <input class="form-control" ng-model="component.title" required>\n    </div>\n\n    <div class="form-group" ng-if="data.cmp && !componentOptions.noDeviceTarget" ng-style="{height: hideTarget && \'0\', overflow: \'hidden\'}">\n      <label translate>Target assets or devices</label>\n      <c8y-device-selector-combo parent="rootId" selected-child-device="_config.device" groups-selectable="componentOptions.groupsSelectable">\n      </c8y-device-selector-combo>\n    </div>\n\n    <div ng-include="data.cmp.configTemplateUrl">\n    </div>\n\n    <div ng-if="showVisualConfig">\n      <hr>\n      <button type="button" class="btn-toggle-panel" ng-click="styleCollapsed = !styleCollapsed" ng-class="{\'open\': styleCollapsed}">{{\'Customize widget style\' | translate}} <i c8y-icon="chevron-down"></i>\n      </button>\n\n      <div uib-collapse="!styleCollapsed">\n        <hr>\n        <div class="row">\n          <div class="col-sm-6">\n            <c8y-class-selector label="\'Content style\' | translate" placeholder="\'Select content style\' | translate" options="widgetContentClasses" placeholder-option="dashboardWidgetContentOption" ng-model="component.classes">\n            </c8y-class-selector>\n\n            <c8y-class-selector label="\'Header style\' | translate" placeholder="\'Select header style\' | translate" options="widgetHeaderClasses" placeholder-option="dashboardWidgetHeaderOption" ng-model="component.classes">\n            </c8y-class-selector>\n          </div>\n\n          <div class="col-sm-6">\n            <label><small translate>Preview</small></label>\n            <div class="dashboard-preview-slot" ng-class="getPreviewClasses(component, dashboard)" ng-style="getApplicableDashboardStyles(dashboard)">\n              <div class="panel panel-dashboard" ng-style="getApplicableWidgetStyles(component, dashboard)">\n                <div class="panel-heading">\n                  <span translate>Widget title</span>\n                  <div class="pull-right optionsBtn dropdown">\n                    <a href="" class="btnIcon dropdown-toggle">\n                      <i c8y-icon="ellipsis-v"></i>\n                    </a>\n                  </div>\n                </div>\n                <div class="panel-body">\n                  <p style="padding: 15px" translate>Widget example content.</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-primary" ng-click="save()" ng-disabled="forms.componentForm.$invalid || targetNotSelectedValidation()" translate>\n    Save\n  </button>\n  <button class="btn btn-default" ng-click="cancel()" translate>Cancel</button>\n</div>\n',e.put("core_dashboard2/dashboardWidget/config.html",t),e.put("/apps/core/dashboard2/dashboardWidget/config.html",t),t='<div class="card card-dashboard grid-stack-item-content" ng-class="getApplicableWidgetClasses(child, $parent.dashboard)" ng-style="getApplicableWidgetStyles(child, $parent.dashboard)">\n    <div class="card-header-actions" ng-class="{\'draggableCursor drag-handle \': !$parent.isFrozen && !child._isFrozen}">\n      <div class="card-title">\n        <!-- <div ng-show="!$parent.isFrozen && !child._isFrozen"><i c8y-icon="ellipsis-v"></i></div> -->\n        <span ng-bind-html="getTranslatedChildTitle(child)" title="{{getTranslatedChildTitle(child)}}"></span>\n      </div>\n      <div class="header-actions">\n        <div class="optionsBtn dropdown" ng-if="!$parent.isFrozen && !child._isFrozen && !child._hideOptions" uib-dropdown>\n\n          <a href="" class="btnIcon dropdown-toggle c8y-dropdown" uib-dropdown-toggle>\n            <i c8y-icon="cog"></i>\n          </a>\n\n          <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n            <li>\n              <a href="" ng-click="editChild(child)">\n                <i c8y-icon="pencil"></i> <translate>Edit</translate>\n              </a>\n            </li>\n            <li>\n              <a href="" ng-click="removeChild(child)">\n                <i c8y-icon="trash"></i> <translate>Remove</translate>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n     </div>\n\n    <div class="card-inner-scroll" ng-include="child.templateUrl">\n    </div>\n</div>\n',e.put("core_dashboard2/dashboardWidget/dashboardChild.html",t),e.put("/apps/core/dashboard2/dashboardWidget/dashboardChild.html",t),t='<label><small ng-bind="vm.label | translate"></small></label>\n<div class="dashboard-preview-list">\n  <label class="dashboard-preview-item list-group-item" ng-repeat="option in vm.options">\n    <input type="radio" ng-checked="option.class === vm.selectedOption.class" ng-click="vm.onOptionClicked(option)">\n\n    <div class="preview-label">\n      <span ng-bind-html="option.label"></span>&nbsp;\n      <small ng-show="option === vm.placeholderOption" class="text-muted">\n        <em translate>Dashboard default</em>\n      </small>&nbsp;\n      <small ng-show="option.description" ng-bind-html="option.description">\n      </small>\n    </div>\n  </label>\n</div>\n',e.put("core_dashboard2/visualConfig/classSelector.html",t),e.put("/apps/core/dashboard2/visualConfig/classSelector.html",t),t='<form name="marginsForm" novalidate>\n  <div ng-if="vm.singleValue">\n    <div class="form-group">\n      <label for="margin" ng-bind="(vm.label || vm.defaultLabels.single) | translate"></label>\n      <div class="input-group">\n        <input id="margin" name="margin" type="number" class="form-control" ng-model="vm.margins.margin" ng-change="vm.onMarginsChanged()" placeholder="{{vm.getPlaceholder()}}" ng-min="0">\n        <span class="input-group-addon">px</span>\n      </div>\n      <c8y-error-feedback field="marginsForm.margin"></c8y-error-feedback>\n    </div>\n  </div>\n  <div ng-if="!vm.singleValue">\n    <label>\n      <small translate>Widget margins</small>\n    </label>\n    <div class="row">\n      <div class="form-group col-md-6">\n        <label for="topMargin" ng-bind="(vm.labels.top || vm.defaultLabels.top) | translate"></label>\n        <div class="input-group">\n          <input id="topMargin" name="topMargin" type="number" class="form-control" ng-model="vm.margins.top" ng-change="vm.onMarginsChanged()" placeholder="{{vm.getPlaceholder(\'top\')}}" ng-min="0">\n          <span class="input-group-addon">px</span>\n        </div>\n        <c8y-error-feedback field="marginsForm.topMargin"></c8y-error-feedback>\n      </div>\n      <div class="form-group col-md-6">\n        <label for="bottomMargin" ng-bind="(vm.labels.bottom || vm.defaultLabels.bottom) | translate"></label>\n        <div class="input-group">\n          <input id="bottomMargin" name="bottomMargin" type="number" class="form-control" ng-model="vm.margins.bottom" ng-change="vm.onMarginsChanged()" placeholder="{{vm.getPlaceholder(\'bottom\')}}" ng-min="0">\n          <span class="input-group-addon">px</span>\n        </div>\n        <c8y-error-feedback field="marginsForm.bottomMargin"></c8y-error-feedback>\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-md-6">\n        <label for="leftMargin" ng-bind="(vm.labels.left || vm.defaultLabels.left) | translate"></label>\n        <div class="input-group">\n          <input id="leftMargin" name="leftMargin" type="number" class="form-control" ng-model="vm.margins.left" ng-change="vm.onMarginsChanged()" placeholder="{{vm.getPlaceholder(\'left\')}}" ng-min="0">\n          <span class="input-group-addon">px</span>\n        </div>\n        <c8y-error-feedback field="marginsForm.leftMargin"></c8y-error-feedback>\n      </div>\n      <div class="form-group col-md-6">\n        <label for="rightMargin" ng-bind="(vm.labels.right || vm.defaultLabels.right) | translate"></label>\n        <div class="input-group">\n          <input id="rightMargin" name="rightMargin" type="number" class="form-control" ng-model="vm.margins.right" ng-change="vm.onMarginsChanged()" placeholder="{{vm.getPlaceholder(\'right\')}}" ng-min="0">\n          <span class="input-group-addon">px</span>\n        </div>\n        <c8y-error-feedback field="marginsForm.rightMargin"></c8y-error-feedback>\n      </div>\n    </div>\n  </div>\n</form>\n',e.put("core_dashboard2/visualConfig/marginsEditor.html",t),e.put("/apps/core/dashboard2/visualConfig/marginsEditor.html",t)}angular.module("c8y.parts.dashboard2").run(["$templateCache",e])}();