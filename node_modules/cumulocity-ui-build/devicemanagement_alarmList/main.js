/* devicemanagement_alarmList 8.7.2 2017-08-02T09:53:39+00:00 2e289fd803cb (hotfix/8.7.2) tip */
angular.module("c8y.parts.alarmList",[]).config(["c8yNavigatorProvider","c8yViewsProvider","gettext",function(e,t,i){var a="bell",n="alarms",r=i("Overviews");e.addNavigation({parent:r,name:i("Alarms"),priority:2480,icon:a,path:n}),t.when("/alarms",{templateUrl:"devicemanagement_alarmList/views/index.html"}),t.when("/device/:deviceId",{name:i("Alarms"),priority:800,icon:a,templateUrl:"devicemanagement_alarmList/views/index.html"})}]),angular.module("c8y.parts.alarmList").controller("alarmListCtrl",["$scope","$location","$interval","$routeParams","c8yAlarms","c8yTitle","gettext",function(e,t,i,a,n,r,l){"use strict";function s(){r.changeTitle({title:l("Alarms")})}function c(){return a.deviceId?e.unresolved:void 0}function o(){e.filter={pageSize:100},e.unresolved=!0,a.deviceId&&(e.filter.source=a.deviceId,e.filter.pageSize=1e3),e.icon=n.icon,v.forEach(function(e){d[e.toLowerCase()]=!0}),s()}var v=n.severityList,d=e.activeSeverities={};e.isDevice=a.deviceId;o(),e.$watch("unresolved",function(t){e.filter.source||(e.filter.resolved=t?!t:void 0)}),e.clientSideUnresolved=c}]),function(){"use strict";function e(){function e(e,t,i){function a(){var t=e.filter;e.newFilter=t&&_.cloneDeep(t)||{},e.newFilter.severity=i.severity.toUpperCase()}e.severity=i.severity,a(),e.$watch("filter",function(e){a(e)},!0)}return{restrict:"E",templateUrl:"devicemanagement_alarmList/views/list.html",link:{pre:e},scope:!0}}angular.module("c8y.parts.alarmList").directive("c8yAlarmListDirective",e)}(),function(){"use strict";function e(e){var t;t='<div data-ng-controller="alarmListCtrl">\n  <div class="c8y-toolbar-spacer page-toolbar">\n    <div class="c8y-toolbar navbar navbar-default" c8y-affix>\n\n      <div class="navbar-header">\n        <button type="button" class="navbar-toggle collapsed" ng-click="isPageToolbarExpanded = !isPageToolbarExpanded" aria-expanded="false">\n          <span class="sr-only">Toggle Toolbar</span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n        </button>\n      </div>\n\n      <div id="page-toolbar" class="collapse navbar-collapse text-center" uib-collapse="!isPageToolbarExpanded">\n        <ul class="nav navbar-nav navbar-left">\n          <li class="btn-group">\n            <button type="button" class="btn btn-default" ng-model="activeSeverities.critical" ng-click="activeSeverities.critical = !activeSeverities.critical" ng-class="{\'active\': !activeSeverities.critical}">\n              <i c8y-icon="{{icon(\'critical\')}}" class="status critical"></i>\n              {{\'Critical\' | translate}}\n            </button>\n            <button type="button" class="btn btn-default" ng-model="activeSeverities.major" ng-click="activeSeverities.major = !activeSeverities.major" ng-class="{\'active\': !activeSeverities.major}">\n              <i c8y-icon="{{icon(\'major\')}}" class="status major"></i>\n              {{\'Major\' | translate}}\n            </button>\n            <button type="button" class="btn btn-default" ng-model="activeSeverities.minor" ng-click="activeSeverities.minor = !activeSeverities.minor" ng-class="{\'active\': !activeSeverities.minor}">\n              <i c8y-icon="{{icon(\'minor\')}}" class="status minor"></i>\n              {{\'Minor\' | translate}}\n            </button>\n            <button type="button" class="btn btn-default" ng-model="activeSeverities.warning" ng-click="activeSeverities.warning = !activeSeverities.warning" ng-class="{\'active\': !activeSeverities.warning}">\n              <i c8y-icon="{{icon(\'warning\')}}" class="status warning"></i>\n              {{\'Warning\' | translate}}\n            </button>\n            <!-- @TODO: this is placeholder button to show all alarm types\n            <button type="button" class="btn btn-default">\n              {{\'All\' | translate}}\n            </button>\n          -->\n          </li>\n        </ul>\n        <ul class="nav navbar-nav navbar-right">\n          <li class="navbar-form">\n            <label class="c8y-switch">\n              <input type="checkbox" ng-model="unresolved">\n              <span></span>\n              {{\'Only unresolved\' | translate}}\n            </label>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <c8y-alarm-list-directive severity="critical"></c8y-alarm-list-directive>\n  <c8y-alarm-list-directive severity="major"></c8y-alarm-list-directive>\n  <c8y-alarm-list-directive severity="minor"></c8y-alarm-list-directive>\n  <c8y-alarm-list-directive severity="warning"></c8y-alarm-list-directive>\n</div>\n',e.put("devicemanagement_alarmList/views/index.html",t),e.put("/apps/devicemanagement/alarmList/views/index.html",t),t='<c8y-alarm-list ng-show="activeSeverities[severity]" filter="newFilter" realtime="false" data-title="{text:(severity | humanize), icon:icon(severity), class:severity}" unresolved="clientSideUnresolved()"></c8y-alarm-list>\n',e.put("devicemanagement_alarmList/views/list.html",t),e.put("/apps/devicemanagement/alarmList/views/list.html",t)}angular.module("c8y.parts.alarmList").run(["$templateCache",e])}();