/* core_deviceControlMessage 8.7.2 2017-08-02T09:54:10+00:00 e22b35b1d531 (hotfix/8.7.2) tip */
!function(){"use strict";function e(e,t){e.add({name:"deviceControlMessageWidget",nameDisplay:t("Message sending"),description:t("Remotely send a message to a device"),templateUrl:"core_deviceControlMessage/views/deviceControlMessageWidget.html",options:{groupsSelectable:!1}})}angular.module("c8y.deviceControl.message",[]).config(["c8yComponentsProvider","gettext",e])}(),function(){"use strict";function e(e,t,n,i,s,o,c,a){function r(){i.detail(l()).then(function(t){e.device=n.getResData(t)})}function d(){return e.device&&s.supportsOperation(e.device,"c8y_Message")}function l(){var n=t.deviceId;return e.child.config&&e.child.config.device&&e.child.config.device.id&&(n=e.child.config.device.id),n}function g(e){var t=a.getString('Send message "{{msg}}"',{msg:e});o.create({deviceId:l(),description:t,c8y_Message:{text:e}}).then(function(){c.success(a.getString('Created operation: "{{description}}"!',{description:t}))})}e.message=g,e.device=void 0,e.$watch("device",function(){e.visible=d()}),r()}angular.module("c8y.deviceControl.message").controller("deviceControlMessageWidget",["$scope","$routeParams","c8yBase","c8yInventory","c8yDevices","c8yDeviceControl","c8yAlert","gettextCatalog",e])}(),function(){"use strict";function e(e){var t;t='<div ng-controller="deviceControlMessageWidget" style="padding: 10px">\n  <div ng-show="!visible" class="alert alert-warning" translate>Operation not supported by this device</div>\n  <div ng-show="visible">\n    <div class="input-group" style="margin:0 10px">\n      <input type="text" class="form-control" ng-model="str" placeholder="{{\'Message\' | translate}}">\n      <span class="input-group-btn">\n        <button class="btn btn-primary" ng-click="message(str)" ng-disabled="!str" translate>Send</button>\n      </span>\n    </div>\n  </div>\n</div>\n',e.put("core_deviceControlMessage/views/deviceControlMessageWidget.html",t),e.put("/apps/core/deviceControlMessage/views/deviceControlMessageWidget.html",t)}angular.module("c8y.deviceControl.message").run(["$templateCache",e])}();