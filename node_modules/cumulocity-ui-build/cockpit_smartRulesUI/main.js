/* cockpit_smartRulesUI 8.7.2 2017-08-02T09:53:16+00:00 820f9e1be195 (hotfix/8.7.2) tip */
!function(){"use strict";function e(e,n,a,i,r,c){function o(){s(),l(),m(),v()}function s(){a.addTitle(h,{data:["$routeParams","c8yBase","c8yDevices",function(e,n,t){var a=e.deviceId;return a?t.detailCached(a).then(n.getResData).then(t.properName).then(u):{}}]})}function u(e){return{title:e}}function l(){n.when("/"+t,{templateUrl:f+"list.html"}),y.forEach(d)}function d(e){n.when(e,{priority:1e3,name:c("Info"),icon:"asterisk",templateUrl:f+"list.html"})}function m(){e.addNavigation({parent:c("Configuration"),name:c("Smart Rules"),path:t,icon:"cogs",showIf:R})}function R(e,n,t){var a={hasInventoryReadAdminCreate:n.isAllowed({anyRole:["ROLE_INVENTORY_READ","ROLE_INVENTORY_ADMIN","ROLE_INVENTORY_CREATE"]}),hasSmartRuleReadAdmin:n.isAllowed({anyRole:["ROLE_SMARTRULE_READ","ROLE_SMARTRULE_ADMIN"]}),hasCepManagementAdmin:n.isAllowed({anyRole:["ROLE_CEP_MANAGEMENT_ADMIN"]}),isMicroserviceRunning:t.isMicroserviceAvailable()};return e.all(a).then(function(e){return e.hasInventoryReadAdminCreate&&e.isMicroserviceRunning&&(e.hasSmartRuleReadAdmin||e.hasCepManagementAdmin)})}function v(){i.addBreadcrumbs(h,{data:["$routeParams","c8yDevices",function(e,n){var t=e.deviceId;return n.getBreadcrumbsData(t)}]})}R.$inject=["$q","c8yPermissions","c8ySmartRulesAvailability"];var f=r,h="/device/:deviceId",y=[h];o()}function n(e,n){e.shouldShowSmartRules().then(function(e){e||n.removeNavigation(n.findNode(function(e){return e.path===t}))})}e.$inject=["c8yNavigatorProvider","c8yViewsProvider","c8yTitleProvider","c8yBreadcrumbsProvider","smartRulesTemplateBasePath","gettext"],n.$inject=["c8yUiUtil","c8yNavigator"],angular.module("c8y.smartRulesUI",["c8y.smartRules"]).config(e).run(n);var t="rules"}(),function(){"use strict";function e(e){}angular.module("c8y.smartRulesUI").run(["$templateCache",e])}();