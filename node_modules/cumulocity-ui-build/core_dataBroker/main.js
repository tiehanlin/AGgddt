/* core_dataBroker 8.7.2 2017-08-02T09:54:09+00:00 e22b35b1d531 (hotfix/8.7.2) tip */
!function(){"use strict";var n="connectors/";angular.module("c8y.dataBroker",[]).constant("dataBrokerConstants",{CONNECTOR_BASE_URL:n,ROUTE_NEW_CONNECTOR:n+"new",SUBSCRIPTION_BASE_URL:"subscriptions/"})}(),function(){"use strict";function n(n,t,e,r){function a(n){return n.listByUser().then(function(n){return!!_.find(n,{key:o})})}a.$inject=["c8yApplication"];var o="c8y-feature-broker";n.addNavigation({name:r("Data connectors"),parent:r("Data broker"),icon:"c8y-connector-out",priority:1e3,path:e.CONNECTOR_BASE_URL,showIf:a}),t.when(e.CONNECTOR_BASE_URL,{template:"<c8y-data-broker-connectors-list />"}),t.when(e.CONNECTOR_BASE_URL+":connectorId",{template:'<c8y-data-broker-connector-editor id="vm.connectorId" />',controller:["$routeParams",function(n){this.connectorId=n.connectorId}],controllerAs:"vm"}),t.when(e.CONNECTOR_BASE_URL+":connectorId/duplicate",{template:'<c8y-data-broker-connector-editor duplicate-id="vm.connectorId" />',controller:["$routeParams",function(n){this.connectorId=n.connectorId}],controllerAs:"vm"}),n.addNavigation({name:r("Data subscriptions"),parent:r("Data broker"),icon:"c8y-connector-in",priority:1e3,path:e.SUBSCRIPTION_BASE_URL,showIf:a}),t.when(e.SUBSCRIPTION_BASE_URL,{template:"<c8y-data-broker-subscriptions></c8y-data-broker-subscriptions>"})}n.$inject=["c8yNavigatorProvider","c8yViewsProvider","dataBrokerConstants","gettext"],angular.module("c8y.dataBroker").config(n)}(),function(){"use strict";function n(n,t,e,r,a,o,i,c){function s(){var n={params:r.pageSizeNoTotalFilter()},e=r.cleanListCallback("connectors",s,n.params);return t.get(F,n).then(e).then(function(n){return _.forEach(n,f),n})}function l(n){return[F,n].join("/")}function d(n){return t.get(l(n)).then(r.getResData).then(f)}function u(n){return t.get(l(n)).then(r.getResData).then(function(n){return n.name=c.getString("Duplicate of {{name}}",n),_.omit(n,V)})}function p(){return{name:"New data connector",instanceUrl:"",description:"",filters:[]}}function v(n){var t;return t=r.hasId(n)?m(r.getId(n),n):g(n)}function g(n){return t({method:"POST",url:F,data:n,headers:R}).then(r.getResData)}function m(n,e){var a=_.omit(e,["instanceUrl","tenantId","code"]);return t({method:"PUT",url:l(n),data:a,headers:R}).then(r.getResData)}function b(n){return n.status===O.ACTIVE.value?n.status=O.SUSPENDED.value:n.status=O.ACTIVE.value,_.unset(n,"visibleStatus"),m(n.id,{status:n.status}).then(function(t){n.status=t.status,f(n)})}function f(n){return n.visibleStatus=y(n),n}function y(n){var t={};t[O.WAITING.value]=L.WAITING,t[O.ACTIVE.value]={},t[O.ACTIVE.value][$.ACTIVE.value]=L.ACTIVE,t[O.ACTIVE.value][$.SUSPENDED.value]=L.PENDING,t[O.SUSPENDED.value]=L.SUSPENDED;var e=t[n.status];return _.get(e,n.destinationStatus)||e}function S(n){var t={};t[O.WAITING.value]=i("Connector not bootstrapped yet"),t[O.ACTIVE.value]={},t[O.ACTIVE.value][$.ACTIVE.value]=i("Connector is working"),t[O.ACTIVE.value][$.SUSPENDED.value]=i("Subscription in destination tenant disabled"),t[O.SUSPENDED.value]={},t[O.SUSPENDED.value][$.WAITING.value]=i("Connector not bootstrapped but suspended by source tenant"),t[O.SUSPENDED.value][$.ACTIVE.value]=i("Connector suspended by source tenant"),t[O.SUSPENDED.value][$.SUSPENDED.value]=i("Subscription in destination tenant disabled and then connector suspended by source tenant");var e=t[n.status],r=n.status===O.SUSPENDED.value?a.getTranslatedServerMessage(n.suspendReason):void 0;return r||_.get(e,n.destinationStatus)||e}function h(n){return t({method:"DELETE",url:l(n)})}function T(t,e){var r=n.when();return t.id?r=m(t.id,{name:e}).then(function(n){return t.name=e,n}):t.name=e,r}function E(n){var t=_.cloneDeep(n);return t.filters=_.map(t.filters,function(n){return n.apis=_.transform(n.apis,function(n,t){n[t]=!0},{}),n.fragmentsToFilter=C(n.fragmentsToFilter),n.copyAllFragments=_.isNull(n.fragmentsToCopy)||_.isUndefined(n.fragmentsToCopy),n.fragmentsToCopy=C(n.fragmentsToCopy),n.selectedGroupOrDevice=A(n),n}),t}function C(n){var t=n||[];return t.length||t.push(""),_.map(t,k)}function k(n){return{fragment:n}}function A(n){var t,e=n.deviceGroupId||n.sourceId;return e&&(t={id:e}),t}function x(n){var t=_.cloneDeep(n);return t.filters=_.map(t.filters,function(n){var t,e,r=N(n.apis),a=U(n.fragmentsToFilter),o=n.copyAllFragments?null:U(n.fragmentsToCopy),i=n.selectedGroupOrDevice;return i&&i.isDevice&&(t=i.id),i&&!i.isDevice&&(e=i.id),_.assign(n,{isOpen:void 0,apis:r,fragmentsToFilter:a,fragmentsToCopy:o,copyAllFragments:void 0,sourceId:t,deviceGroupId:e,selectedGroupOrDevice:void 0})}),t}function N(n){return _(n).map(function(n,t){return n?t:void 0}).compact().value()}function D(n){var t=U(_.get(n,"fragmentsToFilter",[])),e=U(_.get(n,"fragmentsToCopy",[])),r=_.get(n,"copyAllFragments"),a="",o="";return a=t.length>0?c.getString("Filter: {{fragments}}",{fragments:t.join(", ")}):c.getString("Filter: none"),o=r?c.getString("Copy: all"):e.length>0?c.getString("Copy: {{fragments}}",{fragments:e.join(", ")}):c.getString("Copy: standard only"),[a,o].join("; ")}function U(n){return _(n).map("fragment").compact().value()}function w(){var n=o.CONNECTOR_BASE_URL;e.path(n)}function I(n){var t="new",a=o.CONNECTOR_BASE_URL,i="";r.hasId(n)&&(t=r.getId(n),i="/duplicate"),e.path(a+t+i)}function B(n){var t=r.getId(n),a=o.CONNECTOR_BASE_URL+t;e.path(a)}var F=r.url("databroker/connectors"),R=r.contentHeaders("connector",!0),P=r.createEnum([{name:"ALARM",value:"alarm",label:i("Alarms"),icon:"bell"},{name:"EVENT",value:"event",label:i("Events"),icon:"rss"},{name:"MEASUREMENT",value:"measurement",label:i("Measurements"),icon:"bar-chart-o"},{name:"MANAGED_OBJECT",value:"managedObject",label:i("Managed objects"),icon:"cubes"},{name:"ALL",value:"*",hidden:!0}]),O=r.createEnum([{name:"ACTIVE",label:i("active")},{name:"SUSPENDED",label:i("suspended")},{name:"WAITING",label:i("waiting")}]),$=r.createEnum([{name:"ACTIVE",label:i("active")},{name:"SUSPENDED",label:i("suspended")},{name:"WAITING",label:i("waiting")}]),L=r.createEnum([{name:"ACTIVE",label:i("active")},{name:"PENDING",label:i("pending")},{name:"SUSPENDED",label:i("suspended")},{name:"WAITING",label:i("waiting")}]),V=["id","status","destinationStatus","instanceUrl","tenantId","username","password","code","self"];return{getConnectors:s,saveConnector:v,createConnector:g,updateConnector:m,toggleConnectorStatus:b,getConnector:d,getConnectorStub:p,getConnectorDuplicate:u,deleteConnector:h,updateConnectorName:T,convertToViewModel:E,convertToBackendModel:x,getFilterFragmentsSummary:D,navigateToList:w,navigateToNew:I,navigateToDetails:B,getMappedStatus:y,getStatusTooltip:S,APIS:P,STATUS:O,MAPPED_STATUS:L,DESTINATION_STATUS:$}}n.$inject=["$q","$http","$location","c8yBase","c8yLocales","dataBrokerConstants","gettext","gettextCatalog"],angular.module("c8y.dataBroker").factory("dataBrokerConnectorsSvc",n)}(),function(){"use strict";function n(n,t,e,r,a,o,i,c,s){function l(){d(),b()}function d(){t.getConnectors().then(function(n){S.connectors=n})}function u(){d()}function p(n){t.navigateToDetails(n)}function v(n){t.navigateToNew(n)}function g(n){return a({title:c("Confirm delete?"),body:s.getString('Do you really want to delete connector "{{name}}"?',n),status:"danger"}).then(_.partial(t.deleteConnector,n.id)).then(function(){o.success(c("Connector successfully deleted!")),d()})}function m(n,e){n.stopPropagation(),n.preventDefault(),t.toggleConnectorStatus(e)}function b(){i.addListener(T,h,i.realtimeActions().UPDATE,f),i.addListener(T,h,i.realtimeActions().CREATE,y),i.addListener(T,h,i.realtimeActions().DELETE,y),i.start(T,h),n.$on("$destroy",function(){i.stop(T,h)})}function f(n,e){var r=_.find(S.connectors,{id:e.id});_.assign(r,_.pick(e,"destinationStatus")),_.isUndefined(r)||_.set(r,"visibleStatus",t.getMappedStatus(r))}function y(){u()}var S=this,h="/brokerconnectors/*",T=n.$id;_.assign(S,{$onInit:l,reload:u,editConnector:p,duplicateConnector:v,deleteConnector:g,toggleConnectorStatus:m,documentationURL:r.getBaseUrl()+"/guides/users-guide/overview/",ROUTE_NEW_CONNECTOR:e.ROUTE_NEW_CONNECTOR,STATUS:t.STATUS,MAPPED_STATUS:t.MAPPED_STATUS,getStatusTooltip:t.getStatusTooltip})}n.$inject=["$scope","dataBrokerConnectorsSvc","dataBrokerConstants","c8yDocs","c8yModal","c8yAlert","c8yRealtime","gettext","gettextCatalog"],angular.module("c8y.dataBroker").component("c8yDataBrokerConnectorsList",{templateUrl:"core_dataBroker/connectors/connectors.html",controller:n,controllerAs:"vm"})}(),function(){"use strict";function n(n,t,e,r,a,o,i){function c(){s()}function s(){return n.all(_.transform(r.APIS.values(),function(n,t){var e=t.name+"S",r=_.get(a.ENTITIES[e],"staticSchemaPath");r&&(n[t.value]=a.another(r).list())},{})).then(function(n){w=n})}function l(n){n.inputDuplicateId&&I.inputDuplicateId?d(I.inputDuplicateId):n.inputId&&I.inputId?u(I.inputId):n.inputConnector&&I.inputConnector&&p(I.inputConnector)}function d(n){r.getConnectorDuplicate(n).then(r.convertToViewModel).then(function(n){I.connector=n})}function u(n){"new"===n?I.connector=r.getConnectorStub():r.getConnector(n).then(r.convertToViewModel).then(function(n){I.connector=n})}function p(n){I.connector=r.convertToViewModel(n)}function v(){I.connector.filters.push(g())}function g(){return{isOpen:!0,selectedGroupOrDevice:null,apis:{alarm:!0,event:!0,measurement:!0,managedObject:!0},fragmentsToFilter:[{fragment:""}],fragmentsToCopy:[{fragment:""}],copyAllFragments:!1,typeFilter:""}}function m(n){_.remove(I.connector.filters,n)}function b(n,t){n[t].push({fragment:""})}function f(n,t,e){1===n[t].length?_.set(n[t][0],"fragment",""):_.remove(n[t],e)}function y(n,t){n[t]=[],b(n,t)}function S(n){var t=function(n,t){return n?w[t]:[]},e=function(n){return n.keyPath.join(".")},r=function(n){return n.toLowerCase()};return _(n.apis).map(t).flatten().reject("computed").map(e).uniq().orderBy([r],["asc"]).value()}function h(n){return n.$valid&&T()&&E()}function T(){return I.connector.filters.length>=1}function E(){return _.every(I.connector.filters,function(n){return _.some(n.apis)})}function C(){var n,e=r.convertToBackendModel(I.connector);return n=t.onSave?I.onSave({connector:e}):k(e)}function k(n){return r.saveConnector(n).then(r.navigateToDetails).then(function(){o.success(i("Connector saved!"))})}function A(n){var e;return e=t.onSaveName?I.onSaveName({connector:I.connector,name:n}):x(I.connector,n)}function x(n,t){return r.updateConnectorName(n,t).then(function(){e.hasId(n)&&o.success(i("Connector name updated!"))})}function N(){var n,e=r.convertToBackendModel(I.connector);return n=t.onRemove?I.onRemove({connector:e}):D(e)}function D(n){return r.deleteConnector(n.id).then(r.navigateToList).then(function(){o.success(i("Connector removed!"))})}function U(){var n;return t.onCancel?n=I.onCancel():r.navigateToList(),n}var w,I=this;_.assign(I,{$onInit:c,$onChanges:l,addFilter:v,removeFilter:m,addFragment:b,removeFragment:f,clearFragments:y,getSuggestedFragments:S,saveName:A,canSave:h,save:C,remove:N,cancel:U,getFilterFragmentsSummary:r.getFilterFragmentsSummary,apis:r.APIS.values()})}n.$inject=["$q","$attrs","c8yBase","dataBrokerConnectorsSvc","c8yPropertiesLibrary","c8yAlert","gettext"],angular.module("c8y.dataBroker").component("c8yDataBrokerConnectorEditor",{bindings:{inputDuplicateId:"<duplicateId",inputId:"<id",inputConnector:"<connector",onSave:"&",onSaveName:"&",onRemove:"&",onCancel:"&"},templateUrl:"core_dataBroker/connectors/connectorEditor.html",controller:n,controllerAs:"vm"})}(),function(){"use strict";function n(n){var t=this;_.assign(t,{CONNECTOR_BASE_URL:"#"+n.CONNECTOR_BASE_URL})}n.$inject=["dataBrokerConstants"],angular.module("c8y.dataBroker").component("c8yDataBrokerConnectorTitle",{bindings:{name:"<",onSave:"&"},templateUrl:"core_dataBroker/connectors/connectorTitle.html",controller:n,controllerAs:"vm"})}(),function(){"use strict";function n(n,t,e,r,a,o,i,c){function s(){var n={fragmentType:E};return e.list(n).then(l)}function l(n){var e=_.map(n,function(n){var t=u(n.owner).then(function(t){return _.assign({},{userStatus:t.enabled,visibleUserStatus:g(t),userId:t.id,status:_.assign({},d(n.c8y_BrokerSource.status)),id:n.id,_c8y_BrokerSource:n.c8y_BrokerSource})});return t});return t.all(e)}function d(n){var t={};switch(n){case i.STATUS.ACTIVE.value:t={icon:"check",textClass:"text-success",text:c("Active")};break;case i.STATUS.SUSPENDED.value:t={icon:"exclamation-triangle",textClass:"text-warning",text:c("Inactive")};break;case i.STATUS.WAITING.value:t={icon:"spinner",iconClass:"fa-spin",textClass:"text-warning",text:c("Waiting")}}return _.assign(t,{value:n}),t}function u(n){return r.detail(n).then(a.getResData)}function p(n,t){var e=t?r.enable(n):r.disable(n);return e.then(a.getResData)}function v(n){var t="_"+E;return _.set(n,E,null),e.save(_.pick(n,["id",E,t]))}function g(n){return c(n.enabled?"enabled":"disabled")}function m(){var t=a.cleanListCallback("newDeviceRequests",m,{});return n.get(h).then(t).then(b)}function b(n){return _(n).filter(k).map(function(n){return _.assign({},_.get(n,"customProperties.c8y_BrokerSource"),{status:T[n.status],type:n.type,id:n.id})}).value()}function f(t){var e=[h,t].join("/");return n.put(e,{status:T.ACCEPTED.name},{headers:a.contentHeaders("newDeviceRequest")})}function y(t){var e=[h,t].join("/");return n.delete(e)}function S(t){return n.post(h,{id:t,type:C},{headers:a.contentHeaders("newDeviceRequest")})}var h=a.url("devicecontrol/newDeviceRequests"),T=a.createEnum([{name:o.status.WAITING_FOR_CONNECTION,label:c("Waiting for connection")},{name:o.status.PENDING_ACCEPTANCE,label:c("Pending acceptance")},{name:o.status.ACCEPTED,label:c("Accepted")}]),E="c8y_BrokerSource",C="c8y_DataBroker",k={type:C},A={list:s,getUserDetails:u,updateUserStatus:p,listPending:m,acceptSubscription:f,discardSubscription:y,registerNewSubscription:S,NEW_DEVICE_REQUEST_STATUS:T,removeSubscription:v,getVisibleUserStatusText:g};return A}n.$inject=["$http","$q","c8yInventory","c8yUser","c8yBase","c8yDeviceRegistration","dataBrokerConnectorsSvc","gettext"],angular.module("c8y.dataBroker").factory("dataBrokerSubscriptionsSvc",n)}(),function(){"use strict";function n(n,t,e){function r(){_.assign(m,{toggleAddNewSubscriptionForm:c,NEW_DEVICE_REQUEST_STATUS:t.NEW_DEVICE_REQUEST_STATUS,isSubscriptionsListEmpty:g}),a(),s(),d()}function a(){i(),o()}function o(){return t.list().then(function(n){return m.subscriptions=n,n}).then(p)}function i(){return t.listPending().then(function(n){m.pendingSubscriptions=n})}function c(n){m.isShownAddNewSubscription=!n}function s(){e.addListener(b,f,e.realtimeActions().UPDATE,l),e.start(b,f),n.$on("$destroy",function(){e.stop(b,f)})}function l(n,e){if(e.status===t.NEW_DEVICE_REQUEST_STATUS.PENDING_ACCEPTANCE.value){var r=_.find(m.pendingSubscriptions,{id:e.id});_.assign(r,{status:t.NEW_DEVICE_REQUEST_STATUS[e.status]})}}function d(){e.addListener(b,y,e.realtimeActions().CREATE,u),e.start(b,y),n.$on("$destroy",function(){e.stop(b,y)})}function u(n,t){var e=!!_.find(m.pendingSubscriptions,{id:_.last(t.owner.split("_"))});e&&a()}function p(t){_.forEach(t,function(n){var t="/managedobjects/"+n.id,r=!!_.find(m.devicesSubscribedForRealtimeUpdates,{id:n.id});r||(e.addListener(b,t,e.realtimeActions().UPDATE,v),e.start(b,t),m.devicesSubscribedForRealtimeUpdates.push({id:n.id,realtimeUpdatePath:t}))}),n.$on("$destroy",function(){_.forEach(m.devicesSubscribedForRealtimeUpdates,function(n){e.stop(b,n.realtimeUpdatePath)})})}function v(n,t){var r=!!_.find(m.subscriptions,{id:t.id});if(r){if(!t.c8y_BrokerSource){var o=_.find(m.devicesSubscribedForRealtimeUpdates,{id:t.id});e.stop(b,o.realtimeUpdatePath),_.pull(m.devicesSubscribedForRealtimeUpdates,o)}a()}}function g(){return m.subscriptions.length<1&&m.pendingSubscriptions.length<1&&!m.isShownAddNewSubscription}var m=this,b=n.$id,f="/bootstrap",y="/managedobjects/*";_.assign(m,{$onInit:r,subscriptions:[],pendingSubscriptions:[],devicesSubscribedForRealtimeUpdates:[],isShownAddNewSubscription:!1,reload:a})}n.$inject=["$scope","dataBrokerSubscriptionsSvc","c8yRealtime"],angular.module("c8y.dataBroker").component("c8yDataBrokerSubscriptions",{templateUrl:"core_dataBroker/subscriptions/subscriptions.html",controller:n,controllerAs:"vm"})}(),function(){"use strict";function n(n,t,e,r,a){function o(o){return t({title:r("Confirm delete?"),body:a.getString('Do you really want to delete subscription "{{connectorName}}"?',_.get(o,"_c8y_BrokerSource")),status:"danger"}).then(_.partial(n.removeSubscription,o)).then(function(){return n.updateUserStatus(o.userId,!1)}).then(c.onReload).then(function(){e.success(r("Subscription removed successfully!"))})}function i(t,e){t.stopPropagation(),t.preventDefault(),n.updateUserStatus(e.userId,!e.userStatus).then(function(t){e.userStatus=t.enabled,e.visibleUserStatus=n.getVisibleUserStatusText(t)})}var c=this;_.assign(c,{removeSubscription:o,toggleSubscriptionStatus:i})}n.$inject=["dataBrokerSubscriptionsSvc","c8yModal","c8yAlert","gettext","gettextCatalog"],angular.module("c8y.dataBroker").component("c8yDataBrokerSubscription",{controller:n,controllerAs:"vm",templateUrl:"core_dataBroker/subscriptions/subscription.html",bindings:{acceptedSubscription:"<",onReload:"&"}})}(),function(){"use strict";function n(n,t,e){function r(){n.registerNewSubscription(a.code).then(function(){a.isShown=!1,a.code=""}).then(a.onReload).then(function(){t.add({text:e("New subscription code registered successfully!"),type:"success"})})}var a=this;_.assign(a,{addSubscription:r})}n.$inject=["dataBrokerSubscriptionsSvc","c8yAlert","gettext"],angular.module("c8y.dataBroker").component("c8yDataBrokerAddSubscription",{controller:n,controllerAs:"vm",templateUrl:"core_dataBroker/subscriptions/addSubscription.html",bindings:{onReload:"&",isShown:"="}})}(),function(){"use strict";function n(n,t,e,r,a){function o(){_.assign(v,{acceptSubscription:n.onAccept?v.onAccept:i,discardSubscription:n.onDiscard?v.onDiscard:c,NEW_DEVICE_REQUEST_STATUS:t.NEW_DEVICE_REQUEST_STATUS,isWaitingForConnection:s,isPendingAcceptance:l,isAccepted:d,getStatusText:u,getCode:p})}function i(n){t.acceptSubscription(n.id).then(v.onReload).then(function(){e.success(r("Accept operation completed successfully!"))})}function c(n){t.discardSubscription(n.id).then(v.onReload).then(function(){e.success(r("Discard operation completed successfully!"))})}function s(n){return _.get(n,"status.value")===v.NEW_DEVICE_REQUEST_STATUS.WAITING_FOR_CONNECTION.value}function l(n){return _.get(n,"status.value")===v.NEW_DEVICE_REQUEST_STATUS.PENDING_ACCEPTANCE.value}function d(n){return _.get(n,"status.value")===v.NEW_DEVICE_REQUEST_STATUS.ACCEPTED.value}function u(n){return a.getString("{{status | translate}} using code {{code}}",{status:n.status.label,code:p(n)})}function p(n){return n.connectorName||n.id}var v=this;_.assign(v,{$onInit:o})}n.$inject=["$attrs","dataBrokerSubscriptionsSvc","c8yAlert","gettext","gettextCatalog"],angular.module("c8y.dataBroker").component("c8yDataBrokerPendingSubscription",{controller:n,controllerAs:"vm",templateUrl:"core_dataBroker/subscriptions/pendingSubscription.html",bindings:{pendingSubscription:"<",onReload:"&",onAccept:"&?",onDiscard:"&?"}})}(),function(){"use strict";function n(n){var t;t='<c8y-ui-title-set>\r\n  <c8y-data-broker-connector-title name="vm.connector.name" on-save="vm.saveName(value)">\r\n  </c8y-data-broker-connector-title>\r\n</c8y-ui-title-set>\r\n\r\n<form name="connectorForm" class="row" novalidate>\r\n  <div class="col-md-8">\r\n    <div class="card">\r\n      <div class="card-block">\r\n        <div class="form-group">\r\n          <label for="instanceUrl" translate>\r\n            Target URL for data connector\r\n          </label>\r\n          <input id="instanceUrl" name="instanceUrl" type="text" class="form-control" ng-model="vm.connector.instanceUrl" placeholder="{{\'e.g. https://target-tenant.com\' | translate}}" ng-disabled="vm.connector.id" required>\r\n          <c8y-error-feedback field="connectorForm.instanceUrl">\r\n          </c8y-error-feedback>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n          <label for="description" translate>\r\n            Description\r\n          </label>\r\n          <textarea id="description" name="description" class="form-control" style="height:100px" ng-maxlength="1000" ng-model="vm.connector.description" placeholder="{{\'e.g. Forwarding measurements\' | translate}}">\r\n          </textarea>\r\n          <c8y-error-feedback field="connectorForm.description">\r\n          </c8y-error-feedback>\r\n        </div>\r\n      </div>\r\n      <fieldset style="margin-top: -20px">\r\n        <div class="legend form-block center" translate>\r\n          Data filters\r\n        </div>\r\n\r\n        <div class="alert alert-warning" ng-if="vm.connector.filters.length === 0" translate>\r\n          <strong>No data filters defined.</strong> Data filters define the set of data to be forwarded. You must set at least one filter.\r\n        </div>\r\n\r\n        <uib-accordion close-others="false">\r\n          <div uib-accordion-group ng-repeat="filter in vm.connector.filters" template-url="core_dataBroker/connectors/connectorFilterAccordionGroup.html" class="panel-default" is-open="filter.isOpen">\r\n            <uib-accordion-heading>\r\n\r\n              <div ng-if="filter.selectedGroupOrDevice.name" class="col-xs-4">\r\n                <div class="text-truncate">\r\n                  {{filter.selectedGroupOrDevice.name}}\r\n                </div>\r\n              </div>\r\n              <div ng-if="!filter.selectedGroupOrDevice.name" class="col-xs-4" translate>\r\n                All groups and devices\r\n              </div>\r\n\r\n              <div class="col-xs-6">\r\n                <div class="text-muted text-truncate" title="{{vm.getFilterFragmentsSummary(filter)}}">\r\n                  <i c8y-icon="filter"></i>\r\n                  <span ng-bind="vm.getFilterFragmentsSummary(filter)"></span>\r\n                </div>\r\n              </div>\r\n\r\n              <div class="col-xs-2 text-right">\r\n                <a class="showOnHover" style="font-size: 16px; line-height:14px" href="" ng-click="vm.removeFilter(filter)" uib-tooltip="{{\'Remove\' | translate}}">\r\n                  <i c8y-icon="minus-circle" class="text-muted"></i>\r\n                </a>\r\n                &nbsp;\r\n                <i c8y-icon="chevron-down" ng-if="!filter.isOpen"></i>\r\n                <i c8y-icon="chevron-up" ng-if="filter.isOpen"></i>\r\n              </div>\r\n            </uib-accordion-heading>\r\n\r\n            <div class="row">\r\n              <div class="col-md-2 text-right">\r\n                <label translate>\r\n                  Group or device\r\n                </label>\r\n              </div>\r\n              <div class="col-md-10">\r\n                <c8y-device-selector-combo selected-child-device="filter.selectedGroupOrDevice" groups-selectable="true" empty-selection-available="true" empty-selection-icon="\'object-group\'" empty-selection-label="\'All\' | translate">\r\n                </c8y-device-selector-combo>\r\n              </div>\r\n            </div>\r\n            <hr>\r\n\r\n            <div class="row">\r\n              <div class="col-md-2 text-right">\r\n                <label translate>\r\n                  API\r\n                </label>\r\n                <p class="text-muted small" translate>\r\n                  Select at least one\r\n                </p>\r\n              </div>\r\n              <div class="col-md-10">\r\n                <span class="checkbox-inline" ng-repeat="api in vm.apis" ng-if="!api.hidden">\r\n                  <div class="text-center">\r\n                    <i c8y-icon="{{api.icon}}"></i><br>\r\n                    <span ng-bind="api.label | translate"></span>\r\n                    <label class="c8y-checkbox">\r\n                      <input type="checkbox" ng-model="filter.apis[api.value]">\r\n                      <span></span>\r\n                    </label>\r\n                  </div>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <hr>\r\n\r\n            <div class="row fragments">\r\n              <div class="col-md-2 text-right">\r\n                <label translate>\r\n                  Fragments to filter\r\n                </label>\r\n              </div>\r\n              <div class="col-md-10">\r\n                <div class="row" ng-repeat="fragmentToFilter in filter.fragmentsToFilter">\r\n                  <ng-form name="fragmentToFilterForm">\r\n                    <div class="col-xs-12">\r\n                      <div class="form-group">\r\n                        <label class="visible-sm visible-xs" translate>Fragment</label>\r\n                        <div class="input-group">\r\n\r\n                        <input name="fragment" type="text" class="form-control" ng-model="fragmentToFilter.fragment" placeholder="{{\'e.g. c8y_FragmentToFilter\' | translate}}" uib-typeahead="suggestedFragment as suggestedFragment for suggestedFragment in vm.getSuggestedFragments(filter) | filter:$viewValue" typeahead-show-hint="true" typeahead-min-length="0">\r\n                        <div class="input-group-btn" style="min-width: 83px">\r\n                          <button class="btn btn-link btn-danger" ng-disabled="filter.fragmentsToFilter.length === 1 && !fragmentToFilter.fragment" ng-click="vm.removeFragment(filter, \'fragmentsToFilter\', fragmentToFilter)" uib-tooltip="{{\'Remove\' | translate}}">\r\n                            <i c8y-icon="minus-circle"></i>\r\n                          </button>\r\n                          <button class="btn btn-link btn-add" ng-if="$last" ng-click="vm.addFragment(filter, \'fragmentsToFilter\')" uib-tooltip="{{\'Add\' | translate}}">\r\n                            <i c8y-icon="plus-circle"></i>\r\n                          </button>\r\n                        </div>\r\n                        <c8y-error-feedback field="fragmentToFilterForm.fragment">\r\n                        </c8y-error-feedback>\r\n                      </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                  </ng-form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <hr>\r\n\r\n            <div class="row fragments">\r\n              <div class="col-md-2 text-right">\r\n                <label translate>\r\n                  Fragments to copy\r\n                </label>\r\n              </div>\r\n              <div class="col-md-10">\r\n                <div class="checkbox">\r\n                  <label>\r\n                    <input type="checkbox" ng-model="filter.copyAllFragments">\r\n                    <span translate>Copy all fragments</span>\r\n                  </label>\r\n                </div>\r\n                <div ng-repeat="fragmentToCopy in filter.fragmentsToCopy" class="row">\r\n                  <ng-form name="fragmentToCopyForm">\r\n                    <div class="col-xs-12">\r\n                      <div class="form-group">\r\n                        <label class="visible-sm visible-xs" translate>Fragment</label>\r\n                        <div class="input-group">\r\n                          <input name="fragment" type="text" class="form-control" ng-model="fragmentToCopy.fragment" placeholder="{{\'e.g. c8y_FragmentToCopy\' | translate}}" uib-typeahead="suggestedFragment as suggestedFragment for suggestedFragment in vm.getSuggestedFragments(filter) | filter:$viewValue" typeahead-show-hint="true" typeahead-min-length="0" ng-disabled="filter.copyAllFragments">\r\n                          <div class="input-group-btn" style="min-width: 83px">\r\n                            <button class="btn btn-link btn-danger" ng-disabled="filter.copyAllFragments || filter.fragmentsToCopy.length === 1 && !fragmentToCopy.fragment" ng-click="vm.removeFragment(filter, \'fragmentsToCopy\', fragmentToCopy)" uib-tooltip="{{\'Remove\' | translate}}">\r\n                              <i c8y-icon="minus-circle"></i>\r\n                            </button>\r\n\r\n                            <button class="btn btn-link btn-add hidden-xs hidden-sm" ng-if="$last" ng-disabled="filter.copyAllFragments" ng-click="vm.addFragment(filter, \'fragmentsToCopy\')" uib-tooltip="{{\'Add\' | translate}}">\r\n                              <i c8y-icon="plus-circle"></i>\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                        <c8y-error-feedback field="fragmentToCopyForm.fragment">\r\n                        </c8y-error-feedback>\r\n                      </div>\r\n                    </div>\r\n                  </ng-form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <hr>\r\n\r\n            <div class="row">\r\n              <div class="col-md-2 text-right">\r\n                <label translate>\r\n                  Type filter\r\n                </label>\r\n              </div>\r\n              <div class="col-md-10">\r\n                <div class="form-group">\r\n                  <input name="typeFilter" type="text" class="form-control" ng-model="filter.typeFilter" placeholder="{{\'e.g. c8y_Linux\' | translate}}">\r\n                  <c8y-error-feedback field="filterForm.typeFilter">\r\n                  </c8y-error-feedback>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </uib-accordion>\r\n\r\n        <a href="" class="btn-add-block" style="margin: 10px 15px; max-width: 100%; width:auto" ng-click="vm.addFilter()">\r\n          <i c8y-icon="plus-square"></i>\r\n          <translate>Add filter</translate>\r\n        </a>\r\n      </fieldset>\r\n\r\n      <div class="card-block bg-gray-lighter" ng-if="vm.connector.code">\r\n        <div class="form-group">\r\n          <label translate>\r\n            Security code\r\n          </label>\r\n          <span class="input-group" c8y-copy-to-clipboard>\r\n            <input c8y-copy-to-clipboard-input type="text" class="form-control" ng-model="vm.connector.code" readonly="readonly">\r\n            <span class="input-group-btn">\r\n              <button c8y-copy-to-clipboard-button class="btn btn-default">\r\n                <i c8y-icon="copy"></i>\r\n              </button>\r\n            </span>\r\n          </span>\r\n        </div>\r\n        <div class="text-info">\r\n          <i c8y-icon="info-circle"></i>\r\n          <span translate>Security code will be requested on the target tenant to establish connection.</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="text-center">\r\n      <button class="btn btn-primary" ng-disabled="!vm.canSave(connectorForm)" ng-click="vm.save()" translate>\r\n        Save\r\n      </button>\r\n      &nbsp;\r\n      <button class="btn btn-default" ng-if="!vm.connector.id" ng-click="vm.cancel()" translate>\r\n        Cancel\r\n      </button>\r\n      &nbsp;\r\n      <button class="btn btn-danger" ng-if="vm.connector.id" ng-click="vm.remove()" translate>\r\n        Remove\r\n      </button>\r\n    </div>\r\n  </div>\r\n</form>\r\n',n.put("core_dataBroker/connectors/connectorEditor.html",t),n.put("/apps/core/dataBroker/connectors/connectorEditor.html",t),t='\r\n<div tabindex="0" class="accordion-toggle interact" ng-click="toggleOpen()" uib-accordion-transclude="heading" style="padding: 10px 15px">\r\n  <div uib-accordion-header class="row" ng-class="{\'text-muted\': isDisabled}">\r\n    {{heading}}\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class="panel-collapse collapse" uib-collapse="!isOpen">\r\n  <div class="panel-body" ng-transclude></div>\r\n</div>\r\n',n.put("core_dataBroker/connectors/connectorFilterAccordionGroup.html",t),n.put("/apps/core/dataBroker/connectors/connectorFilterAccordionGroup.html",t),t='\n<c8y-ui-title-set title="\'Data connectors\' | translate"></c8y-ui-title-set>\n\n<div class="c8y-toolbar-spacer" ng-class="{\'page-toolbar\': !currentGroup}">\n  <div class="c8y-toolbar navbar navbar-default" c8y-affix>\n\n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle collapsed" ng-click="isPageToolbarExpanded = !isPageToolbarExpanded">\n        <span class="sr-only">Toggle Toolbar</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n    </div>\n\n    <div id="page-toolbar" class="navbar-collapse" uib-collapse="!isPageToolbarExpanded">\n      <ul class="nav navbar-nav navbar-right">\n        <li>\n          <a href="#{{vm.ROUTE_NEW_CONNECTOR}}" class="btn btn-link">\n            <i c8y-icon="plus"></i> {{\'Add data connector\' | translate}}\n          </a>\n        </li>\n        <li>\n          <button type="button" class="btn btn-link" ng-click="vm.reload()">\n            <i c8y-icon="refresh"></i> {{\'Reload\' | translate}}\n          </button>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div><!-- toolbar spacer -->\n\n\n<div class="c8y-empty-state text-center" ng-if="vm.connectors.length === 0" style="margin-top: 30px">\n  <h1 c8y-icon="c8y-connector-out c8y-icon-duocolor"></h1>\n  <h3 translate>No data connectors to display.</h3>\n  <p translate>Add your first data connector using the button on the toolbar.</p>\n  <p><small><span translate>Find out more on the <a ng-href="{{vm.documentationURL}}">User guide</a>.</span></small></p>\n</div>\n\n<div class="card-group interact-grid">\n  <div ng-if="vm.connectors.length > 0" ng-repeat="connector in vm.connectors |orderBy:\'name\'" class="col-xs-12 col-sm-4 col-md-3">\n    <div class="card">\n      <div class="card-header" ng-click="vm.editConnector(connector.id)" ng-init="waitingStatus = vm.MAPPED_STATUS.WAITING">\n        <h4 class="text-truncate card-title" title="{{connector.name}}">\n          <i c8y-icon="c8y-connector-out c8y-icon-duocolor" style="font-size:125%"></i>\n          <span>{{connector.name}}</span><br>\n          <small class="text-truncate text-muted" title="{{connector.instanceUrl}}">\n            {{connector.instanceUrl}}\n          </small>\n        </h4>\n      </div>\n      <hr>\n      <div class="card-block">\n        <span class="text-truncate-wrap">{{connector.description}}</span>\n\n        <div class="row">\n\n          <div class="col-xs-8">\n\n            <div class="status-toggle" ng-if="connector.visibleStatus.value === waitingStatus.value" style="line-height: 34px">\n              <i c8y-icon="circle-o-notch" class="fa-spin text-warning"></i>\n              <span class="text-warning">{{waitingStatus.label | translate}}</span>\n              <a href uib-tooltip="{{\'The target Url did not accept the connection yet\' | translate}}">\n                <i c8y-icon="question-circle-o"></i>\n              </a>\n            </div>\n\n            <div class="status-toggle" ng-if="connector.visibleStatus.value !== waitingStatus.value" ng-click="vm.toggleConnectorStatus($event, connector)" style="height: 34px">\n              <label class="c8y-switch">\n                <input type="checkbox" ng-checked="connector.visibleStatus.value === vm.MAPPED_STATUS.ACTIVE.value || connector.visibleStatus.value === vm.MAPPED_STATUS.PENDING.value">\n                <span></span>\n                <span>{{connector.visibleStatus.label | translate}}</span>\n              </label>\n              <a href uib-tooltip="{{vm.getStatusTooltip(connector) | translate}}" tooltip-append-to-body="true">\n                <i c8y-icon="question-circle-o"></i>\n              </a>\n            </div>\n          </div>\n\n          <div class="col-xs-4">\n            <div class="text-right" style="line-height: 34px">\n              <span translate>Filters</span>\n              <span class="badge bg-primary" ng-bind="::(connector.filters && connector.filters.length || 0)"></span>\n            </div>\n          </div>\n        </div>\n\n      </div>\n\n      <div class="card-actions">\n        <div class="dropdown settings" uib-dropdown>\n          <a class="dropdown-toggle c8y-dropdown" uib-dropdown-toggle ng-click="::$event.stopPropagation()">\n            <span><i c8y-icon="ellipsis-v"></i></span>\n          </a>\n          <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n            <li>\n              <a href="" ng-click="::$event.stopPropagation();vm.editConnector(connector.id)">\n                <i c8y-icon="edit"></i> <translate>Edit</translate>\n              </a>\n            </li>\n            <li>\n              <a href="" ng-click="::$event.stopPropagation();vm.duplicateConnector(connector)">\n                <i c8y-icon="clone"></i> <translate>Duplicate</translate>\n              </a>\n            </li>\n            <li>\n              <a href="" ng-click="::$event.stopPropagation();vm.deleteConnector(connector)">\n                <i c8y-icon="trash"></i> <translate>Delete</translate>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',
n.put("core_dataBroker/connectors/connectors.html",t),n.put("/apps/core/dataBroker/connectors/connectors.html",t),t='<div class="pull-right">\r\n  <a ng-href="{{vm.CONNECTOR_BASE_URL}}" class="btn btn-link" style="text-transform: none">\r\n    <i c8y-icon="cloud-upload"></i>\r\n    <span translate>All connectors</span>\r\n  </a>\r\n</div>\r\n<div>\r\n  <h1 class="title" style="display: block">\r\n    <c8y-inplace-input value="vm.name" on-save="vm.onSave({value: value})" ng-maxlength="50" data-required="true">\r\n    </c8y-inplace-input>\r\n  </h1>\r\n</div>\r\n',n.put("core_dataBroker/connectors/connectorTitle.html",t),n.put("/apps/core/dataBroker/connectors/connectorTitle.html",t),t='<div class="card card-highlight">\n  <div class="card-header">\n    <h4 class="card-title text-truncate" title="{{\'Subscription registration\' | translate}}">\n      <i c8y-icon="c8y-connector-in c8y-icon-duocolor"></i>\n      <span>{{\'Create new subscription\' | translate}}</span>\n    </h4>\n  </div>\n  <hr>\n  <div class="card-block">\n    <p title="{{\'Register new subscription\' | translate}}" translate>\n      Insert code provided by source tenant.\n    </p>\n    <div class="input-group">\n      <input class="form-control" type="text" placeholder="{{\'Insert security code\' | translate}}" ng-model="vm.code"/>\n      <span class="input-group-btn">\n        <button class="btn btn-primary" ng-click="vm.addSubscription()" translate>Submit</button>\n      </span>\n    </div><br>\n    <small class="text-info help-text">\n      <i c8y-icon="info-circle"></i>\n      <span translate>Subscribed devices are charged as normal devices.</span>\n    </small>\n  </div>\n</div>\n',n.put("core_dataBroker/subscriptions/addSubscription.html",t),n.put("/apps/core/dataBroker/subscriptions/addSubscription.html",t),t='<div class="card">\n\n  <div class="card-header">\n    <h4 class="text-truncate card-title">\n      <span ng-if="vm.isWaitingForConnection(vm.pendingSubscription)">\n        <i c8y-icon="c8y-connector-in c8y-icon-duocolor" style="font-size: 125%"></i>\n        <span translate>New data subscription</span>\n      </span>\n      <span class="text-success" ng-if="vm.isPendingAcceptance(vm.pendingSubscription)">\n        <i c8y-icon="check" style="font-size: 125%"></i>\n        <span translate>Connection established</span>\n        <small style="padding-left: 28px" class="text-truncate text-muted">\n          {{vm.getCode(vm.pendingSubscription)}}\n        </small>\n      </span>\n      <span style="display:block" class="text-left" ng-if="vm.isAccepted(vm.pendingSubscription)">\n        <i c8y-icon="c8y-connector-in c8y-icon-duocolor" style="font-size: 125%"></i>\n        <span>{{vm.pendingSubscription.connectorName}}</span>\n        <small style="padding-left: 28px" class="text-truncate text-muted">\n            {{vm.pendingSubscription.domain}}\n        </small>\n      </span>\n    </h4>\n  </div>\n  <hr>\n  <div class="card-block">\n    <div class="text-center" ng-if="vm.isWaitingForConnection(vm.pendingSubscription)">\n      <p class="text-primary">{{vm.getStatusText(vm.pendingSubscription)}}</p>\n      <div class="progress">\n        <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">\n        </div>\n      </div>\n      <button class="btn btn-default" role="button" ng-click="vm.discardSubscription(vm.pendingSubscription)">\n        <translate>Cancel</translate>\n      </button>\n    </div>\n    <div ng-if="vm.isAccepted(vm.pendingSubscription)">\n      <p>{{vm.pendingSubscription.connectorDescription}}</p>\n      <small class="text-muted" translate>Waiting for data subscription setup to completeâ€¦</small>\n    </div>\n\n    <div class="text-center" ng-if="vm.isPendingAcceptance(vm.pendingSubscription)">\n      <p translate>Accept to finish data subscription setup, discard to remove it.</p>\n      <button class="btn btn-default" ng-click="vm.discardSubscription(vm.pendingSubscription)" translate>Discard</button>\n      <button class="btn btn-primary" ng-click="vm.acceptSubscription(vm.pendingSubscription)" translate>Accept</button>\n    </div>\n  </div>\n\n\n</div>\n',n.put("core_dataBroker/subscriptions/pendingSubscription.html",t),n.put("/apps/core/dataBroker/subscriptions/pendingSubscription.html",t),t='<div class="card" title="{{vm.acceptedSubscription._c8y_BrokerSource.connectorName}}">\n  <div class="card-header">\n    <h4 class="text-truncate card-title">\n      <i c8y-icon="c8y-connector-in c8y-icon-duocolor" style="font-size: 125%"></i>\n      <span>{{vm.acceptedSubscription._c8y_BrokerSource.connectorName}}</span>\n      <small class="text-truncate text-muted">\n        {{vm.acceptedSubscription._c8y_BrokerSource.domain}}\n      </small>\n    </h4>\n  </div>\n  <hr>\n  <div class="card-block">\n    <span class="text-truncate-wrap" title="{{vm.acceptedSubscription._c8y_BrokerSource.connectorDescription}}">{{vm.acceptedSubscription._c8y_BrokerSource.connectorDescription}}</span>\n    <div class="row">\n      <div class="col-xs-6" ng-click="vm.toggleSubscriptionStatus($event, vm.acceptedSubscription)" style="height:34px">\n        <label class="c8y-switch" title="{{\'Enable or disable data subscription\' | translate}}">\n          <input type="checkbox" ng-checked="vm.acceptedSubscription.userStatus">\n          <span></span>\n          {{vm.acceptedSubscription.visibleUserStatus | translate}}\n        </label>\n      </div>\n      <div class="col-xs-6">\n        <div class="text-right" style="line-height: 34px">\n          <span title="{{\'Source tenant status\' | translate}}" class="subscription-status-info" ng-class="vm.acceptedSubscription.status.textClass">\n            <i ng-class="vm.acceptedSubscription.status.iconClass" c8y-icon="{{vm.acceptedSubscription.status.icon}}"></i>\n            <span>{{vm.acceptedSubscription.status.text | translate}}</span>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="card-actions">\n    <div class="dropdown settings" uib-dropdown>\n      <a class="dropdown-toggle c8y-dropdown btn btn-link" uib-dropdown-toggle ng-click="::$event.stopPropagation()">\n        <span><i c8y-icon="ellipsis-v"></i></span>\n      </a>\n      <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n        <li>\n          <a href="" ng-click="vm.removeSubscription(vm.acceptedSubscription)">\n            <i c8y-icon="trash"></i>\n            <translate>Delete</translate>\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n',n.put("core_dataBroker/subscriptions/subscription.html",t),n.put("/apps/core/dataBroker/subscriptions/subscription.html",t),t='<div>\n  <c8y-ui-title-set title="\'Data subscriptions\' | translate"></c8y-ui-title-set>\n\n\n\n  <div class="c8y-toolbar-spacer" ng-class="{\'page-toolbar\': !currentGroup}">\n    <div class="c8y-toolbar navbar navbar-default" c8y-affix>\n\n      <div class="navbar-header">\n        <button type="button" class="navbar-toggle collapsed" ng-click="isPageToolbarExpanded = !isPageToolbarExpanded">\n          <span class="sr-only">Toggle Toolbar</span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n        </button>\n      </div>\n\n      <div id="page-toolbar" class="navbar-collapse" uib-collapse="!isPageToolbarExpanded">\n        <ul class="nav navbar-nav navbar-right">\n          <li>\n            <a class="btn btn-link" ng-click="vm.toggleAddNewSubscriptionForm(vm.isShownAddNewSubscription)">\n              <i c8y-icon="plus"></i> {{\'Add data subscription\' | translate}}\n            </a>\n          </li>\n          <li>\n            <button type="button" class="btn btn-link" ng-click="vm.reload()">\n              <i c8y-icon="refresh"></i> {{\'Reload\' | translate}}\n            </button>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div><!-- toolbar spacer -->\n\n\n  <div class="c8y-empty-state text-center" ng-if="vm.isSubscriptionsListEmpty()" style="margin-top: 30px">\n    <h1 c8y-icon="c8y-connector-in c8y-icon-duocolor"></h1>\n    <h3 translate>No data subscriptions to display.</h3>\n    <p translate>Add a data subscription using the button on the toolbar.</p>\n    <p><small><span translate>Find out more on the <a ng-href="{{vm.documentationURL}}">User guide</a>.</span></small></p>\n  </div>\n\n  <div class="card-group">\n    <!--new subscriptions component-->\n    <c8y-data-broker-add-subscription on-reload="vm.reload()" is-shown="vm.isShownAddNewSubscription" ng-if="vm.isShownAddNewSubscription" class="col-xs-12 col-sm-4 col-md-3"/>\n    <!--pending subscriptions component-->\n    <c8y-data-broker-pending-subscription pending-subscription="pendingSubscription" on-reload="vm.reload()" ng-if="vm.pendingSubscriptions.length > 0" ng-repeat="pendingSubscription in vm.pendingSubscriptions | orderBy:\'name\'" class="col-xs-12 col-sm-4 col-md-3"></c8y-data-broker-pending-subscription>\n    <!--subscription list component-->\n    <c8y-data-broker-subscription accepted-subscription="subscription" on-reload="vm.reload()" ng-if="vm.subscriptions.length > 0" ng-repeat="subscription in vm.subscriptions | orderBy:\'connectorName\'" class="col-xs-12 col-sm-4 col-md-3"></c8y-data-broker-subscription>\n  </div>\n\n</div>\n',n.put("core_dataBroker/subscriptions/subscriptions.html",t),n.put("/apps/core/dataBroker/subscriptions/subscriptions.html",t)}angular.module("c8y.dataBroker").run(["$templateCache",n])}();